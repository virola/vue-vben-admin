var NI=Object.defineProperty,DI=Object.defineProperties;var CI=Object.getOwnPropertyDescriptors;var Am=Object.getOwnPropertySymbols;var II=Object.prototype.hasOwnProperty,jI=Object.prototype.propertyIsEnumerable;var Pm=(g,y,u)=>y in g?NI(g,y,{enumerable:!0,configurable:!0,writable:!0,value:u}):g[y]=u,td=(g,y)=>{for(var u in y||(y={}))II.call(y,u)&&Pm(g,u,y[u]);if(Am)for(var u of Am(y))jI.call(y,u)&&Pm(g,u,y[u]);return g},Tm=(g,y)=>DI(g,CI(y));var Fl=(g,y,u)=>new Promise((c,i)=>{var l=b=>{try{v(u.next(b))}catch(E){i(E)}},f=b=>{try{v(u.throw(b))}catch(E){i(E)}},v=b=>b.done?c(b.value):Promise.resolve(b.value).then(l,f);v((u=u.apply(g,y)).next())});import{K as RI,a4 as BI,a as eb,b6 as LI,bk as zI,v as _l,L as FI,i as sr,al as rd,b$ as _I,aw as ld,ay as Gn,o as _n,h as Ni,F as wm,aB as kI,n as Ri,z as Hl,B as GI,t as UI,q as kl,k as nd,az as HI,j as sd,f5 as YI,b as XI,bG as WI,f as KI,a7 as Mm,N as VI,m as QI,aF as JI}from"./index.aad9d45b.js";import{D as ZI}from"./index.920d53d5.js";import{B as $I,b as qI}from"./index.bff3e46f.js";import{J as ej}from"./index.e5d92a35.js";import{P as tj}from"./index.8546a8ea.js";import"./useWindowSizeFn.9caca0dc.js";import"./FullscreenOutlined.cb46e37b.js";import"./index.01d106d6.js";import"./index.695eb06b.js";import"./useSize.902c4695.js";import"./eagerComputed.7044ccfc.js";import"./useContentViewHeight.aae08567.js";import"./ArrowLeftOutlined.28833b29.js";import"./index.9902cd67.js";import"./transButton.8bfe55da.js";const tb=Symbol("flow-chart");function rj(g){BI(tb,g)}function nj(){return RI(tb)}var Qt=(g=>(g.ZOOM_IN="zoomIn",g.ZOOM_OUT="zoomOut",g.RESET_ZOOM="resetZoom",g.UNDO="undo",g.REDO="redo",g.SNAPSHOT="snapshot",g.VIEW_DATA="viewData",g))(Qt||{});const oj=eb({name:"FlowChartToolbar",components:{Icon:LI,Divider:ZI,Tooltip:zI},props:{prefixCls:String},emits:["view-data"],setup(g,{emit:y}){const u=_l([{type:Qt.ZOOM_IN,icon:"codicon:zoom-out",tooltip:"\u7F29\u5C0F"},{type:Qt.ZOOM_OUT,icon:"codicon:zoom-in",tooltip:"\u653E\u5927"},{type:Qt.RESET_ZOOM,icon:"codicon:screen-normal",tooltip:"\u91CD\u7F6E\u6BD4\u4F8B"},{separate:!0},{type:Qt.UNDO,icon:"ion:arrow-undo-outline",tooltip:"\u540E\u9000",disabled:!0},{type:Qt.REDO,icon:"ion:arrow-redo-outline",tooltip:"\u524D\u8FDB",disabled:!0},{separate:!0},{type:Qt.SNAPSHOT,icon:"ion:download-outline",tooltip:"\u4E0B\u8F7D"},{type:Qt.VIEW_DATA,icon:"carbon:document-view",tooltip:"\u67E5\u770B\u6570\u636E"}]),{logicFlow:c}=nj();function i({data:{undoAble:f,redoAble:v}}){const b=sr(u),E=b.findIndex(A=>A.type===Qt.UNDO),S=b.findIndex(A=>A.type===Qt.REDO);E!==-1&&(sr(u)[E].disabled=!f),S!==-1&&(sr(u)[S].disabled=!v)}const l=f=>{const v=sr(c);if(!!v)switch(f.type){case Qt.ZOOM_IN:v.zoom();break;case Qt.ZOOM_OUT:v.zoom(!0);break;case Qt.RESET_ZOOM:v.resetZoom();break;case Qt.UNDO:v.undo();break;case Qt.REDO:v.redo();break;case Qt.SNAPSHOT:v.getSnapshot();break;case Qt.VIEW_DATA:y("view-data");break}};return FI(()=>Fl(this,null,function*(){var f;sr(c)&&(yield rd(),(f=sr(c))==null||f.on("history:change",i))})),_I(()=>{var f;(f=sr(c))==null||f.off("history:change",i)}),{toolbarItemList:u,onControl:l}}}),ij=["onClick"];function aj(g,y,u,c,i,l){const f=Gn("Icon"),v=Gn("Tooltip"),b=Gn("Divider");return _n(),Ni("div",{class:kl([`${g.prefixCls}-toolbar`,"flex items-center px-2 py-1"])},[(_n(!0),Ni(wm,null,kI(g.toolbarItemList,E=>(_n(),Ni(wm,{key:E.type},[Ri(v,HI({placement:"bottom"},E.disabled?{visible:!1}:{}),{title:Hl(()=>[GI(UI(E.tooltip),1)]),default:Hl(()=>[E.icon?(_n(),Ni("span",{key:0,class:kl(`${g.prefixCls}-toolbar__icon`),onClick:S=>g.onControl(E)},[Ri(f,{icon:E.icon,class:kl(E.disabled?"cursor-not-allowed disabeld":"cursor-pointer")},null,8,["icon","class"])],10,ij)):nd("",!0)]),_:2},1040),E.separate?(_n(),sd(b,{key:0,type:"vertical"})):nd("",!0)],64))),128))],2)}var uj=ld(oj,[["render",aj]]),Ke={exports:{}};(function(g,y){(function(c,i){g.exports=i()})(window,function(){return function(u){var c={};function i(l){if(c[l])return c[l].exports;var f=c[l]={i:l,l:!1,exports:{}};return u[l].call(f.exports,f,f.exports,i),f.l=!0,f.exports}return i.m=u,i.c=c,i.d=function(l,f,v){i.o(l,f)||Object.defineProperty(l,f,{enumerable:!0,get:v})},i.r=function(l){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(l,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(l,"__esModule",{value:!0})},i.t=function(l,f){if(f&1&&(l=i(l)),f&8||f&4&&typeof l=="object"&&l&&l.__esModule)return l;var v=Object.create(null);if(i.r(v),Object.defineProperty(v,"default",{enumerable:!0,value:l}),f&2&&typeof l!="string")for(var b in l)i.d(v,b,function(E){return l[E]}.bind(null,b));return v},i.n=function(l){var f=l&&l.__esModule?function(){return l.default}:function(){return l};return i.d(f,"a",f),f},i.o=function(l,f){return Object.prototype.hasOwnProperty.call(l,f)},i.p="",i(i.s=215)}([function(u,c,i){(function(l,f){i.d(c,"a",function(){return I}),i.d(c,"b",function(){return ri}),i.d(c,"c",function(){return ln}),i.d(c,"d",function(){return fr}),i.d(c,"e",function(){return Ye}),i.d(c,"f",function(){return De}),i.d(c,"g",function(){return Li}),i.d(c,"h",function(){return Qn}),i.d(c,"i",function(){return nt}),i.d(c,"j",function(){return Sr}),i.d(c,"k",function(){return Xr}),i.d(c,"l",function(){return Cr}),i.d(c,"m",function(){return xr}),i.d(c,"n",function(){return ps}),i.d(c,"o",function(){return de}),i.d(c,"p",function(){return bs}),i.d(c,"q",function(){return ti}),i.d(c,"r",function(){return ys}),i.d(c,"s",function(){return wr}),i.d(c,"t",function(){return Vi}),i.d(c,"u",function(){return ss}),i.d(c,"v",function(){return vs}),i.d(c,"w",function(){return gs}),i.d(c,"x",function(){return xn}),i.d(c,"y",function(){return jr}),i.d(c,"z",function(){return Ut}),i.d(c,"A",function(){return vr}),i.d(c,"B",function(){return Sn}),i.d(c,"C",function(){return mt}),i.d(c,"D",function(){return Os}),i.d(c,"E",function(){return ei}),i.d(c,"F",function(){return cs}),i.d(c,"G",function(){return ls}),i.d(c,"H",function(){return Hi}),i.d(c,"I",function(){return Ss}),i.d(c,"J",function(){return Ar}),i.d(c,"K",function(){return te}),i.d(c,"L",function(){return ms}),i.d(c,"M",function(){return Pn});var v="An invariant failed, however the error is obfuscated because this is a production build.",b=[];Object.freeze(b);var E={};Object.freeze(E);function S(){return++Ge.mobxGuid}function A(d){throw w(!1,d),"X"}function w(d,h){if(!d)throw new Error("[mobx] "+(h||v))}function T(d){var h=!1;return function(){if(!h)return h=!0,d.apply(this,arguments)}}var C=function(){};function j(d){var h=[];return d.forEach(function(O){h.indexOf(O)===-1&&h.push(O)}),h}function L(d){return d!==null&&typeof d=="object"}function k(d){if(d===null||typeof d!="object")return!1;var h=Object.getPrototypeOf(d);return h===Object.prototype||h===null}function U(d){if(Z(d)||Ut(d))return d;if(Array.isArray(d))return new Map(d);if(k(d)){var h=new Map;for(var O in d)h.set(O,d[O]);return h}else return A("Cannot convert to map from '"+d+"'")}function X(d,h,O){Object.defineProperty(d,h,{enumerable:!1,writable:!0,configurable:!0,value:O})}function le(d,h,O){Object.defineProperty(d,h,{enumerable:!1,writable:!1,configurable:!0,value:O})}function ie(d,h){var O=Object.getOwnPropertyDescriptor(d,h);return!O||O.configurable!==!1&&O.writable!==!1}function $(d,h){var O="isMobX"+d;return h.prototype[O]=!0,function(N){return L(N)&&N[O]===!0}}function Z(d){return d instanceof Map}function se(d){return d instanceof Set}function z(d){var h=new Set;for(var O in d)h.add(O);return Object.getOwnPropertySymbols(d).forEach(function(N){Object.getOwnPropertyDescriptor(d,N).enumerable&&h.add(N)}),Array.from(h)}function H(d){return d&&d.toString?d.toString():new String(d).toString()}function R(d){return d===null?null:typeof d=="object"?""+d:d}var M=typeof Reflect!="undefined"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols?function(d){return Object.getOwnPropertyNames(d).concat(Object.getOwnPropertySymbols(d))}:Object.getOwnPropertyNames,I=Symbol("mobx administration"),K=function(){function d(h){h===void 0&&(h="Atom@"+S()),this.name=h,this.isPendingUnobservation=!1,this.isBeingObserved=!1,this.observers=new Set,this.diffValue=0,this.lastAccessedBy=0,this.lowestObserverState=qe.NOT_TRACKING}return d.prototype.onBecomeObserved=function(){this.onBecomeObservedListeners&&this.onBecomeObservedListeners.forEach(function(h){return h()})},d.prototype.onBecomeUnobserved=function(){this.onBecomeUnobservedListeners&&this.onBecomeUnobservedListeners.forEach(function(h){return h()})},d.prototype.reportObserved=function(){return ki(this)},d.prototype.reportChanged=function(){Pt(),es(this),hr()},d.prototype.toString=function(){return this.name},d}(),q=$("Atom",K);function de(d,h,O){h===void 0&&(h=C),O===void 0&&(O=C);var N=new K(d);return h!==C&&ds(N,h),O!==C&&ei(N,O),N}function Te(d,h){return d===h}function ve(d,h){return mo(d,h)}function Oe(d,h){return mo(d,h,1)}function Ae(d,h){return Object.is(d,h)}var Ee={identity:Te,structural:ve,default:Ae,shallow:Oe};/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Ne=function(d,h){return Ne=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(O,N){O.__proto__=N}||function(O,N){for(var F in N)N.hasOwnProperty(F)&&(O[F]=N[F])},Ne(d,h)};function ze(d,h){Ne(d,h);function O(){this.constructor=d}d.prototype=h===null?Object.create(h):(O.prototype=h.prototype,new O)}var Qe=function(){return Qe=Object.assign||function(h){for(var O,N=1,F=arguments.length;N<F;N++){O=arguments[N];for(var V in O)Object.prototype.hasOwnProperty.call(O,V)&&(h[V]=O[V])}return h},Qe.apply(this,arguments)};function Be(d){var h=typeof Symbol=="function"&&d[Symbol.iterator],O=0;return h?h.call(d):{next:function(){return d&&O>=d.length&&(d=void 0),{value:d&&d[O++],done:!d}}}}function Se(d,h){var O=typeof Symbol=="function"&&d[Symbol.iterator];if(!O)return d;var N=O.call(d),F,V=[],fe;try{for(;(h===void 0||h-- >0)&&!(F=N.next()).done;)V.push(F.value)}catch(Pe){fe={error:Pe}}finally{try{F&&!F.done&&(O=N.return)&&O.call(N)}finally{if(fe)throw fe.error}}return V}function Re(){for(var d=[],h=0;h<arguments.length;h++)d=d.concat(Se(arguments[h]));return d}var He=Symbol("mobx did run lazy initializers"),Y=Symbol("mobx pending decorators"),W={},ee={};function he(d,h){var O=h?W:ee;return O[d]||(O[d]={configurable:!0,enumerable:h,get:function(){return xe(this),this[d]},set:function(N){xe(this),this[d]=N}})}function xe(d){var h,O;if(d[He]!==!0){var N=d[Y];if(N){X(d,He,!0);var F=Re(Object.getOwnPropertySymbols(N),Object.keys(N));try{for(var V=Be(F),fe=V.next();!fe.done;fe=V.next()){var Pe=fe.value,Ue=N[Pe];Ue.propertyCreator(d,Ue.prop,Ue.descriptor,Ue.decoratorTarget,Ue.decoratorArguments)}}catch(st){h={error:st}}finally{try{fe&&!fe.done&&(O=V.return)&&O.call(V)}finally{if(h)throw h.error}}}}}function pe(d,h){return function(){var N,F=function(fe,Pe,Ue,st){if(st===!0)return h(fe,Pe,Ue,fe,N),null;if(!Object.prototype.hasOwnProperty.call(fe,Y)){var ft=fe[Y];X(fe,Y,Qe({},ft))}return fe[Y][Pe]={prop:Pe,propertyCreator:h,descriptor:Ue,decoratorTarget:fe,decoratorArguments:N},he(Pe,d)};return Fe(arguments)?(N=b,F.apply(null,arguments)):(N=Array.prototype.slice.call(arguments),F)}}function Fe(d){return(d.length===2||d.length===3)&&(typeof d[1]=="string"||typeof d[1]=="symbol")||d.length===4&&d[3]===!0}function et(d,h,O){return xn(d)?d:Array.isArray(d)?mt.array(d,{name:O}):k(d)?mt.object(d,void 0,{name:O}):Z(d)?mt.map(d,{name:O}):se(d)?mt.set(d,{name:O}):d}function We(d,h,O){return d==null||vr(d)||jr(d)||Ut(d)||cr(d)?d:Array.isArray(d)?mt.array(d,{name:O,deep:!1}):k(d)?mt.object(d,void 0,{name:O,deep:!1}):Z(d)?mt.map(d,{name:O,deep:!1}):se(d)?mt.set(d,{name:O,deep:!1}):A(!1)}function rt(d){return d}function ye(d,h,O){return mo(d,h)?h:d}function ut(d){w(d);var h=pe(!0,function(N,F,V,fe,Pe){var Ue=V?V.initializer?V.initializer.call(N):V.value:void 0;ni(N).addObservableProp(F,Ue,d)}),O=(typeof l!="undefined"&&l.env,h);return O.enhancer=d,O}var tt={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};Object.freeze(tt);function Le(d){return d==null?tt:typeof d=="string"?{name:d,deep:!0,proxy:!0}:d}var $e=ut(et),Mt=ut(We),ct=ut(rt),bt=ut(ye);function ne(d){return d.defaultDecorator?d.defaultDecorator.enhancer:d.deep===!1?rt:et}function It(d,h,O){if(typeof arguments[1]=="string"||typeof arguments[1]=="symbol")return $e.apply(null,arguments);if(xn(d))return d;var N=k(d)?mt.object(d,h,O):Array.isArray(d)?mt.array(d,h):Z(d)?mt.map(d,h):se(d)?mt.set(d,h):d;if(N!==d)return N;A(!1)}var St={box:function(d,h){arguments.length>2&&Wt("box");var O=Le(h);return new un(d,ne(O),O.name,!0,O.equals)},array:function(d,h){arguments.length>2&&Wt("array");var O=Le(h);return Ns(d,ne(O),O.name)},map:function(d,h){arguments.length>2&&Wt("map");var O=Le(h);return new ri(d,ne(O),O.name)},set:function(d,h){arguments.length>2&&Wt("set");var O=Le(h);return new oa(d,ne(O),O.name)},object:function(d,h,O){typeof arguments[1]=="string"&&Wt("object");var N=Le(O);if(N.proxy===!1)return ti({},d,h,N);var F=Wi(N),V=ti({},void 0,void 0,N),fe=wn(V);return Ki(fe,d,h,F),fe},ref:ct,shallow:Mt,deep:$e,struct:bt},mt=It;Object.keys(St).forEach(function(d){return mt[d]=St[d]});function Wt(d){A("Expected one or two arguments to observable."+d+". Did you accidentally try to use observable."+d+" as decorator?")}var pr=pe(!1,function(d,h,O,N,F){var V=O.get,fe=O.set,Pe=F[0]||{};ni(d).addComputedProp(d,h,Qe({get:V,set:fe,context:d},Pe))}),Jt=pr({equals:Ee.structural}),xr=function(h,O,N){if(typeof O=="string"||h!==null&&typeof h=="object"&&arguments.length===1)return pr.apply(null,arguments);var F=typeof O=="object"?O:{};return F.get=h,F.set=typeof O=="function"?O:F.set,F.name=F.name||h.name||"",new mn(F)};xr.struct=Jt;var qe;(function(d){d[d.NOT_TRACKING=-1]="NOT_TRACKING",d[d.UP_TO_DATE=0]="UP_TO_DATE",d[d.POSSIBLY_STALE=1]="POSSIBLY_STALE",d[d.STALE=2]="STALE"})(qe||(qe={}));var At;(function(d){d[d.NONE=0]="NONE",d[d.LOG=1]="LOG",d[d.BREAK=2]="BREAK"})(At||(At={}));var nr=function(){function d(h){this.cause=h}return d}();function Ce(d){return d instanceof nr}function Xe(d){switch(d.dependenciesState){case qe.UP_TO_DATE:return!1;case qe.NOT_TRACKING:case qe.STALE:return!0;case qe.POSSIBLY_STALE:{for(var h=De(!0),O=re(),N=d.observing,F=N.length,V=0;V<F;V++){var fe=N[V];if(bn(fe)){if(Ge.disableErrorBoundaries)fe.get();else try{fe.get()}catch(Pe){return we(O),Ye(h),!0}if(d.dependenciesState===qe.STALE)return we(O),Ye(h),!0}}return yt(d),we(O),Ye(h),!1}}}function nt(){return Ge.trackingDerivation!==null}function Je(d){var h=d.observers.size>0;Ge.computationDepth>0&&h&&A(!1),!Ge.allowStateChanges&&(h||Ge.enforceActions==="strict")&&A(!1)}function lt(d,h,O){var N=De(!0);yt(d),d.newObserving=new Array(d.observing.length+100),d.unboundDepsCount=0,d.runId=++Ge.runId;var F=Ge.trackingDerivation;Ge.trackingDerivation=d;var V;if(Ge.disableErrorBoundaries===!0)V=h.call(O);else try{V=h.call(O)}catch(fe){V=new nr(fe)}return Ge.trackingDerivation=F,_(d),Ye(N),V}function _(d){for(var h=d.observing,O=d.observing=d.newObserving,N=qe.UP_TO_DATE,F=0,V=d.unboundDepsCount,fe=0;fe<V;fe++){var Pe=O[fe];Pe.diffValue===0&&(Pe.diffValue=1,F!==fe&&(O[F]=Pe),F++),Pe.dependenciesState>N&&(N=Pe.dependenciesState)}for(O.length=F,d.newObserving=null,V=h.length;V--;){var Pe=h[V];Pe.diffValue===0&&Yr(Pe,d),Pe.diffValue=0}for(;F--;){var Pe=O[F];Pe.diffValue===1&&(Pe.diffValue=0,ql(Pe,d))}N!==qe.UP_TO_DATE&&(d.dependenciesState=N,d.onBecomeStale())}function Q(d){var h=d.observing;d.observing=[];for(var O=h.length;O--;)Yr(h[O],d);d.dependenciesState=qe.NOT_TRACKING}function te(d){var h=re();try{return d()}finally{we(h)}}function re(){var d=Ge.trackingDerivation;return Ge.trackingDerivation=null,d}function we(d){Ge.trackingDerivation=d}function De(d){var h=Ge.allowStateReads;return Ge.allowStateReads=d,h}function Ye(d){Ge.allowStateReads=d}function yt(d){if(d.dependenciesState!==qe.UP_TO_DATE){d.dependenciesState=qe.UP_TO_DATE;for(var h=d.observing,O=h.length;O--;)h[O].lowestObserverState=qe.UP_TO_DATE}}var Zt=0,$t=1,Un=Object.getOwnPropertyDescriptor(function(){},"name");Un&&Un.configurable;function Hr(d,h,O){var N=function(){return Bi(d,h,O||this,arguments)};return N.isMobxAction=!0,N}function Bi(d,h,O,N){var F=Sr();try{return h.apply(O,N)}catch(V){throw F.error=V,V}finally{Li(F)}}function Sr(d,h,O){var N=jt(),F=0,V=re();Pt();var fe=gn(!0),Pe=De(!0),Ue={prevDerivation:V,prevAllowStateChanges:fe,prevAllowStateReads:Pe,notifySpy:N,startTime:F,actionId:$t++,parentActionId:Zt};return Zt=Ue.actionId,Ue}function Li(d){Zt!==d.actionId&&A("invalid action stack. did you forget to finish an action?"),Zt=d.parentActionId,d.error!==void 0&&(Ge.suppressReactionErrors=!0),Hn(d.prevAllowStateChanges),Ye(d.prevAllowStateReads),hr(),we(d.prevDerivation),d.notifySpy,Ge.suppressReactionErrors=!1}function fr(d,h){var O=gn(d),N;try{N=h()}finally{Hn(O)}return N}function gn(d){var h=Ge.allowStateChanges;return Ge.allowStateChanges=d,h}function Hn(d){Ge.allowStateChanges=d}var un=function(d){ze(h,d);function h(O,N,F,V,fe){F===void 0&&(F="ObservableValue@"+S()),V===void 0&&(V=!0),fe===void 0&&(fe=Ee.default);var Pe=d.call(this,F)||this;return Pe.enhancer=N,Pe.name=F,Pe.equals=fe,Pe.hasUnreportedChange=!1,Pe.value=N(O,void 0,F),V&&jt(),Pe}return h.prototype.dehanceValue=function(O){return this.dehancer!==void 0?this.dehancer(O):O},h.prototype.set=function(O){var N=this.value;if(O=this.prepareNewValue(O),O!==Ge.UNCHANGED){var F=jt();this.setNewValue(O)}},h.prototype.prepareNewValue=function(O){if(Je(this),Pr(this)){var N=Tr(this,{object:this,type:"update",newValue:O});if(!N)return Ge.UNCHANGED;O=N.newValue}return O=this.enhancer(O,this.value,this.name),this.equals(this.value,O)?Ge.UNCHANGED:O},h.prototype.setNewValue=function(O){var N=this.value;this.value=O,this.reportChanged(),yr(this)&&qt(this,{type:"update",object:this,newValue:O,oldValue:N})},h.prototype.get=function(){return this.reportObserved(),this.dehanceValue(this.value)},h.prototype.intercept=function(O){return Kn(this,O)},h.prototype.observe=function(O,N){return N&&O({object:this,type:"update",newValue:this.value,oldValue:void 0}),Vn(this,O)},h.prototype.toJSON=function(){return this.get()},h.prototype.toString=function(){return this.name+"["+this.value+"]"},h.prototype.valueOf=function(){return R(this.get())},h.prototype[Symbol.toPrimitive]=function(){return this.valueOf()},h}(K),Yn=$("ObservableValue",un),mn=function(){function d(h){this.dependenciesState=qe.NOT_TRACKING,this.observing=[],this.newObserving=null,this.isBeingObserved=!1,this.isPendingUnobservation=!1,this.observers=new Set,this.diffValue=0,this.runId=0,this.lastAccessedBy=0,this.lowestObserverState=qe.UP_TO_DATE,this.unboundDepsCount=0,this.__mapid="#"+S(),this.value=new nr(null),this.isComputing=!1,this.isRunningSetter=!1,this.isTracing=At.NONE,w(h.get,"missing option for computed: get"),this.derivation=h.get,this.name=h.name||"ComputedValue@"+S(),h.set&&(this.setter=Hr(this.name+"-setter",h.set)),this.equals=h.equals||(h.compareStructural||h.struct?Ee.structural:Ee.default),this.scope=h.context,this.requiresReaction=!!h.requiresReaction,this.keepAlive=!!h.keepAlive}return d.prototype.onBecomeStale=function(){rs(this)},d.prototype.onBecomeObserved=function(){this.onBecomeObservedListeners&&this.onBecomeObservedListeners.forEach(function(h){return h()})},d.prototype.onBecomeUnobserved=function(){this.onBecomeUnobservedListeners&&this.onBecomeUnobservedListeners.forEach(function(h){return h()})},d.prototype.get=function(){this.isComputing&&A("Cycle detected in computation "+this.name+": "+this.derivation),Ge.inBatch===0&&this.observers.size===0&&!this.keepAlive?Xe(this)&&(this.warnAboutUntrackedRead(),Pt(),this.value=this.computeValue(!1),hr()):(ki(this),Xe(this)&&this.trackAndCompute()&&ts(this));var h=this.value;if(Ce(h))throw h.cause;return h},d.prototype.peek=function(){var h=this.computeValue(!1);if(Ce(h))throw h.cause;return h},d.prototype.set=function(h){if(this.setter){w(!this.isRunningSetter,"The setter of computed value '"+this.name+"' is trying to update itself. Did you intend to update an _observable_ value, instead of the computed property?"),this.isRunningSetter=!0;try{this.setter.call(this.scope,h)}finally{this.isRunningSetter=!1}}else w(!1,!1)},d.prototype.trackAndCompute=function(){var h=this.value,O=this.dependenciesState===qe.NOT_TRACKING,N=this.computeValue(!0),F=O||Ce(h)||Ce(N)||!this.equals(h,N);return F&&(this.value=N),F},d.prototype.computeValue=function(h){this.isComputing=!0,Ge.computationDepth++;var O;if(h)O=lt(this,this.derivation,this.scope);else if(Ge.disableErrorBoundaries===!0)O=this.derivation.call(this.scope);else try{O=this.derivation.call(this.scope)}catch(N){O=new nr(N)}return Ge.computationDepth--,this.isComputing=!1,O},d.prototype.suspend=function(){this.keepAlive||(Q(this),this.value=void 0)},d.prototype.observe=function(h,O){var N=this,F=!0,V=void 0;return Cr(function(){var fe=N.get();if(!F||O){var Pe=re();h({type:"update",object:N,newValue:fe,oldValue:V}),we(Pe)}F=!1,V=fe})},d.prototype.warnAboutUntrackedRead=function(){},d.prototype.toJSON=function(){return this.get()},d.prototype.toString=function(){return this.name+"["+this.derivation.toString()+"]"},d.prototype.valueOf=function(){return R(this.get())},d.prototype[Symbol.toPrimitive]=function(){return this.valueOf()},d}(),bn=$("ComputedValue",mn),so=function(){function d(){this.version=5,this.UNCHANGED={},this.trackingDerivation=null,this.computationDepth=0,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!0,this.allowStateReads=!0,this.enforceActions=!1,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.computedConfigurable=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1}return d}(),$l={};function fo(){return typeof window!="undefined"?window:typeof f!="undefined"?f:typeof self!="undefined"?self:$l}var co=!0,zi=!1,Ge=function(){var d=fo();return d.__mobxInstanceCount>0&&!d.__mobxGlobals&&(co=!1),d.__mobxGlobals&&d.__mobxGlobals.version!==new so().version&&(co=!1),co?d.__mobxGlobals?(d.__mobxInstanceCount+=1,d.__mobxGlobals.UNCHANGED||(d.__mobxGlobals.UNCHANGED={}),d.__mobxGlobals):(d.__mobxInstanceCount=1,d.__mobxGlobals=new so):(setTimeout(function(){zi||A("There are multiple, different versions of MobX active. Make sure MobX is loaded only once or use `configure({ isolateGlobalState: true })`")},1),new so)}();function Fi(){(Ge.pendingReactions.length||Ge.inBatch||Ge.isRunningReactions)&&A("isolateGlobalState should be called before MobX is running any reactions"),zi=!0,co&&(--fo().__mobxInstanceCount===0&&(fo().__mobxGlobals=void 0),Ge=new so)}function ql(d,h){d.observers.add(h),d.lowestObserverState>h.dependenciesState&&(d.lowestObserverState=h.dependenciesState)}function Yr(d,h){d.observers.delete(h),d.observers.size===0&&_i(d)}function _i(d){d.isPendingUnobservation===!1&&(d.isPendingUnobservation=!0,Ge.pendingUnobservations.push(d))}function Pt(){Ge.inBatch++}function hr(){if(--Ge.inBatch===0){Ui();for(var d=Ge.pendingUnobservations,h=0;h<d.length;h++){var O=d[h];O.isPendingUnobservation=!1,O.observers.size===0&&(O.isBeingObserved&&(O.isBeingObserved=!1,O.onBecomeUnobserved()),O instanceof mn&&O.suspend())}Ge.pendingUnobservations=[]}}function ki(d){var h=Ge.trackingDerivation;return h!==null?(h.runId!==d.lastAccessedBy&&(d.lastAccessedBy=h.runId,h.newObserving[h.unboundDepsCount++]=d,d.isBeingObserved||(d.isBeingObserved=!0,d.onBecomeObserved())),!0):(d.observers.size===0&&Ge.inBatch>0&&_i(d),!1)}function es(d){d.lowestObserverState!==qe.STALE&&(d.lowestObserverState=qe.STALE,d.observers.forEach(function(h){h.dependenciesState===qe.UP_TO_DATE&&(h.isTracing!==At.NONE&&po(h,d),h.onBecomeStale()),h.dependenciesState=qe.STALE}))}function ts(d){d.lowestObserverState!==qe.STALE&&(d.lowestObserverState=qe.STALE,d.observers.forEach(function(h){h.dependenciesState===qe.POSSIBLY_STALE?h.dependenciesState=qe.STALE:h.dependenciesState===qe.UP_TO_DATE&&(d.lowestObserverState=qe.UP_TO_DATE)}))}function rs(d){d.lowestObserverState===qe.UP_TO_DATE&&(d.lowestObserverState=qe.POSSIBLY_STALE,d.observers.forEach(function(h){h.dependenciesState===qe.UP_TO_DATE&&(h.dependenciesState=qe.POSSIBLY_STALE,h.isTracing!==At.NONE&&po(h,d),h.onBecomeStale())}))}function po(d,h){if(""+d.name+h.name,d.isTracing===At.BREAK){var O=[];Gi(Vi(d),O,1),new Function(`debugger;
/*
Tracing '`+d.name+`'

You are entering this break point because derivation '`+d.name+"' is being traced and '"+h.name+`' is now forcing it to update.
Just follow the stacktrace you should now see in the devtools to see precisely what piece of your code is causing this update
The stackframe you are looking for is at least ~6-8 stack-frames up.

`+(d instanceof mn?d.derivation.toString().replace(/[*]\//g,"/"):"")+`

The dependencies for this derivation are:

`+O.join(`
`)+`
*/
    `)()}}function Gi(d,h,O){if(h.length>=1e3){h.push("(and many more)");return}h.push(""+new Array(O).join("	")+d.name),d.dependencies&&d.dependencies.forEach(function(N){return Gi(N,h,O+1)})}var ln=function(){function d(h,O,N,F){h===void 0&&(h="Reaction@"+S()),F===void 0&&(F=!1),this.name=h,this.onInvalidate=O,this.errorHandler=N,this.requiresObservable=F,this.observing=[],this.newObserving=[],this.dependenciesState=qe.NOT_TRACKING,this.diffValue=0,this.runId=0,this.unboundDepsCount=0,this.__mapid="#"+S(),this.isDisposed=!1,this._isScheduled=!1,this._isTrackPending=!1,this._isRunning=!1,this.isTracing=At.NONE}return d.prototype.onBecomeStale=function(){this.schedule()},d.prototype.schedule=function(){this._isScheduled||(this._isScheduled=!0,Ge.pendingReactions.push(this),Ui())},d.prototype.isScheduled=function(){return this._isScheduled},d.prototype.runReaction=function(){if(!this.isDisposed){if(Pt(),this._isScheduled=!1,Xe(this)){this._isTrackPending=!0;try{this.onInvalidate(),this._isTrackPending&&jt()}catch(h){this.reportExceptionInDerivation(h)}}hr()}},d.prototype.track=function(h){if(!this.isDisposed){Pt(),this._isRunning=!0;var O=lt(this,h,void 0);this._isRunning=!1,this._isTrackPending=!1,this.isDisposed&&Q(this),Ce(O)&&this.reportExceptionInDerivation(O.cause),hr()}},d.prototype.reportExceptionInDerivation=function(h){var O=this;if(this.errorHandler){this.errorHandler(h,this);return}if(Ge.disableErrorBoundaries)throw h;var N="[mobx] Encountered an uncaught exception that was thrown by a reaction or observer component, in: '"+this+"'";Ge.suppressReactionErrors?console.warn("[mobx] (error in reaction '"+this.name+"' suppressed, fix error of causing action below)"):console.error(N,h),Ge.globalReactionErrorHandlers.forEach(function(F){return F(h,O)})},d.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,this._isRunning||(Pt(),Q(this),hr()))},d.prototype.getDisposer=function(){var h=this.dispose.bind(this);return h[I]=this,h},d.prototype.toString=function(){return"Reaction["+this.name+"]"},d.prototype.trace=function(h){h===void 0&&(h=!1),As(this,h)},d}(),Zo=100,$o=function(d){return d()};function Ui(){Ge.inBatch>0||Ge.isRunningReactions||$o(ns)}function ns(){Ge.isRunningReactions=!0;for(var d=Ge.pendingReactions,h=0;d.length>0;){++h===Zo&&(console.error("Reaction doesn't converge to a stable state after "+Zo+" iterations."+(" Probably there is a cycle in the reactive function: "+d[0])),d.splice(0));for(var O=d.splice(0),N=0,F=O.length;N<F;N++)O[N].runReaction()}Ge.isRunningReactions=!1}var ho=$("Reaction",ln);function os(d){var h=$o;$o=function(O){return d(function(){return h(O)})}}function jt(){return!1}function hd(d){}function yd(d){}function vd(d){}function Hi(d){return console.warn("[mobx.spy] Is a no-op in production builds"),function(){}}function is(){A(!1)}function Yi(d){return function(h,O,N){if(N){if(N.value)return{value:Hr(d,N.value),enumerable:!1,configurable:!0,writable:!0};var F=N.initializer;return{enumerable:!1,configurable:!0,writable:!0,initializer:function(){return Hr(d,F.call(this))}}}return as(d).apply(this,arguments)}}function as(d){return function(h,O,N){Object.defineProperty(h,O,{configurable:!0,enumerable:!1,get:function(){},set:function(F){X(this,O,Xr(d,F))}})}}function us(d,h,O,N){return N===!0?(qo(d,h,O.value),null):O?{configurable:!0,enumerable:!1,get:function(){return qo(this,h,O.value||O.initializer.call(this)),this[h]},set:is}:{enumerable:!1,configurable:!0,set:function(F){qo(this,h,F)},get:function(){}}}var Xr=function(h,O,N,F){if(arguments.length===1&&typeof h=="function")return Hr(h.name||"<unnamed action>",h);if(arguments.length===2&&typeof O=="function")return Hr(h,O);if(arguments.length===1&&typeof h=="string")return Yi(h);if(F===!0)X(h,O,Hr(h.name||O,N.value,this));else return Yi(O).apply(null,arguments)};Xr.bound=us;function ls(d,h){var O=typeof d=="string"?d:d.name||"<unnamed action>",N=typeof d=="function"?d:h;return Bi(O,N,this,void 0)}function ss(d){return typeof d=="function"&&d.isMobxAction===!0}function qo(d,h,O){X(d,h,Hr(h,O.bind(d)))}function Cr(d,h){h===void 0&&(h=E);var O=h&&h.name||d.name||"Autorun@"+S(),N=!h.scheduler&&!h.delay,F;if(N)F=new ln(O,function(){this.track(Pe)},h.onError,h.requiresObservable);else{var V=On(h),fe=!1;F=new ln(O,function(){fe||(fe=!0,V(function(){fe=!1,F.isDisposed||F.track(Pe)}))},h.onError,h.requiresObservable)}function Pe(){d(F)}return F.schedule(),F.getDisposer()}var fs=function(d){return d()};function On(d){return d.scheduler?d.scheduler:d.delay?function(h){return setTimeout(h,d.delay)}:fs}function cs(d,h,O){O===void 0&&(O=E);var N=O.name||"Reaction@"+S(),F=Xr(N,O.onError?Xn(O.onError,h):h),V=!O.scheduler&&!O.delay,fe=On(O),Pe=!0,Ue=!1,st,ft=O.compareStructural?Ee.structural:O.equals||Ee.default,Ot=new ln(N,function(){Pe||V?xt():Ue||(Ue=!0,fe(xt))},O.onError,O.requiresObservable);function xt(){if(Ue=!1,!Ot.isDisposed){var Bt=!1;Ot.track(function(){var Ht=d(Ot);Bt=Pe||!ft(st,Ht),st=Ht}),Pe&&O.fireImmediately&&F(st,Ot),!Pe&&Bt===!0&&F(st,Ot),Pe&&(Pe=!1)}}return Ot.schedule(),Ot.getDisposer()}function Xn(d,h){return function(){try{return h.apply(this,arguments)}catch(O){d.call(this,O)}}}function ds(d,h,O){return Xi("onBecomeObserved",d,h,O)}function ei(d,h,O){return Xi("onBecomeUnobserved",d,h,O)}function Xi(d,h,O,N){var F=typeof N=="function"?wr(h,O):wr(h),V=typeof N=="function"?N:O,fe=d+"Listeners";F[fe]?F[fe].add(V):F[fe]=new Set([V]);var Pe=F[d];return typeof Pe!="function"?A(!1):function(){var Ue=F[fe];Ue&&(Ue.delete(V),Ue.size===0&&delete F[fe])}}function ps(d){var h=d.enforceActions,O=d.computedRequiresReaction,N=d.computedConfigurable,F=d.disableErrorBoundaries,V=d.reactionScheduler,fe=d.reactionRequiresObservable,Pe=d.observableRequiresReaction;if(d.isolateGlobalState===!0&&Fi(),h!==void 0){var Ue=void 0;switch(h){case!0:case"observed":Ue=!0;break;case!1:case"never":Ue=!1;break;case"strict":case"always":Ue="strict";break;default:A("Invalid value for 'enforceActions': '"+h+"', expected 'never', 'always' or 'observed'")}Ge.enforceActions=Ue,Ge.allowStateChanges=!(Ue===!0||Ue==="strict")}O!==void 0&&(Ge.computedRequiresReaction=!!O),fe!==void 0&&(Ge.reactionRequiresObservable=!!fe),Pe!==void 0&&(Ge.observableRequiresReaction=!!Pe,Ge.allowStateReads=!Ge.observableRequiresReaction),N!==void 0&&(Ge.computedConfigurable=!!N),F!==void 0&&(F===!0&&console.warn("WARNING: Debug feature only. MobX will NOT recover from errors when `disableErrorBoundaries` is enabled."),Ge.disableErrorBoundaries=!!F),V&&os(V)}function ti(d,h,O,N){N=Le(N);var F=Wi(N);return xe(d),ni(d,N.name,F.enhancer),h&&Ki(d,h,O,F),d}function Wi(d){return d.defaultDecorator||(d.deep===!1?ct:$e)}function Ki(d,h,O,N){var F,V,fe,Pe;Pt();try{var Pe=M(h);try{for(var Ue=Be(Pe),st=Ue.next();!st.done;st=Ue.next()){var fe=st.value,ft=Object.getOwnPropertyDescriptor(h,fe),Ot=O&&fe in O?O[fe]:ft.get?pr:N,xt=Ot(d,fe,ft,!0);xt&&Object.defineProperty(d,fe,xt)}}catch(Ht){F={error:Ht}}finally{try{st&&!st.done&&(V=Ue.return)&&V.call(Ue)}finally{if(F)throw F.error}}}finally{hr()}}function Vi(d,h){return Qi(wr(d,h))}function Qi(d){var h={name:d.name};return d.observing&&d.observing.length>0&&(h.dependencies=j(d.observing).map(Qi)),h}var hs=0;function Ji(){this.message="FLOW_CANCELLED"}Ji.prototype=Object.create(Error.prototype);function ys(d){arguments.length!==1&&A("Flow expects 1 argument and cannot be used as decorator");var h=d.name||"<unnamed flow>";return function(){var O=this,N=arguments,F=++hs,V=Xr(h+" - runid: "+F+" - init",d).apply(O,N),fe,Pe=void 0,Ue=new Promise(function(st,ft){var Ot=0;fe=ft;function xt(Tt){Pe=void 0;var gr;try{gr=Xr(h+" - runid: "+F+" - yield "+Ot++,V.next).call(V,Tt)}catch(Mn){return ft(Mn)}Ht(gr)}function Bt(Tt){Pe=void 0;var gr;try{gr=Xr(h+" - runid: "+F+" - yield "+Ot++,V.throw).call(V,Tt)}catch(Mn){return ft(Mn)}Ht(gr)}function Ht(Tt){if(Tt&&typeof Tt.then=="function"){Tt.then(Ht,ft);return}return Tt.done?st(Tt.value):(Pe=Promise.resolve(Tt.value),Pe.then(xt,Bt))}xt(void 0)});return Ue.cancel=Xr(h+" - runid: "+F+" - cancel",function(){try{Pe&&Zi(Pe);var st=V.return(void 0),ft=Promise.resolve(st.value);ft.then(C,C),Zi(ft),fe(new Ji)}catch(Ot){fe(Ot)}}),Ue}}function Zi(d){typeof d.cancel=="function"&&d.cancel()}function $i(d,h){if(d==null)return!1;if(h!==void 0){if(vr(d)===!1||!d[I].values.has(h))return!1;var O=wr(d,h);return bn(O)}return bn(d)}function vs(d){return arguments.length>1?A(!1):$i(d)}function gs(d,h){return typeof h!="string"?A(!1):$i(d,h)}function En(d,h){return d==null?!1:h!==void 0?vr(d)?d[I].values.has(h):!1:vr(d)||!!d[I]||q(d)||ho(d)||bn(d)}function xn(d){return arguments.length!==1&&A(!1),En(d)}function Sn(d){return vr(d)?d[I].getKeys():Ut(d)||cr(d)?Array.from(d.keys()):jr(d)?d.map(function(h,O){return O}):A(!1)}function ms(d){return vr(d)?Sn(d).map(function(h){return d[h]}):Ut(d)?Sn(d).map(function(h){return d.get(h)}):cr(d)?Array.from(d.values()):jr(d)?d.slice():A(!1)}function bs(d){return vr(d)?Sn(d).map(function(h){return[h,d[h]]}):Ut(d)?Sn(d).map(function(h){return[h,d.get(h)]}):cr(d)?Array.from(d.entries()):jr(d)?d.map(function(h,O){return[O,h]}):A(!1)}function qi(d,h,O){if(arguments.length===2&&!cr(d)){Pt();var N=h;try{for(var F in N)qi(d,F,N[F])}finally{hr()}return}if(vr(d)){var V=d[I],fe=V.values.get(h);fe?V.write(h,O):V.addObservableProp(h,O,V.defaultEnhancer)}else if(Ut(d))d.set(h,O);else if(cr(d))d.add(h);else if(jr(d))typeof h!="number"&&(h=parseInt(h,10)),w(h>=0,"Not a valid index: '"+h+"'"),Pt(),h>=d.length&&(d.length=h+1),d[h]=O,hr();else return A(!1)}function Os(d,h,O,N){return typeof O=="function"?Es(d,h,O,N):yo(d,h,O)}function yo(d,h,O){return Qn(d).observe(h,O)}function Es(d,h,O,N){return Qn(d,h).observe(O,N)}var xs={detectCycles:!0,exportMapsAsObjects:!0,recurseEverything:!1};function An(d,h,O,N){return N.detectCycles&&d.set(h,O),O}function Wr(d,h,O){if(!h.recurseEverything&&!xn(d)||typeof d!="object")return d;if(d===null)return null;if(d instanceof Date)return d;if(Yn(d))return Wr(d.get(),h,O);xn(d)&&Sn(d);var N=h.detectCycles===!0;if(N&&d!==null&&O.has(d))return O.get(d);if(jr(d)||Array.isArray(d)){var F=An(O,d,[],h),V=d.map(function(Bt){return Wr(Bt,h,O)});F.length=V.length;for(var fe=0,Pe=V.length;fe<Pe;fe++)F[fe]=V[fe];return F}if(cr(d)||Object.getPrototypeOf(d)===Set.prototype)if(h.exportMapsAsObjects===!1){var Ue=An(O,d,new Set,h);return d.forEach(function(Bt){Ue.add(Wr(Bt,h,O))}),Ue}else{var st=An(O,d,[],h);return d.forEach(function(Bt){st.push(Wr(Bt,h,O))}),st}if(Ut(d)||Object.getPrototypeOf(d)===Map.prototype)if(h.exportMapsAsObjects===!1){var ft=An(O,d,new Map,h);return d.forEach(function(Bt,Ht){ft.set(Ht,Wr(Bt,h,O))}),ft}else{var Ot=An(O,d,{},h);return d.forEach(function(Bt,Ht){Ot[Ht]=Wr(Bt,h,O)}),Ot}var xt=An(O,d,{},h);return z(d).forEach(function(Bt){xt[Bt]=Wr(d[Bt],h,O)}),xt}function Ss(d,h){typeof h=="boolean"&&(h={detectCycles:h}),h||(h=xs),h.detectCycles=h.detectCycles===void 0?h.recurseEverything===!0:h.detectCycles===!0;var O;return h.detectCycles&&(O=new Map),Wr(d,h,O)}function As(){for(var d=[],h=0;h<arguments.length;h++)d[h]=arguments[h];var O=!1;typeof d[d.length-1]=="boolean"&&(O=d.pop());var N=Ps(d);if(!N)return A(!1);N.isTracing===At.NONE&&""+N.name,N.isTracing=O?At.BREAK:At.LOG}function Ps(d){switch(d.length){case 0:return Ge.trackingDerivation;case 1:return wr(d[0]);case 2:return wr(d[0],d[1])}}function Ar(d,h){h===void 0&&(h=void 0),Pt();try{return d.apply(h)}finally{hr()}}function Pn(d,h,O){return arguments.length===1||h&&typeof h=="object"?Ts(d,h):Wn(d,h,O||{})}function Wn(d,h,O){var N;typeof O.timeout=="number"&&(N=setTimeout(function(){if(!V[I].isDisposed){V();var fe=new Error("WHEN_TIMEOUT");if(O.onError)O.onError(fe);else throw fe}},O.timeout)),O.name=O.name||"When@"+S();var F=Hr(O.name+"-effect",h),V=Cr(function(fe){d()&&(fe.dispose(),N&&clearTimeout(N),F())},O);return V}function Ts(d,h){var O,N=new Promise(function(F,V){var fe=Wn(d,F,Qe(Qe({},h),{onError:V}));O=function(){fe(),V("WHEN_CANCELLED")}});return N.cancel=O,N}function vo(d){return d[I]}function go(d){return typeof d=="string"||typeof d=="number"||typeof d=="symbol"}var Tn={has:function(d,h){if(h===I||h==="constructor"||h===He)return!0;var O=vo(d);return go(h)?O.has(h):h in d},get:function(d,h){if(h===I||h==="constructor"||h===He)return d[h];var O=vo(d),N=O.values.get(h);if(N instanceof K){var F=N.get();return F===void 0&&O.has(h),F}return go(h)&&O.has(h),d[h]},set:function(d,h,O){return go(h)?(qi(d,h,O),!0):!1},deleteProperty:function(d,h){if(!go(h))return!1;var O=vo(d);return O.remove(h),!0},ownKeys:function(d){var h=vo(d);return h.keysAtom.reportObserved(),Reflect.ownKeys(d)},preventExtensions:function(d){return A("Dynamic observable objects cannot be frozen"),!1}};function wn(d){var h=new Proxy(d,Tn);return d[I].proxy=h,h}function Pr(d){return d.interceptors!==void 0&&d.interceptors.length>0}function Kn(d,h){var O=d.interceptors||(d.interceptors=[]);return O.push(h),T(function(){var N=O.indexOf(h);N!==-1&&O.splice(N,1)})}function Tr(d,h){var O=re();try{for(var N=Re(d.interceptors||[]),F=0,V=N.length;F<V&&(h=N[F](h),w(!h||h.type,"Intercept handlers should return nothing or a change object"),!!h);F++);return h}finally{we(O)}}function yr(d){return d.changeListeners!==void 0&&d.changeListeners.length>0}function Vn(d,h){var O=d.changeListeners||(d.changeListeners=[]);return O.push(h),T(function(){var N=O.indexOf(h);N!==-1&&O.splice(N,1)})}function qt(d,h){var O=re(),N=d.changeListeners;if(!!N){N=N.slice();for(var F=0,V=N.length;F<V;F++)N[F](h);we(O)}}var ws=1e4,Ms={get:function(d,h){return h===I?d[I]:h==="length"?d[I].getArrayLength():typeof h=="number"?Ir.get.call(d,h):typeof h=="string"&&!isNaN(h)?Ir.get.call(d,parseInt(h)):Ir.hasOwnProperty(h)?Ir[h]:d[h]},set:function(d,h,O){return h==="length"&&d[I].setArrayLength(O),typeof h=="number"&&Ir.set.call(d,h,O),typeof h=="symbol"||isNaN(h)?d[h]=O:Ir.set.call(d,parseInt(h),O),!0},preventExtensions:function(d){return A("Observable arrays cannot be frozen"),!1}};function Ns(d,h,O,N){O===void 0&&(O="ObservableArray@"+S()),N===void 0&&(N=!1);var F=new ea(O,h,N);le(F.values,I,F);var V=new Proxy(F.values,Ms);if(F.proxy=V,d&&d.length){var fe=gn(!0);F.spliceWithArray(0,0,d),Hn(fe)}return V}var ea=function(){function d(h,O,N){this.owned=N,this.values=[],this.proxy=void 0,this.lastKnownLength=0,this.atom=new K(h||"ObservableArray@"+S()),this.enhancer=function(F,V){return O(F,V,h+"[..]")}}return d.prototype.dehanceValue=function(h){return this.dehancer!==void 0?this.dehancer(h):h},d.prototype.dehanceValues=function(h){return this.dehancer!==void 0&&h.length>0?h.map(this.dehancer):h},d.prototype.intercept=function(h){return Kn(this,h)},d.prototype.observe=function(h,O){return O===void 0&&(O=!1),O&&h({object:this.proxy,type:"splice",index:0,added:this.values.slice(),addedCount:this.values.length,removed:[],removedCount:0}),Vn(this,h)},d.prototype.getArrayLength=function(){return this.atom.reportObserved(),this.values.length},d.prototype.setArrayLength=function(h){if(typeof h!="number"||h<0)throw new Error("[mobx.array] Out of range: "+h);var O=this.values.length;if(h!==O)if(h>O){for(var N=new Array(h-O),F=0;F<h-O;F++)N[F]=void 0;this.spliceWithArray(O,0,N)}else this.spliceWithArray(h,O-h)},d.prototype.updateArrayLength=function(h,O){if(h!==this.lastKnownLength)throw new Error("[mobx] Modification exception: the internal structure of an observable array was changed.");this.lastKnownLength+=O},d.prototype.spliceWithArray=function(h,O,N){var F=this;Je(this.atom);var V=this.values.length;if(h===void 0?h=0:h>V?h=V:h<0&&(h=Math.max(0,V+h)),arguments.length===1?O=V-h:O==null?O=0:O=Math.max(0,Math.min(O,V-h)),N===void 0&&(N=b),Pr(this)){var fe=Tr(this,{object:this.proxy,type:"splice",index:h,removedCount:O,added:N});if(!fe)return b;O=fe.removedCount,N=fe.added}N=N.length===0?N:N.map(function(Ue){return F.enhancer(Ue,void 0)});var Pe=this.spliceItemsIntoValues(h,O,N);return(O!==0||N.length!==0)&&this.notifyArraySplice(h,N,Pe),this.dehanceValues(Pe)},d.prototype.spliceItemsIntoValues=function(h,O,N){var F;if(N.length<ws)return(F=this.values).splice.apply(F,Re([h,O],N));var V=this.values.slice(h,h+O);return this.values=this.values.slice(0,h).concat(N,this.values.slice(h+O)),V},d.prototype.notifyArrayChildUpdate=function(h,O,N){var F=!this.owned&&jt(),V=yr(this),fe=V||F?{object:this.proxy,type:"update",index:h,newValue:O,oldValue:N}:null;this.atom.reportChanged(),V&&qt(this,fe)},d.prototype.notifyArraySplice=function(h,O,N){var F=!this.owned&&jt(),V=yr(this),fe=V||F?{object:this.proxy,type:"splice",index:h,removed:N,added:O,removedCount:N.length,addedCount:O.length}:null;this.atom.reportChanged(),V&&qt(this,fe)},d}(),Ir={intercept:function(d){return this[I].intercept(d)},observe:function(d,h){h===void 0&&(h=!1);var O=this[I];return O.observe(d,h)},clear:function(){return this.splice(0)},replace:function(d){var h=this[I];return h.spliceWithArray(0,h.values.length,d)},toJS:function(){return this.slice()},toJSON:function(){return this.toJS()},splice:function(d,h){for(var O=[],N=2;N<arguments.length;N++)O[N-2]=arguments[N];var F=this[I];switch(arguments.length){case 0:return[];case 1:return F.spliceWithArray(d);case 2:return F.spliceWithArray(d,h)}return F.spliceWithArray(d,h,O)},spliceWithArray:function(d,h,O){var N=this[I];return N.spliceWithArray(d,h,O)},push:function(){for(var d=[],h=0;h<arguments.length;h++)d[h]=arguments[h];var O=this[I];return O.spliceWithArray(O.values.length,0,d),O.values.length},pop:function(){return this.splice(Math.max(this[I].values.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var d=[],h=0;h<arguments.length;h++)d[h]=arguments[h];var O=this[I];return O.spliceWithArray(0,0,d),O.values.length},reverse:function(){var d=this.slice();return d.reverse.apply(d,arguments)},sort:function(d){var h=this.slice();return h.sort.apply(h,arguments)},remove:function(d){var h=this[I],O=h.dehanceValues(h.values).indexOf(d);return O>-1?(this.splice(O,1),!0):!1},get:function(d){var h=this[I];if(h){if(d<h.values.length)return h.atom.reportObserved(),h.dehanceValue(h.values[d]);console.warn("[mobx.array] Attempt to read an array index ("+d+") that is out of bounds ("+h.values.length+"). Please check length first. Out of bound indices will not be tracked by MobX")}},set:function(d,h){var O=this[I],N=O.values;if(d<N.length){Je(O.atom);var F=N[d];if(Pr(O)){var V=Tr(O,{type:"update",object:O.proxy,index:d,newValue:h});if(!V)return;h=V.newValue}h=O.enhancer(h,F);var fe=h!==F;fe&&(N[d]=h,O.notifyArrayChildUpdate(d,h,F))}else if(d===N.length)O.spliceWithArray(d,0,[h]);else throw new Error("[mobx.array] Index out of bounds, "+d+" is larger than "+N.length)}};["concat","flat","includes","indexOf","join","lastIndexOf","slice","toString","toLocaleString"].forEach(function(d){typeof Array.prototype[d]=="function"&&(Ir[d]=function(){var h=this[I];h.atom.reportObserved();var O=h.dehanceValues(h.values);return O[d].apply(O,arguments)})}),["every","filter","find","findIndex","flatMap","forEach","map","some"].forEach(function(d){typeof Array.prototype[d]=="function"&&(Ir[d]=function(h,O){var N=this,F=this[I];F.atom.reportObserved();var V=F.dehanceValues(F.values);return V[d](function(fe,Pe){return h.call(O,fe,Pe,N)},O)})}),["reduce","reduceRight"].forEach(function(d){Ir[d]=function(){var h=this,O=this[I];O.atom.reportObserved();var N=arguments[0];return arguments[0]=function(F,V,fe){return V=O.dehanceValue(V),N(F,V,fe,h)},O.values[d].apply(O.values,arguments)}});var Ds=$("ObservableArrayAdministration",ea);function jr(d){return L(d)&&Ds(d[I])}var ta,ra={},ri=function(){function d(h,O,N){if(O===void 0&&(O=et),N===void 0&&(N="ObservableMap@"+S()),this.enhancer=O,this.name=N,this[ta]=ra,this._keysAtom=de(this.name+".keys()"),this[Symbol.toStringTag]="Map",typeof Map!="function")throw new Error("mobx.map requires Map polyfill for the current browser. Check babel-polyfill or core-js/es6/map.js");this._data=new Map,this._hasMap=new Map,this.merge(h)}return d.prototype._has=function(h){return this._data.has(h)},d.prototype.has=function(h){var O=this;if(!Ge.trackingDerivation)return this._has(h);var N=this._hasMap.get(h);if(!N){var F=N=new un(this._has(h),rt,this.name+"."+H(h)+"?",!1);this._hasMap.set(h,F),ei(F,function(){return O._hasMap.delete(h)})}return N.get()},d.prototype.set=function(h,O){var N=this._has(h);if(Pr(this)){var F=Tr(this,{type:N?"update":"add",object:this,newValue:O,name:h});if(!F)return this;O=F.newValue}return N?this._updateValue(h,O):this._addValue(h,O),this},d.prototype.delete=function(h){var O=this;if(Je(this._keysAtom),Pr(this)){var N=Tr(this,{type:"delete",object:this,name:h});if(!N)return!1}if(this._has(h)){var F=jt(),V=yr(this),N=V||F?{type:"delete",object:this,oldValue:this._data.get(h).value,name:h}:null;return Ar(function(){O._keysAtom.reportChanged(),O._updateHasMapEntry(h,!1);var Pe=O._data.get(h);Pe.setNewValue(void 0),O._data.delete(h)}),V&&qt(this,N),!0}return!1},d.prototype._updateHasMapEntry=function(h,O){var N=this._hasMap.get(h);N&&N.setNewValue(O)},d.prototype._updateValue=function(h,O){var N=this._data.get(h);if(O=N.prepareNewValue(O),O!==Ge.UNCHANGED){var F=jt(),V=yr(this),fe=V||F?{type:"update",object:this,oldValue:N.value,name:h,newValue:O}:null;N.setNewValue(O),V&&qt(this,fe)}},d.prototype._addValue=function(h,O){var N=this;Je(this._keysAtom),Ar(function(){var Pe=new un(O,N.enhancer,N.name+"."+H(h),!1);N._data.set(h,Pe),O=Pe.value,N._updateHasMapEntry(h,!0),N._keysAtom.reportChanged()});var F=jt(),V=yr(this),fe=V||F?{type:"add",object:this,name:h,newValue:O}:null;V&&qt(this,fe)},d.prototype.get=function(h){return this.has(h)?this.dehanceValue(this._data.get(h).get()):this.dehanceValue(void 0)},d.prototype.dehanceValue=function(h){return this.dehancer!==void 0?this.dehancer(h):h},d.prototype.keys=function(){return this._keysAtom.reportObserved(),this._data.keys()},d.prototype.values=function(){var h=this,O=this.keys();return bo({next:function(){var N=O.next(),F=N.done,V=N.value;return{done:F,value:F?void 0:h.get(V)}}})},d.prototype.entries=function(){var h=this,O=this.keys();return bo({next:function(){var N=O.next(),F=N.done,V=N.value;return{done:F,value:F?void 0:[V,h.get(V)]}}})},d.prototype[ta=I,Symbol.iterator]=function(){return this.entries()},d.prototype.forEach=function(h,O){var N,F;try{for(var V=Be(this),fe=V.next();!fe.done;fe=V.next()){var Pe=Se(fe.value,2),Ue=Pe[0],st=Pe[1];h.call(O,st,Ue,this)}}catch(ft){N={error:ft}}finally{try{fe&&!fe.done&&(F=V.return)&&F.call(V)}finally{if(N)throw N.error}}},d.prototype.merge=function(h){var O=this;return Ut(h)&&(h=h.toJS()),Ar(function(){var N=gn(!0);try{k(h)?z(h).forEach(function(F){return O.set(F,h[F])}):Array.isArray(h)?h.forEach(function(F){var V=Se(F,2),fe=V[0],Pe=V[1];return O.set(fe,Pe)}):Z(h)?(h.constructor!==Map&&A("Cannot initialize from classes that inherit from Map: "+h.constructor.name),h.forEach(function(F,V){return O.set(V,F)})):h!=null&&A("Cannot initialize map from "+h)}finally{Hn(N)}}),this},d.prototype.clear=function(){var h=this;Ar(function(){te(function(){var O,N;try{for(var F=Be(h.keys()),V=F.next();!V.done;V=F.next()){var fe=V.value;h.delete(fe)}}catch(Pe){O={error:Pe}}finally{try{V&&!V.done&&(N=F.return)&&N.call(F)}finally{if(O)throw O.error}}})})},d.prototype.replace=function(h){var O=this;return Ar(function(){var N,F,V,fe,Pe=U(h),Ue=new Map,st=!1;try{for(var ft=Be(O._data.keys()),Ot=ft.next();!Ot.done;Ot=ft.next()){var xt=Ot.value;if(!Pe.has(xt)){var Bt=O.delete(xt);if(Bt)st=!0;else{var Ht=O._data.get(xt);Ue.set(xt,Ht)}}}}catch(sn){N={error:sn}}finally{try{Ot&&!Ot.done&&(F=ft.return)&&F.call(ft)}finally{if(N)throw N.error}}try{for(var Tt=Be(Pe.entries()),gr=Tt.next();!gr.done;gr=Tt.next()){var Mn=Se(gr.value,2),xt=Mn[0],Ht=Mn[1],da=O._data.has(xt);if(O.set(xt,Ht),O._data.has(xt)){var pa=O._data.get(xt);Ue.set(xt,pa),da||(st=!0)}}}catch(sn){V={error:sn}}finally{try{gr&&!gr.done&&(fe=Tt.return)&&fe.call(Tt)}finally{if(V)throw V.error}}if(!st)if(O._data.size!==Ue.size)O._keysAtom.reportChanged();else for(var ha=O._data.keys(),ya=Ue.keys(),ii=ha.next(),Nn=ya.next();!ii.done;){if(ii.value!==Nn.value){O._keysAtom.reportChanged();break}ii=ha.next(),Nn=ya.next()}O._data=Ue}),this},Object.defineProperty(d.prototype,"size",{get:function(){return this._keysAtom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),d.prototype.toPOJO=function(){var h,O,N={};try{for(var F=Be(this),V=F.next();!V.done;V=F.next()){var fe=Se(V.value,2),Pe=fe[0],Ue=fe[1];N[typeof Pe=="symbol"?Pe:H(Pe)]=Ue}}catch(st){h={error:st}}finally{try{V&&!V.done&&(O=F.return)&&O.call(F)}finally{if(h)throw h.error}}return N},d.prototype.toJS=function(){return new Map(this)},d.prototype.toJSON=function(){return this.toPOJO()},d.prototype.toString=function(){var h=this;return this.name+"[{ "+Array.from(this.keys()).map(function(O){return H(O)+": "+(""+h.get(O))}).join(", ")+" }]"},d.prototype.observe=function(h,O){return Vn(this,h)},d.prototype.intercept=function(h){return Kn(this,h)},d}(),Ut=$("ObservableMap",ri),na,Cs={},oa=function(){function d(h,O,N){if(O===void 0&&(O=et),N===void 0&&(N="ObservableSet@"+S()),this.name=N,this[na]=Cs,this._data=new Set,this._atom=de(this.name),this[Symbol.toStringTag]="Set",typeof Set!="function")throw new Error("mobx.set requires Set polyfill for the current browser. Check babel-polyfill or core-js/es6/set.js");this.enhancer=function(F,V){return O(F,V,N)},h&&this.replace(h)}return d.prototype.dehanceValue=function(h){return this.dehancer!==void 0?this.dehancer(h):h},d.prototype.clear=function(){var h=this;Ar(function(){te(function(){var O,N;try{for(var F=Be(h._data.values()),V=F.next();!V.done;V=F.next()){var fe=V.value;h.delete(fe)}}catch(Pe){O={error:Pe}}finally{try{V&&!V.done&&(N=F.return)&&N.call(F)}finally{if(O)throw O.error}}})})},d.prototype.forEach=function(h,O){var N,F;try{for(var V=Be(this),fe=V.next();!fe.done;fe=V.next()){var Pe=fe.value;h.call(O,Pe,Pe,this)}}catch(Ue){N={error:Ue}}finally{try{fe&&!fe.done&&(F=V.return)&&F.call(V)}finally{if(N)throw N.error}}},Object.defineProperty(d.prototype,"size",{get:function(){return this._atom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),d.prototype.add=function(h){var O=this;if(Je(this._atom),Pr(this)){var N=Tr(this,{type:"add",object:this,newValue:h});if(!N)return this}if(!this.has(h)){Ar(function(){O._data.add(O.enhancer(h,void 0)),O._atom.reportChanged()});var F=jt(),V=yr(this),N=V||F?{type:"add",object:this,newValue:h}:null;V&&qt(this,N)}return this},d.prototype.delete=function(h){var O=this;if(Pr(this)){var N=Tr(this,{type:"delete",object:this,oldValue:h});if(!N)return!1}if(this.has(h)){var F=jt(),V=yr(this),N=V||F?{type:"delete",object:this,oldValue:h}:null;return Ar(function(){O._atom.reportChanged(),O._data.delete(h)}),V&&qt(this,N),!0}return!1},d.prototype.has=function(h){return this._atom.reportObserved(),this._data.has(this.dehanceValue(h))},d.prototype.entries=function(){var h=0,O=Array.from(this.keys()),N=Array.from(this.values());return bo({next:function(){var F=h;return h+=1,F<N.length?{value:[O[F],N[F]],done:!1}:{done:!0}}})},d.prototype.keys=function(){return this.values()},d.prototype.values=function(){this._atom.reportObserved();var h=this,O=0,N=Array.from(this._data.values());return bo({next:function(){return O<N.length?{value:h.dehanceValue(N[O++]),done:!1}:{done:!0}}})},d.prototype.replace=function(h){var O=this;return cr(h)&&(h=h.toJS()),Ar(function(){var N=gn(!0);try{Array.isArray(h)?(O.clear(),h.forEach(function(F){return O.add(F)})):se(h)?(O.clear(),h.forEach(function(F){return O.add(F)})):h!=null&&A("Cannot initialize set from "+h)}finally{Hn(N)}}),this},d.prototype.observe=function(h,O){return Vn(this,h)},d.prototype.intercept=function(h){return Kn(this,h)},d.prototype.toJS=function(){return new Set(this)},d.prototype.toString=function(){return this.name+"[ "+Array.from(this).join(", ")+" ]"},d.prototype[na=I,Symbol.iterator]=function(){return this.values()},d}(),cr=$("ObservableSet",oa),ia=function(){function d(h,O,N,F){O===void 0&&(O=new Map),this.target=h,this.values=O,this.name=N,this.defaultEnhancer=F,this.keysAtom=new K(N+".keys")}return d.prototype.read=function(h){return this.values.get(h).get()},d.prototype.write=function(h,O){var N=this.target,F=this.values.get(h);if(F instanceof mn){F.set(O);return}if(Pr(this)){var V=Tr(this,{type:"update",object:this.proxy||N,name:h,newValue:O});if(!V)return;O=V.newValue}if(O=F.prepareNewValue(O),O!==Ge.UNCHANGED){var fe=yr(this),Pe=jt(),V=fe||Pe?{type:"update",object:this.proxy||N,oldValue:F.value,name:h,newValue:O}:null;F.setNewValue(O),fe&&qt(this,V)}},d.prototype.has=function(h){var O=this.pendingKeys||(this.pendingKeys=new Map),N=O.get(h);if(N)return N.get();var F=!!this.values.get(h);return N=new un(F,rt,this.name+"."+H(h)+"?",!1),O.set(h,N),N.get()},d.prototype.addObservableProp=function(h,O,N){N===void 0&&(N=this.defaultEnhancer);var F=this.target;if(Pr(this)){var V=Tr(this,{object:this.proxy||F,name:h,type:"add",newValue:O});if(!V)return;O=V.newValue}var fe=new un(O,N,this.name+"."+H(h),!1);this.values.set(h,fe),O=fe.value,Object.defineProperty(F,h,Is(h)),this.notifyPropertyAddition(h,O)},d.prototype.addComputedProp=function(h,O,N){var F=this.target;N.name=N.name||this.name+"."+H(O),this.values.set(O,new mn(N)),(h===F||ie(h,O))&&Object.defineProperty(h,O,js(O))},d.prototype.remove=function(h){if(!!this.values.has(h)){var O=this.target;if(Pr(this)){var N=Tr(this,{object:this.proxy||O,name:h,type:"remove"});if(!N)return}try{Pt();var F=yr(this),V=jt(),fe=this.values.get(h),Pe=fe&&fe.get();if(fe&&fe.set(void 0),this.keysAtom.reportChanged(),this.values.delete(h),this.pendingKeys){var Ue=this.pendingKeys.get(h);Ue&&Ue.set(!1)}delete this.target[h];var N=F||V?{type:"remove",object:this.proxy||O,oldValue:Pe,name:h}:null;F&&qt(this,N)}finally{hr()}}},d.prototype.illegalAccess=function(h,O){console.warn("Property '"+O+"' of '"+h+"' was accessed through the prototype chain. Use 'decorate' instead to declare the prop or access it statically through it's owner")},d.prototype.observe=function(h,O){return Vn(this,h)},d.prototype.intercept=function(h){return Kn(this,h)},d.prototype.notifyPropertyAddition=function(h,O){var N=yr(this),F=jt(),V=N||F?{type:"add",object:this.proxy||this.target,name:h,newValue:O}:null;if(N&&qt(this,V),this.pendingKeys){var fe=this.pendingKeys.get(h);fe&&fe.set(!0)}this.keysAtom.reportChanged()},d.prototype.getKeys=function(){var h,O;this.keysAtom.reportObserved();var N=[];try{for(var F=Be(this.values),V=F.next();!V.done;V=F.next()){var fe=Se(V.value,2),Pe=fe[0],Ue=fe[1];Ue instanceof un&&N.push(Pe)}}catch(st){h={error:st}}finally{try{V&&!V.done&&(O=F.return)&&O.call(F)}finally{if(h)throw h.error}}return N},d}();function ni(d,h,O){if(h===void 0&&(h=""),O===void 0&&(O=et),Object.prototype.hasOwnProperty.call(d,I))return d[I];k(d)||(h=(d.constructor.name||"ObservableObject")+"@"+S()),h||(h="ObservableObject@"+S());var N=new ia(d,new Map,H(h),O);return X(d,I,N),N}var aa=Object.create(null),ua=Object.create(null);function Is(d){return aa[d]||(aa[d]={configurable:!0,enumerable:!0,get:function(){return this[I].read(d)},set:function(h){this[I].write(d,h)}})}function la(d){var h=d[I];return h||(xe(d),d[I])}function js(d){return ua[d]||(ua[d]={configurable:Ge.computedConfigurable,enumerable:!1,get:function(){return la(this).read(d)},set:function(h){la(this).write(d,h)}})}var Rs=$("ObservableObjectAdministration",ia);function vr(d){return L(d)?(xe(d),Rs(d[I])):!1}function wr(d,h){if(typeof d=="object"&&d!==null){if(jr(d))return h!==void 0&&A(!1),d[I].atom;if(cr(d))return d[I];if(Ut(d)){var O=d;if(h===void 0)return O._keysAtom;var N=O._data.get(h)||O._hasMap.get(h);return N||A(!1),N}if(xe(d),h&&!d[I]&&d[h],vr(d)){if(!h)return A(!1);var N=d[I].values.get(h);return N||A(!1),N}if(q(d)||bn(d)||ho(d))return d}else if(typeof d=="function"&&ho(d[I]))return d[I];return A(!1)}function Qn(d,h){if(d||A("Expecting some object"),h!==void 0)return Qn(wr(d,h));if(q(d)||bn(d)||ho(d)||Ut(d)||cr(d))return d;if(xe(d),d[I])return d[I];A(!1)}function Bs(d,h){var O;return h!==void 0?O=wr(d,h):vr(d)||Ut(d)||cr(d)?O=Qn(d):O=wr(d),O.name}var sa=Object.prototype.toString;function mo(d,h,O){return O===void 0&&(O=-1),Jn(d,h,O)}function Jn(d,h,O,N,F){if(d===h)return d!==0||1/d===1/h;if(d==null||h==null)return!1;if(d!==d)return h!==h;var V=typeof d;if(V!=="function"&&V!=="object"&&typeof h!="object")return!1;var fe=sa.call(d);if(fe!==sa.call(h))return!1;switch(fe){case"[object RegExp]":case"[object String]":return""+d==""+h;case"[object Number]":return+d!=+d?+h!=+h:+d==0?1/+d===1/h:+d==+h;case"[object Date]":case"[object Boolean]":return+d==+h;case"[object Symbol]":return typeof Symbol!="undefined"&&Symbol.valueOf.call(d)===Symbol.valueOf.call(h);case"[object Map]":case"[object Set]":O>=0&&O++;break}d=fa(d),h=fa(h);var Pe=fe==="[object Array]";if(!Pe){if(typeof d!="object"||typeof h!="object")return!1;var Ue=d.constructor,st=h.constructor;if(Ue!==st&&!(typeof Ue=="function"&&Ue instanceof Ue&&typeof st=="function"&&st instanceof st)&&"constructor"in d&&"constructor"in h)return!1}if(O===0)return!1;O<0&&(O=-1),N=N||[],F=F||[];for(var ft=N.length;ft--;)if(N[ft]===d)return F[ft]===h;if(N.push(d),F.push(h),Pe){if(ft=d.length,ft!==h.length)return!1;for(;ft--;)if(!Jn(d[ft],h[ft],O-1,N,F))return!1}else{var Ot=Object.keys(d),xt=void 0;if(ft=Ot.length,Object.keys(h).length!==ft)return!1;for(;ft--;)if(xt=Ot[ft],!(Ls(h,xt)&&Jn(d[xt],h[xt],O-1,N,F)))return!1}return N.pop(),F.pop(),!0}function fa(d){return jr(d)?d.slice():Z(d)||Ut(d)||se(d)||cr(d)?Array.from(d.entries()):d}function Ls(d,h){return Object.prototype.hasOwnProperty.call(d,h)}function bo(d){return d[Symbol.iterator]=oi,d}function oi(){return this}if(typeof Proxy=="undefined"||typeof Symbol=="undefined")throw new Error("[mobx] MobX 5+ requires Proxy and Symbol objects. If your environment doesn't support Symbol or Proxy objects, please downgrade to MobX 4. For React Native Android, consider upgrading JSCore.");try{}catch(d){var ca=fo();typeof l=="undefined"&&(ca.process={}),ca.process.env={}}(function(){function d(){}if(d.name!=="testCodeMinification"&&!1)var h})(),typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__=="object"&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:Hi,extras:{getDebugName:Bs},$mobx:I})}).call(this,i(155),i(82))},function(u,c,i){i.d(c,"a",function(){return ie}),i.d(c,"b",function(){return le}),i.d(c,"c",function(){return Re}),i.d(c,"d",function(){return He}),i.d(c,"e",function(){return k}),i.d(c,"f",function(){return X}),i.d(c,"g",function(){return k}),i.d(c,"h",function(){return Se}),i.d(c,"i",function(){return f}),i.d(c,"j",function(){return Be}),i.d(c,"k",function(){return M});var l,f,v,b,E,S,A,w={},T=[],C=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function j(Y,W){for(var ee in W)Y[ee]=W[ee];return Y}function L(Y){var W=Y.parentNode;W&&W.removeChild(Y)}function k(Y,W,ee){var he,xe,pe,Fe={};for(pe in W)pe=="key"?he=W[pe]:pe=="ref"?xe=W[pe]:Fe[pe]=W[pe];if(arguments.length>2&&(Fe.children=arguments.length>3?l.call(arguments,2):ee),typeof Y=="function"&&Y.defaultProps!=null)for(pe in Y.defaultProps)Fe[pe]===void 0&&(Fe[pe]=Y.defaultProps[pe]);return U(Y,Fe,he,xe,null)}function U(Y,W,ee,he,xe){var pe={type:Y,props:W,key:ee,ref:he,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:xe==null?++v:xe};return xe==null&&f.vnode!=null&&f.vnode(pe),pe}function X(){return{current:null}}function le(Y){return Y.children}function ie(Y,W){this.props=Y,this.context=W}function $(Y,W){if(W==null)return Y.__?$(Y.__,Y.__.__k.indexOf(Y)+1):null;for(var ee;W<Y.__k.length;W++)if((ee=Y.__k[W])!=null&&ee.__e!=null)return ee.__e;return typeof Y.type=="function"?$(Y):null}function Z(Y){var W,ee;if((Y=Y.__)!=null&&Y.__c!=null){for(Y.__e=Y.__c.base=null,W=0;W<Y.__k.length;W++)if((ee=Y.__k[W])!=null&&ee.__e!=null){Y.__e=Y.__c.base=ee.__e;break}return Z(Y)}}function se(Y){(!Y.__d&&(Y.__d=!0)&&b.push(Y)&&!z.__r++||S!==f.debounceRendering)&&((S=f.debounceRendering)||E)(z)}function z(){for(var Y;z.__r=b.length;)Y=b.sort(function(W,ee){return W.__v.__b-ee.__v.__b}),b=[],Y.some(function(W){var ee,he,xe,pe,Fe,et;W.__d&&(Fe=(pe=(ee=W).__v).__e,(et=ee.__P)&&(he=[],(xe=j({},pe)).__v=pe.__v+1,Oe(et,pe,xe,ee.__n,et.ownerSVGElement!==void 0,pe.__h!=null?[Fe]:null,he,Fe==null?$(pe):Fe,pe.__h),Ae(he,pe),pe.__e!=Fe&&Z(pe)))})}function H(Y,W,ee,he,xe,pe,Fe,et,We,rt){var ye,ut,tt,Le,$e,Mt,ct,bt=he&&he.__k||T,ne=bt.length;for(ee.__k=[],ye=0;ye<W.length;ye++)if((Le=ee.__k[ye]=(Le=W[ye])==null||typeof Le=="boolean"?null:typeof Le=="string"||typeof Le=="number"||typeof Le=="bigint"?U(null,Le,null,null,Le):Array.isArray(Le)?U(le,{children:Le},null,null,null):Le.__b>0?U(Le.type,Le.props,Le.key,null,Le.__v):Le)!=null){if(Le.__=ee,Le.__b=ee.__b+1,(tt=bt[ye])===null||tt&&Le.key==tt.key&&Le.type===tt.type)bt[ye]=void 0;else for(ut=0;ut<ne;ut++){if((tt=bt[ut])&&Le.key==tt.key&&Le.type===tt.type){bt[ut]=void 0;break}tt=null}Oe(Y,Le,tt=tt||w,xe,pe,Fe,et,We,rt),$e=Le.__e,(ut=Le.ref)&&tt.ref!=ut&&(ct||(ct=[]),tt.ref&&ct.push(tt.ref,null,Le),ct.push(ut,Le.__c||$e,Le)),$e!=null?(Mt==null&&(Mt=$e),typeof Le.type=="function"&&Le.__k===tt.__k?Le.__d=We=R(Le,We,Y):We=I(Y,Le,tt,bt,$e,We),typeof ee.type=="function"&&(ee.__d=We)):We&&tt.__e==We&&We.parentNode!=Y&&(We=$(tt))}for(ee.__e=Mt,ye=ne;ye--;)bt[ye]!=null&&(typeof ee.type=="function"&&bt[ye].__e!=null&&bt[ye].__e==ee.__d&&(ee.__d=$(he,ye+1)),ze(bt[ye],bt[ye]));if(ct)for(ye=0;ye<ct.length;ye++)Ne(ct[ye],ct[++ye],ct[++ye])}function R(Y,W,ee){for(var he,xe=Y.__k,pe=0;xe&&pe<xe.length;pe++)(he=xe[pe])&&(he.__=Y,W=typeof he.type=="function"?R(he,W,ee):I(ee,he,he,xe,he.__e,W));return W}function M(Y,W){return W=W||[],Y==null||typeof Y=="boolean"||(Array.isArray(Y)?Y.some(function(ee){M(ee,W)}):W.push(Y)),W}function I(Y,W,ee,he,xe,pe){var Fe,et,We;if(W.__d!==void 0)Fe=W.__d,W.__d=void 0;else if(ee==null||xe!=pe||xe.parentNode==null)e:if(pe==null||pe.parentNode!==Y)Y.appendChild(xe),Fe=null;else{for(et=pe,We=0;(et=et.nextSibling)&&We<he.length;We+=2)if(et==xe)break e;Y.insertBefore(xe,pe),Fe=pe}return Fe!==void 0?Fe:xe.nextSibling}function K(Y,W,ee,he,xe){var pe;for(pe in ee)pe==="children"||pe==="key"||pe in W||de(Y,pe,null,ee[pe],he);for(pe in W)xe&&typeof W[pe]!="function"||pe==="children"||pe==="key"||pe==="value"||pe==="checked"||ee[pe]===W[pe]||de(Y,pe,W[pe],ee[pe],he)}function q(Y,W,ee){W[0]==="-"?Y.setProperty(W,ee):Y[W]=ee==null?"":typeof ee!="number"||C.test(W)?ee:ee+"px"}function de(Y,W,ee,he,xe){var pe;e:if(W==="style")if(typeof ee=="string")Y.style.cssText=ee;else{if(typeof he=="string"&&(Y.style.cssText=he=""),he)for(W in he)ee&&W in ee||q(Y.style,W,"");if(ee)for(W in ee)he&&ee[W]===he[W]||q(Y.style,W,ee[W])}else if(W[0]==="o"&&W[1]==="n")pe=W!==(W=W.replace(/Capture$/,"")),W=W.toLowerCase()in Y?W.toLowerCase().slice(2):W.slice(2),Y.l||(Y.l={}),Y.l[W+pe]=ee,ee?he||Y.addEventListener(W,pe?ve:Te,pe):Y.removeEventListener(W,pe?ve:Te,pe);else if(W!=="dangerouslySetInnerHTML"){if(xe)W=W.replace(/xlink[H:h]/,"h").replace(/sName$/,"s");else if(W!=="href"&&W!=="list"&&W!=="form"&&W!=="tabIndex"&&W!=="download"&&W in Y)try{Y[W]=ee==null?"":ee;break e}catch(Fe){}typeof ee=="function"||(ee!=null&&(ee!==!1||W[0]==="a"&&W[1]==="r")?Y.setAttribute(W,ee):Y.removeAttribute(W))}}function Te(Y){this.l[Y.type+!1](f.event?f.event(Y):Y)}function ve(Y){this.l[Y.type+!0](f.event?f.event(Y):Y)}function Oe(Y,W,ee,he,xe,pe,Fe,et,We){var rt,ye,ut,tt,Le,$e,Mt,ct,bt,ne,It,St=W.type;if(W.constructor!==void 0)return null;ee.__h!=null&&(We=ee.__h,et=W.__e=ee.__e,W.__h=null,pe=[et]),(rt=f.__b)&&rt(W);try{e:if(typeof St=="function"){if(ct=W.props,bt=(rt=St.contextType)&&he[rt.__c],ne=rt?bt?bt.props.value:rt.__:he,ee.__c?Mt=(ye=W.__c=ee.__c).__=ye.__E:("prototype"in St&&St.prototype.render?W.__c=ye=new St(ct,ne):(W.__c=ye=new ie(ct,ne),ye.constructor=St,ye.render=Qe),bt&&bt.sub(ye),ye.props=ct,ye.state||(ye.state={}),ye.context=ne,ye.__n=he,ut=ye.__d=!0,ye.__h=[]),ye.__s==null&&(ye.__s=ye.state),St.getDerivedStateFromProps!=null&&(ye.__s==ye.state&&(ye.__s=j({},ye.__s)),j(ye.__s,St.getDerivedStateFromProps(ct,ye.__s))),tt=ye.props,Le=ye.state,ut)St.getDerivedStateFromProps==null&&ye.componentWillMount!=null&&ye.componentWillMount(),ye.componentDidMount!=null&&ye.__h.push(ye.componentDidMount);else{if(St.getDerivedStateFromProps==null&&ct!==tt&&ye.componentWillReceiveProps!=null&&ye.componentWillReceiveProps(ct,ne),!ye.__e&&ye.shouldComponentUpdate!=null&&ye.shouldComponentUpdate(ct,ye.__s,ne)===!1||W.__v===ee.__v){ye.props=ct,ye.state=ye.__s,W.__v!==ee.__v&&(ye.__d=!1),ye.__v=W,W.__e=ee.__e,W.__k=ee.__k,W.__k.forEach(function(mt){mt&&(mt.__=W)}),ye.__h.length&&Fe.push(ye);break e}ye.componentWillUpdate!=null&&ye.componentWillUpdate(ct,ye.__s,ne),ye.componentDidUpdate!=null&&ye.__h.push(function(){ye.componentDidUpdate(tt,Le,$e)})}ye.context=ne,ye.props=ct,ye.state=ye.__s,(rt=f.__r)&&rt(W),ye.__d=!1,ye.__v=W,ye.__P=Y,rt=ye.render(ye.props,ye.state,ye.context),ye.state=ye.__s,ye.getChildContext!=null&&(he=j(j({},he),ye.getChildContext())),ut||ye.getSnapshotBeforeUpdate==null||($e=ye.getSnapshotBeforeUpdate(tt,Le)),It=rt!=null&&rt.type===le&&rt.key==null?rt.props.children:rt,H(Y,Array.isArray(It)?It:[It],W,ee,he,xe,pe,Fe,et,We),ye.base=W.__e,W.__h=null,ye.__h.length&&Fe.push(ye),Mt&&(ye.__E=ye.__=null),ye.__e=!1}else pe==null&&W.__v===ee.__v?(W.__k=ee.__k,W.__e=ee.__e):W.__e=Ee(ee.__e,W,ee,he,xe,pe,Fe,We);(rt=f.diffed)&&rt(W)}catch(mt){W.__v=null,(We||pe!=null)&&(W.__e=et,W.__h=!!We,pe[pe.indexOf(et)]=null),f.__e(mt,W,ee)}}function Ae(Y,W){f.__c&&f.__c(W,Y),Y.some(function(ee){try{Y=ee.__h,ee.__h=[],Y.some(function(he){he.call(ee)})}catch(he){f.__e(he,ee.__v)}})}function Ee(Y,W,ee,he,xe,pe,Fe,et){var We,rt,ye,ut=ee.props,tt=W.props,Le=W.type,$e=0;if(Le==="svg"&&(xe=!0),pe!=null){for(;$e<pe.length;$e++)if((We=pe[$e])&&"setAttribute"in We==!!Le&&(Le?We.localName===Le:We.nodeType===3)){Y=We,pe[$e]=null;break}}if(Y==null){if(Le===null)return document.createTextNode(tt);Y=xe?document.createElementNS("http://www.w3.org/2000/svg",Le):document.createElement(Le,tt.is&&tt),pe=null,et=!1}if(Le===null)ut===tt||et&&Y.data===tt||(Y.data=tt);else{if(pe=pe&&l.call(Y.childNodes),rt=(ut=ee.props||w).dangerouslySetInnerHTML,ye=tt.dangerouslySetInnerHTML,!et){if(pe!=null)for(ut={},$e=0;$e<Y.attributes.length;$e++)ut[Y.attributes[$e].name]=Y.attributes[$e].value;(ye||rt)&&(ye&&(rt&&ye.__html==rt.__html||ye.__html===Y.innerHTML)||(Y.innerHTML=ye&&ye.__html||""))}if(K(Y,tt,ut,xe,et),ye)W.__k=[];else if($e=W.props.children,H(Y,Array.isArray($e)?$e:[$e],W,ee,he,xe&&Le!=="foreignObject",pe,Fe,pe?pe[0]:ee.__k&&$(ee,0),et),pe!=null)for($e=pe.length;$e--;)pe[$e]!=null&&L(pe[$e]);et||("value"in tt&&($e=tt.value)!==void 0&&($e!==ut.value||$e!==Y.value||Le==="progress"&&!$e)&&de(Y,"value",$e,ut.value,!1),"checked"in tt&&($e=tt.checked)!==void 0&&$e!==Y.checked&&de(Y,"checked",$e,ut.checked,!1))}return Y}function Ne(Y,W,ee){try{typeof Y=="function"?Y(W):Y.current=W}catch(he){f.__e(he,ee)}}function ze(Y,W,ee){var he,xe;if(f.unmount&&f.unmount(Y),(he=Y.ref)&&(he.current&&he.current!==Y.__e||Ne(he,null,W)),(he=Y.__c)!=null){if(he.componentWillUnmount)try{he.componentWillUnmount()}catch(pe){f.__e(pe,W)}he.base=he.__P=null}if(he=Y.__k)for(xe=0;xe<he.length;xe++)he[xe]&&ze(he[xe],W,typeof Y.type!="function");ee||Y.__e==null||L(Y.__e),Y.__e=Y.__d=void 0}function Qe(Y,W,ee){return this.constructor(Y,ee)}function Be(Y,W,ee){var he,xe,pe;f.__&&f.__(Y,W),xe=(he=typeof ee=="function")?null:ee&&ee.__k||W.__k,pe=[],Oe(W,Y=(!he&&ee||W).__k=k(le,null,[Y]),xe||w,w,W.ownerSVGElement!==void 0,!he&&ee?[ee]:xe?null:W.firstChild?l.call(W.childNodes):null,pe,!he&&ee?ee:xe?xe.__e:W.firstChild,he),Ae(pe,Y)}function Se(Y,W){Be(Y,W,Se)}function Re(Y,W,ee){var he,xe,pe,Fe=j({},Y.props);for(pe in W)pe=="key"?he=W[pe]:pe=="ref"?xe=W[pe]:Fe[pe]=W[pe];return arguments.length>2&&(Fe.children=arguments.length>3?l.call(arguments,2):ee),U(Y.type,Fe,he||Y.key,xe||Y.ref,null)}function He(Y,W){var ee={__c:W="__cC"+A++,__:Y,Consumer:function(he,xe){return he.children(xe)},Provider:function(he){var xe,pe;return this.getChildContext||(xe=[],(pe={})[W]=this,this.getChildContext=function(){return pe},this.shouldComponentUpdate=function(Fe){this.props.value!==Fe.value&&xe.some(se)},this.sub=function(Fe){xe.push(Fe);var et=Fe.componentWillUnmount;Fe.componentWillUnmount=function(){xe.splice(xe.indexOf(Fe),1),et&&et.call(Fe)}}),he.children}};return ee.Provider.__=ee.Consumer.contextType=ee}l=T.slice,f={__e:function(Y,W){for(var ee,he,xe;W=W.__;)if((ee=W.__c)&&!ee.__)try{if((he=ee.constructor)&&he.getDerivedStateFromError!=null&&(ee.setState(he.getDerivedStateFromError(Y)),xe=ee.__d),ee.componentDidCatch!=null&&(ee.componentDidCatch(Y),xe=ee.__d),xe)return ee.__E=ee}catch(pe){Y=pe}throw Y}},v=0,ie.prototype.setState=function(Y,W){var ee;ee=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=j({},this.state),typeof Y=="function"&&(Y=Y(j({},ee),this.props)),Y&&j(ee,Y),Y!=null&&this.__v&&(W&&this.__h.push(W),se(this))},ie.prototype.forceUpdate=function(Y){this.__v&&(this.__e=!0,Y&&this.__h.push(Y),se(this))},ie.prototype.render=le,b=[],E=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,z.__r=0,A=0},function(u,c,i){var l=i(116),f=i(44),v=i(178);l||f(Object.prototype,"toString",v,{unsafe:!0})},function(u,c,i){var l=i(39),f=i(83),v=i(70),b=i(56),E=i(111),S="Array Iterator",A=b.set,w=b.getterFor(S);u.exports=E(Array,"Array",function(T,C){A(this,{type:S,target:l(T),index:0,kind:C})},function(){var T=w(this),C=T.target,j=T.kind,L=T.index++;return!C||L>=C.length?(T.target=void 0,{value:void 0,done:!0}):j=="keys"?{value:L,done:!1}:j=="values"?{value:C[L],done:!1}:{value:[L,C[L]],done:!1}},"values"),v.Arguments=v.Array,f("keys"),f("values"),f("entries")},function(u,c,i){var l=i(7),f=i(147),v=i(148),b=i(3),E=i(57),S=i(27),A=S("iterator"),w=S("toStringTag"),T=b.values,C=function(L,k){if(L){if(L[A]!==T)try{E(L,A,T)}catch(X){L[A]=T}if(L[w]||E(L,w,k),f[k]){for(var U in b)if(L[U]!==b[U])try{E(L,U,b[U])}catch(X){L[U]=b[U]}}}};for(var j in f)C(l[j]&&l[j].prototype,j);C(v,"DOMTokenList")},function(u,c,i){var l=i(16),f=i(7),v=i(46),b=i(76),E=i(35),S=i(15),A=i(64),w=i(36),T=i(109),C=i(18),j=i(34),L=i(99),k=i(28),U=i(33),X=i(58),le=i(88),ie=i(32),$=i(38),Z=i(39),se=i(87),z=i(40),H=i(71),R=i(54),M=i(66),I=i(72),K=i(139),q=i(112),de=i(51),Te=i(37),ve=i(93),Oe=i(101),Ae=i(44),Ee=i(84),Ne=i(91),ze=i(69),Qe=i(85),Be=i(27),Se=i(149),Re=i(150),He=i(73),Y=i(56),W=i(74).forEach,ee=Ne("hidden"),he="Symbol",xe="prototype",pe=Be("toPrimitive"),Fe=Y.set,et=Y.getterFor(he),We=Object[xe],rt=f.Symbol,ye=rt&&rt[xe],ut=f.TypeError,tt=f.QObject,Le=v("JSON","stringify"),$e=de.f,Mt=Te.f,ct=K.f,bt=ve.f,ne=S([].push),It=Ee("symbols"),St=Ee("op-symbols"),mt=Ee("string-to-symbol-registry"),Wt=Ee("symbol-to-string-registry"),pr=Ee("wks"),Jt=!tt||!tt[xe]||!tt[xe].findChild,xr=w&&C(function(){return R(Mt({},"a",{get:function(){return Mt(this,"a",{value:7}).a}})).a!=7})?function(te,re,we){var De=$e(We,re);De&&delete We[re],Mt(te,re,we),De&&te!==We&&Mt(We,re,De)}:Mt,qe=function(te,re){var we=It[te]=R(ye);return Fe(we,{type:he,tag:te,description:re}),w||(we.description=re),we},At=function(re,we,De){re===We&&At(St,we,De),ie(re);var Ye=se(we);return ie(De),j(It,Ye)?(De.enumerable?(j(re,ee)&&re[ee][Ye]&&(re[ee][Ye]=!1),De=R(De,{enumerable:H(0,!1)})):(j(re,ee)||Mt(re,ee,H(1,{})),re[ee][Ye]=!0),xr(re,Ye,De)):Mt(re,Ye,De)},nr=function(re,we){ie(re);var De=Z(we),Ye=M(De).concat(lt(De));return W(Ye,function(yt){(!w||E(Xe,De,yt))&&At(re,yt,De[yt])}),re},Ce=function(re,we){return we===void 0?R(re):nr(R(re),we)},Xe=function(re){var we=se(re),De=E(bt,this,we);return this===We&&j(It,we)&&!j(St,we)?!1:De||!j(this,we)||!j(It,we)||j(this,ee)&&this[ee][we]?De:!0},nt=function(re,we){var De=Z(re),Ye=se(we);if(!(De===We&&j(It,Ye)&&!j(St,Ye))){var yt=$e(De,Ye);return yt&&j(It,Ye)&&!(j(De,ee)&&De[ee][Ye])&&(yt.enumerable=!0),yt}},Je=function(re){var we=ct(Z(re)),De=[];return W(we,function(Ye){!j(It,Ye)&&!j(ze,Ye)&&ne(De,Ye)}),De},lt=function(re){var we=re===We,De=ct(we?St:Z(re)),Ye=[];return W(De,function(yt){j(It,yt)&&(!we||j(We,yt))&&ne(Ye,It[yt])}),Ye};if(T||(rt=function(){if(X(ye,this))throw ut("Symbol is not a constructor");var re=!arguments.length||arguments[0]===void 0?void 0:z(arguments[0]),we=Qe(re),De=function(Ye){this===We&&E(De,St,Ye),j(this,ee)&&j(this[ee],we)&&(this[ee][we]=!1),xr(this,we,H(1,Ye))};return w&&Jt&&xr(We,we,{configurable:!0,set:De}),qe(we,re)},ye=rt[xe],Ae(ye,"toString",function(){return et(this).tag}),Ae(rt,"withoutSetter",function(te){return qe(Qe(te),te)}),ve.f=Xe,Te.f=At,de.f=nt,I.f=K.f=Je,q.f=lt,Se.f=function(te){return qe(Be(te),te)},w&&(Mt(ye,"description",{configurable:!0,get:function(){return et(this).description}}),A||Ae(We,"propertyIsEnumerable",Xe,{unsafe:!0}))),l({global:!0,wrap:!0,forced:!T,sham:!T},{Symbol:rt}),W(M(pr),function(te){Re(te)}),l({target:he,stat:!0,forced:!T},{for:function(te){var re=z(te);if(j(mt,re))return mt[re];var we=rt(re);return mt[re]=we,Wt[we]=re,we},keyFor:function(re){if(!le(re))throw ut(re+" is not a symbol");if(j(Wt,re))return Wt[re]},useSetter:function(){Jt=!0},useSimple:function(){Jt=!1}}),l({target:"Object",stat:!0,forced:!T,sham:!w},{create:Ce,defineProperty:At,defineProperties:nr,getOwnPropertyDescriptor:nt}),l({target:"Object",stat:!0,forced:!T},{getOwnPropertyNames:Je,getOwnPropertySymbols:lt}),l({target:"Object",stat:!0,forced:C(function(){q.f(1)})},{getOwnPropertySymbols:function(re){return q.f($(re))}}),Le){var _=!T||C(function(){var te=rt();return Le([te])!="[null]"||Le({a:te})!="{}"||Le(Object(te))!="{}"});l({target:"JSON",stat:!0,forced:_},{stringify:function(re,we,De){var Ye=Oe(arguments),yt=we;if(!(!U(we)&&re===void 0||le(re)))return L(we)||(we=function(Zt,$t){if(k(yt)&&($t=E(yt,this,Zt,$t)),!le($t))return $t}),Ye[1]=we,b(Le,null,Ye)}})}if(!ye[pe]){var Q=ye.valueOf;Ae(ye,pe,function(te){return E(Q,this)})}He(rt,he),ze[ee]=!0},function(u,c,i){var l=i(146).charAt,f=i(40),v=i(56),b=i(111),E="String Iterator",S=v.set,A=v.getterFor(E);b(String,"String",function(w){S(this,{type:E,string:f(w),index:0})},function(){var T=A(this),C=T.string,j=T.index,L;return j>=C.length?{value:void 0,done:!0}:(L=l(C,j),T.index+=L.length,{value:L,done:!1})})},function(u,c,i){(function(l){var f=function(v){return v&&v.Math==Math&&v};u.exports=f(typeof globalThis=="object"&&globalThis)||f(typeof window=="object"&&window)||f(typeof self=="object"&&self)||f(typeof l=="object"&&l)||function(){return this}()||Function("return this")()}).call(this,i(82))},function(u,c,i){var l=i(16),f=i(36),v=i(7),b=i(15),E=i(34),S=i(28),A=i(58),w=i(40),T=i(37).f,C=i(134),j=v.Symbol,L=j&&j.prototype;if(f&&S(j)&&(!("description"in L)||j().description!==void 0)){var k={},U=function(){var H=arguments.length<1||arguments[0]===void 0?void 0:w(arguments[0]),R=A(L,this)?new j(H):H===void 0?j():j(H);return H===""&&(k[R]=!0),R};C(U,j),U.prototype=L,L.constructor=U;var X=String(j("test"))=="Symbol(test)",le=b(L.toString),ie=b(L.valueOf),$=/^Symbol\((.*)\)[^)]+$/,Z=b("".replace),se=b("".slice);T(L,"description",{configurable:!0,get:function(){var H=ie(this),R=le(H);if(E(k,H))return"";var M=X?se(R,7,-1):Z(R,$,"$1");return M===""?void 0:M}}),l({global:!0,forced:!0},{Symbol:U})}},function(u,c,i){var l=i(150);l("iterator")},function(u,c,i){i.d(c,"a",function(){return l.a}),i.d(c,"c",function(){return l.e}),i.d(c,"h",function(){return se}),i.d(c,"i",function(){return X}),i.d(c,"j",function(){return k}),i.d(c,"b",function(){return Ae}),i.d(c,"e",function(){return Qe}),i.d(c,"f",function(){return Ee}),i.d(c,"g",function(){return Xe});var l=i(1),f,v,b,E=0,S=[],A=l.i.__b,w=l.i.__r,T=l.i.diffed,C=l.i.__c,j=l.i.unmount;function L(_,Q){l.i.__h&&l.i.__h(v,_,E||Q),E=0;var te=v.__H||(v.__H={__:[],__h:[]});return _>=te.__.length&&te.__.push({}),te.__[_]}function k(_){return E=1,U(Te,_)}function U(_,Q,te){var re=L(f++,2);return re.t=_,re.__c||(re.__=[te?te(Q):Te(void 0,Q),function(we){var De=re.t(re.__[0],we);re.__[0]!==De&&(re.__=[De,re.__[1]],re.__c.setState({}))}],re.__c=v),re.__}function X(_,Q){var te=L(f++,3);!l.i.__s&&de(te.__H,Q)&&(te.__=_,te.__H=Q,v.__H.__h.push(te))}function le(_,Q){var te=L(f++,4);!l.i.__s&&de(te.__H,Q)&&(te.__=_,te.__H=Q,v.__h.push(te))}function ie(_){return E=5,Z(function(){return{current:_}},[])}function $(_,Q,te){E=6,le(function(){typeof _=="function"?_(Q()):_&&(_.current=Q())},te==null?te:te.concat(_))}function Z(_,Q){var te=L(f++,7);return de(te.__H,Q)&&(te.__=_(),te.__H=Q,te.__h=_),te.__}function se(_,Q){return E=8,Z(function(){return _},Q)}function z(_){var Q=v.context[_.__c],te=L(f++,9);return te.c=_,Q?(te.__==null&&(te.__=!0,Q.sub(v)),Q.props.value):_.__}function H(_,Q){l.i.useDebugValue&&l.i.useDebugValue(Q?Q(_):_)}function R(){var _;for(S.sort(function(Q,te){return Q.__v.__b-te.__v.__b});_=S.pop();)if(_.__P)try{_.__H.__h.forEach(K),_.__H.__h.forEach(q),_.__H.__h=[]}catch(Q){_.__H.__h=[],l.i.__e(Q,_.__v)}}l.i.__b=function(_){v=null,A&&A(_)},l.i.__r=function(_){w&&w(_),f=0;var Q=(v=_.__c).__H;Q&&(Q.__h.forEach(K),Q.__h.forEach(q),Q.__h=[])},l.i.diffed=function(_){T&&T(_);var Q=_.__c;Q&&Q.__H&&Q.__H.__h.length&&(S.push(Q)!==1&&b===l.i.requestAnimationFrame||((b=l.i.requestAnimationFrame)||I)(R)),v=null},l.i.__c=function(_,Q){Q.some(function(te){try{te.__h.forEach(K),te.__h=te.__h.filter(function(re){return!re.__||q(re)})}catch(re){Q.some(function(we){we.__h&&(we.__h=[])}),Q=[],l.i.__e(re,te.__v)}}),C&&C(_,Q)},l.i.unmount=function(_){j&&j(_);var Q,te=_.__c;te&&te.__H&&(te.__H.__.forEach(function(re){try{K(re)}catch(we){Q=we}}),Q&&l.i.__e(Q,te.__v))};var M=typeof requestAnimationFrame=="function";function I(_){var Q,te=function(){clearTimeout(re),M&&cancelAnimationFrame(Q),setTimeout(_)},re=setTimeout(te,100);M&&(Q=requestAnimationFrame(te))}function K(_){var Q=v,te=_.__c;typeof te=="function"&&(_.__c=void 0,te()),v=Q}function q(_){var Q=v;_.__c=_.__(),v=Q}function de(_,Q){return!_||_.length!==Q.length||Q.some(function(te,re){return te!==_[re]})}function Te(_,Q){return typeof Q=="function"?Q(_):Q}function ve(_,Q){for(var te in Q)_[te]=Q[te];return _}function Oe(_,Q){for(var te in _)if(te!=="__source"&&!(te in Q))return!0;for(var re in Q)if(re!=="__source"&&_[re]!==Q[re])return!0;return!1}function Ae(_){this.props=_}function Ee(_,Q){function te(we){var De=this.props.ref,Ye=De==we.ref;return!Ye&&De&&(De.call?De(null):De.current=null),Q?!Q(this.props,we)||!Ye:Oe(this.props,we)}function re(we){return this.shouldComponentUpdate=te,Object(l.e)(_,we)}return re.displayName="Memo("+(_.displayName||_.name)+")",re.prototype.isReactComponent=!0,re.__f=!0,re}(Ae.prototype=new l.a).isPureReactComponent=!0,Ae.prototype.shouldComponentUpdate=function(_,Q){return Oe(this.props,_)||Oe(this.state,Q)};var Ne=l.i.__b;l.i.__b=function(_){_.type&&_.type.__f&&_.ref&&(_.props.ref=_.ref,_.ref=null),Ne&&Ne(_)};var ze=typeof Symbol!="undefined"&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function Qe(_){function Q(te,re){var we=ve({},te);return delete we.ref,_(we,!(re=te.ref||re)||typeof re=="object"&&!("current"in re)?null:re)}return Q.$$typeof=ze,Q.render=Q,Q.prototype.isReactComponent=Q.__f=!0,Q.displayName="ForwardRef("+(_.displayName||_.name)+")",Q}var Be=function(_,Q){return _==null?null:Object(l.k)(Object(l.k)(_).map(Q))},Se={map:Be,forEach:Be,count:function(_){return _?Object(l.k)(_).length:0},only:function(_){var Q=Object(l.k)(_);if(Q.length!==1)throw"Children.only";return Q[0]},toArray:l.k},Re=l.i.__e;l.i.__e=function(_,Q,te){if(_.then){for(var re,we=Q;we=we.__;)if((re=we.__c)&&re.__c)return Q.__e==null&&(Q.__e=te.__e,Q.__k=te.__k),re.__c(_,Q)}Re(_,Q,te)};var He=l.i.unmount;function Y(_,Q,te){return _&&(_.__c&&_.__c.__H&&(_.__c.__H.__.forEach(function(re){typeof re.__c=="function"&&re.__c()}),_.__c.__H=null),(_=ve({},_)).__c!=null&&(_.__c.__P===te&&(_.__c.__P=Q),_.__c=null),_.__k=_.__k&&_.__k.map(function(re){return Y(re,Q,te)})),_}function W(_,Q,te){return _&&(_.__v=null,_.__k=_.__k&&_.__k.map(function(re){return W(re,Q,te)}),_.__c&&_.__c.__P===Q&&(_.__e&&te.insertBefore(_.__e,_.__d),_.__c.__e=!0,_.__c.__P=te)),_}function ee(){this.__u=0,this.t=null,this.__b=null}function he(_){var Q=_.__.__c;return Q&&Q.__e&&Q.__e(_)}function xe(_){var Q,te,re;function we(De){if(Q||(Q=_()).then(function(Ye){te=Ye.default||Ye},function(Ye){re=Ye}),re)throw re;if(!te)throw Q;return Object(l.e)(te,De)}return we.displayName="Lazy",we.__f=!0,we}function pe(){this.u=null,this.o=null}l.i.unmount=function(_){var Q=_.__c;Q&&Q.__R&&Q.__R(),Q&&_.__h===!0&&(_.type=null),He&&He(_)},(ee.prototype=new l.a).__c=function(_,Q){var te=Q.__c,re=this;re.t==null&&(re.t=[]),re.t.push(te);var we=he(re.__v),De=!1,Ye=function(){De||(De=!0,te.__R=null,we?we(yt):yt())};te.__R=Ye;var yt=function(){if(!--re.__u){if(re.state.__e){var $t=re.state.__e;re.__v.__k[0]=W($t,$t.__c.__P,$t.__c.__O)}var Un;for(re.setState({__e:re.__b=null});Un=re.t.pop();)Un.forceUpdate()}},Zt=Q.__h===!0;re.__u++||Zt||re.setState({__e:re.__b=re.__v.__k[0]}),_.then(Ye,Ye)},ee.prototype.componentWillUnmount=function(){this.t=[]},ee.prototype.render=function(_,Q){if(this.__b){if(this.__v.__k){var te=document.createElement("div"),re=this.__v.__k[0].__c;this.__v.__k[0]=Y(this.__b,te,re.__O=re.__P)}this.__b=null}var we=Q.__e&&Object(l.e)(l.b,null,_.fallback);return we&&(we.__h=null),[Object(l.e)(l.b,null,Q.__e?null:_.children),we]};var Fe=function(_,Q,te){if(++te[1]===te[0]&&_.o.delete(Q),_.props.revealOrder&&(_.props.revealOrder[0]!=="t"||!_.o.size))for(te=_.u;te;){for(;te.length>3;)te.pop()();if(te[1]<te[0])break;_.u=te=te[2]}};function et(_){return this.getChildContext=function(){return _.context},_.children}function We(_){var Q=this,te=_.i;Q.componentWillUnmount=function(){Object(l.j)(null,Q.l),Q.l=null,Q.i=null},Q.i&&Q.i!==te&&Q.componentWillUnmount(),_.__v?(Q.l||(Q.i=te,Q.l={nodeType:1,parentNode:te,childNodes:[],appendChild:function(re){this.childNodes.push(re),Q.i.appendChild(re)},insertBefore:function(re,we){this.childNodes.push(re),Q.i.appendChild(re)},removeChild:function(re){this.childNodes.splice(this.childNodes.indexOf(re)>>>1,1),Q.i.removeChild(re)}}),Object(l.j)(Object(l.e)(et,{context:Q.context},_.__v),Q.l)):Q.l&&Q.componentWillUnmount()}function rt(_,Q){return Object(l.e)(We,{__v:_,i:Q})}(pe.prototype=new l.a).__e=function(_){var Q=this,te=he(Q.__v),re=Q.o.get(_);return re[0]++,function(we){var De=function(){Q.props.revealOrder?(re.push(we),Fe(Q,_,re)):we()};te?te(De):De()}},pe.prototype.render=function(_){this.u=null,this.o=new Map;var Q=Object(l.k)(_.children);_.revealOrder&&_.revealOrder[0]==="b"&&Q.reverse();for(var te=Q.length;te--;)this.o.set(Q[te],this.u=[1,0,this.u]);return _.children},pe.prototype.componentDidUpdate=pe.prototype.componentDidMount=function(){var _=this;this.o.forEach(function(Q,te){Fe(_,te,Q)})};var ye=typeof Symbol!="undefined"&&Symbol.for&&Symbol.for("react.element")||60103,ut=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,tt=typeof document!="undefined",Le=function(_){return(typeof Symbol!="undefined"&&typeof Symbol()=="symbol"?/fil|che|rad/i:/fil|che|ra/i).test(_)};function $e(_,Q,te){return Q.__k==null&&(Q.textContent=""),Object(l.j)(_,Q),typeof te=="function"&&te(),_?_.__c:null}function Mt(_,Q,te){return Object(l.h)(_,Q),typeof te=="function"&&te(),_?_.__c:null}l.a.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(_){Object.defineProperty(l.a.prototype,_,{configurable:!0,get:function(){return this["UNSAFE_"+_]},set:function(Q){Object.defineProperty(this,_,{configurable:!0,writable:!0,value:Q})}})});var ct=l.i.event;function bt(){}function ne(){return this.cancelBubble}function It(){return this.defaultPrevented}l.i.event=function(_){return ct&&(_=ct(_)),_.persist=bt,_.isPropagationStopped=ne,_.isDefaultPrevented=It,_.nativeEvent=_};var St,mt={configurable:!0,get:function(){return this.class}},Wt=l.i.vnode;l.i.vnode=function(_){var Q=_.type,te=_.props,re=te;if(typeof Q=="string"){var we=Q.indexOf("-")===-1;for(var De in re={},te){var Ye=te[De];tt&&De==="children"&&Q==="noscript"||De==="value"&&"defaultValue"in te&&Ye==null||(De==="defaultValue"&&"value"in te&&te.value==null?De="value":De==="download"&&Ye===!0?Ye="":/ondoubleclick/i.test(De)?De="ondblclick":/^onchange(textarea|input)/i.test(De+Q)&&!Le(te.type)?De="oninput":/^onfocus$/i.test(De)?De="onfocusin":/^onblur$/i.test(De)?De="onfocusout":/^on(Ani|Tra|Tou|BeforeInp)/.test(De)?De=De.toLowerCase():we&&ut.test(De)?De=De.replace(/[A-Z0-9]/,"-$&").toLowerCase():Ye===null&&(Ye=void 0),re[De]=Ye)}Q=="select"&&re.multiple&&Array.isArray(re.value)&&(re.value=Object(l.k)(te.children).forEach(function(yt){yt.props.selected=re.value.indexOf(yt.props.value)!=-1})),Q=="select"&&re.defaultValue!=null&&(re.value=Object(l.k)(te.children).forEach(function(yt){yt.props.selected=re.multiple?re.defaultValue.indexOf(yt.props.value)!=-1:re.defaultValue==yt.props.value})),_.props=re,te.class!=te.className&&(mt.enumerable="className"in te,te.className!=null&&(re.class=te.className),Object.defineProperty(re,"className",mt))}_.$$typeof=ye,Wt&&Wt(_)};var pr=l.i.__r;l.i.__r=function(_){pr&&pr(_),St=_.__c};var Jt={ReactCurrentDispatcher:{current:{readContext:function(_){return St.__n[_.__c].props.value}}}};function xr(_){return l.e.bind(null,_)}function qe(_){return!!_&&_.$$typeof===ye}function At(_){return qe(_)?l.c.apply(null,arguments):_}function nr(_){return!!_.__k&&(Object(l.j)(null,_),!0)}function Ce(_){return _&&(_.base||_.nodeType===1&&_)||null}var Xe=function(_,Q){return _(Q)},nt=function(_,Q){return _(Q)},Je=l.b,lt={useState:k,useReducer:U,useEffect:X,useLayoutEffect:le,useRef:ie,useImperativeHandle:$,useMemo:Z,useCallback:se,useContext:z,useDebugValue:H,version:"17.0.2",Children:Se,render:$e,hydrate:Mt,unmountComponentAtNode:nr,createPortal:rt,createElement:l.e,createContext:l.d,createFactory:xr,cloneElement:At,createRef:l.f,Fragment:l.b,isValidElement:qe,findDOMNode:Ce,Component:l.a,PureComponent:Ae,memo:Ee,forwardRef:Qe,flushSync:nt,unstable_batchedUpdates:Xe,StrictMode:Je,Suspense:ee,SuspenseList:pe,lazy:xe,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:Jt};c.d=lt},function(u,c,i){var l=i(7),f=i(147),v=i(148),b=i(179),E=i(57),S=function(w){if(w&&w.forEach!==b)try{E(w,"forEach",b)}catch(T){w.forEach=b}};for(var A in f)f[A]&&S(l[A]&&l[A].prototype);S(v)},function(u,c,i){var l=i(16),f=i(97);l({target:"Object",stat:!0},{setPrototypeOf:f})},function(u,c,i){var l=i(16),f=i(18),v=i(38),b=i(96),E=i(137),S=f(function(){b(1)});l({target:"Object",stat:!0,forced:S,sham:!E},{getPrototypeOf:function(w){return b(v(w))}})},function(u,c,i){var l=i(16),f=i(46),v=i(76),b=i(198),E=i(157),S=i(32),A=i(33),w=i(54),T=i(18),C=f("Reflect","construct"),j=Object.prototype,L=[].push,k=T(function(){function le(){}return!(C(function(){},[],le)instanceof le)}),U=!T(function(){C(function(){})}),X=k||U;l({target:"Reflect",stat:!0,forced:X,sham:X},{construct:function(ie,$){E(ie),S($);var Z=arguments.length<3?ie:E(arguments[2]);if(U&&!k)return C(ie,$,Z);if(ie==Z){switch($.length){case 0:return new ie;case 1:return new ie($[0]);case 2:return new ie($[0],$[1]);case 3:return new ie($[0],$[1],$[2]);case 4:return new ie($[0],$[1],$[2],$[3])}var se=[null];return v(L,se,$),new(v(b,ie,se))}var z=Z.prototype,H=w(A(z)?z:j),R=v(ie,H,$);return A(R)?R:H}})},function(u,c){var i=Function.prototype,l=i.bind,f=i.call,v=l&&l.bind(f);u.exports=l?function(b){return b&&v(f,b)}:function(b){return b&&function(){return f.apply(b,arguments)}}},function(u,c,i){var l=i(7),f=i(51).f,v=i(57),b=i(44),E=i(108),S=i(134),A=i(95);u.exports=function(w,T){var C=w.target,j=w.global,L=w.stat,k,U,X,le,ie,$;if(j?U=l:L?U=l[C]||E(C,{}):U=(l[C]||{}).prototype,U)for(X in T){if(ie=T[X],w.noTargetGet?($=f(U,X),le=$&&$.value):le=U[X],k=A(j?X:C+(L?".":"#")+X,w.forced),!k&&le!==void 0){if(typeof ie==typeof le)continue;S(ie,le)}(w.sham||le&&le.sham)&&v(ie,"sham",!0),b(U,X,ie,w)}}},function(u,c,i){var l=i(16),f=i(7),v=i(99),b=i(100),E=i(33),S=i(67),A=i(43),w=i(39),T=i(61),C=i(27),j=i(75),L=i(101),k=j("slice"),U=C("species"),X=f.Array,le=Math.max;l({target:"Array",proto:!0,forced:!k},{slice:function($,Z){var se=w(this),z=A(se),H=S($,z),R=S(Z===void 0?z:Z,z),M,I,K;if(v(se)&&(M=se.constructor,b(M)&&(M===X||v(M.prototype))?M=void 0:E(M)&&(M=M[U],M===null&&(M=void 0)),M===X||M===void 0))return L(se,H,R);for(I=new(M===void 0?X:M)(le(R-H,0)),K=0;H<R;H++,K++)H in se&&T(I,K,se[H]);return I.length=K,I}})},function(u,c){u.exports=function(i){try{return!!i()}catch(l){return!0}}},function(u,c,i){var l=i(16),f=i(102);l({target:"RegExp",proto:!0,forced:/./.exec!==f},{exec:f})},function(u,c,i){var l=i(16),f=i(38),v=i(66),b=i(18),E=b(function(){v(1)});l({target:"Object",stat:!0,forced:E},{keys:function(A){return v(f(A))}})},function(u,c,i){var l=i(16),f=i(18),v=i(39),b=i(51).f,E=i(36),S=f(function(){b(1)}),A=!E||S;l({target:"Object",stat:!0,forced:A,sham:!E},{getOwnPropertyDescriptor:function(T,C){return b(v(T),C)}})},function(u,c,i){var l=i(16),f=i(74).filter,v=i(75),b=v("filter");l({target:"Array",proto:!0,forced:!b},{filter:function(S){return f(this,S,arguments.length>1?arguments[1]:void 0)}})},function(u,c,i){var l=i(16),f=i(36),v=i(135),b=i(39),E=i(51),S=i(61);l({target:"Object",stat:!0,sham:!f},{getOwnPropertyDescriptors:function(w){for(var T=b(w),C=E.f,j=v(T),L={},k=0,U,X;j.length>k;)X=C(T,U=j[k++]),X!==void 0&&S(L,U,X);return L}})},function(u,c,i){var l=i(36),f=i(94).EXISTS,v=i(15),b=i(37).f,E=Function.prototype,S=v(E.toString),A=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,w=v(A.exec),T="name";l&&!f&&b(E,T,{configurable:!0,get:function(){try{return w(A,S(this))[1]}catch(C){return""}}})},function(u,c,i){var l=i(16),f=i(182),v=i(118),b=!v(function(E){Array.from(E)});l({target:"Array",stat:!0,forced:b},{from:f})},,function(u,c,i){var l=i(7),f=i(84),v=i(34),b=i(85),E=i(109),S=i(128),A=f("wks"),w=l.Symbol,T=w&&w.for,C=S?w:w&&w.withoutSetter||b;u.exports=function(j){if(!v(A,j)||!(E||typeof A[j]=="string")){var L="Symbol."+j;E&&v(w,j)?A[j]=w[j]:S&&T?A[j]=T(L):A[j]=C(L)}return A[j]}},function(u,c){u.exports=function(i){return typeof i=="function"}},function(u,c,i){var l=i(16),f=i(7),v=i(18),b=i(99),E=i(33),S=i(38),A=i(43),w=i(61),T=i(119),C=i(75),j=i(27),L=i(65),k=j("isConcatSpreadable"),U=9007199254740991,X="Maximum allowed index exceeded",le=f.TypeError,ie=L>=51||!v(function(){var z=[];return z[k]=!1,z.concat()[0]!==z}),$=C("concat"),Z=function(z){if(!E(z))return!1;var H=z[k];return H!==void 0?!!H:b(z)},se=!ie||!$;l({target:"Array",proto:!0,forced:se},{concat:function(H){var R=S(this),M=T(R,0),I=0,K,q,de,Te,ve;for(K=-1,de=arguments.length;K<de;K++)if(ve=K===-1?R:arguments[K],Z(ve)){if(Te=A(ve),I+Te>U)throw le(X);for(q=0;q<Te;q++,I++)q in ve&&w(M,I,ve[q])}else{if(I>=U)throw le(X);w(M,I++,ve)}return M.length=I,M}})},function(u,c,i){var l=i(105),f=typeof self=="object"&&self&&self.Object===Object&&self,v=l.a||f||Function("return this")();c.a=v},function(u,c,i){var l=i(16),f=i(200);l({target:"Object",stat:!0,forced:Object.assign!==f},{assign:f})},function(u,c,i){var l=i(7),f=i(33),v=l.String,b=l.TypeError;u.exports=function(E){if(f(E))return E;throw b(v(E)+" is not an object")}},function(u,c,i){var l=i(28);u.exports=function(f){return typeof f=="object"?f!==null:l(f)}},function(u,c,i){var l=i(15),f=i(38),v=l({}.hasOwnProperty);u.exports=Object.hasOwn||function(E,S){return v(f(E),S)}},function(u,c){var i=Function.prototype.call;u.exports=i.bind?i.bind(i):function(){return i.apply(i,arguments)}},function(u,c,i){var l=i(18);u.exports=!l(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},function(u,c,i){var l=i(7),f=i(36),v=i(129),b=i(32),E=i(87),S=l.TypeError,A=Object.defineProperty;c.f=f?A:function(T,C,j){if(b(T),C=E(C),b(j),v)try{return A(T,C,j)}catch(L){}if("get"in j||"set"in j)throw S("Accessors not supported");return"value"in j&&(T[C]=j.value),T}},function(u,c,i){var l=i(7),f=i(45),v=l.Object;u.exports=function(b){return v(f(b))}},function(u,c,i){var l=i(81),f=i(45);u.exports=function(v){return l(f(v))}},function(u,c,i){var l=i(7),f=i(98),v=l.String;u.exports=function(b){if(f(b)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return v(b)}},function(u,c,i){var l=i(16),f=i(74).map,v=i(75),b=v("map");l({target:"Array",proto:!0,forced:!b},{map:function(S){return f(this,S,arguments.length>1?arguments[1]:void 0)}})},function(u,c,i){(function(l){i.d(c,"d",function(){return b}),i.d(c,"c",function(){return E}),i.d(c,"b",function(){return S}),i.d(c,"a",function(){return w});var f=i(10),v=function(T,C){var j=typeof Symbol=="function"&&T[Symbol.iterator];if(!j)return T;var L=j.call(T),k,U=[],X;try{for(;(C===void 0||C-- >0)&&!(k=L.next()).done;)U.push(k.value)}catch(le){X={error:le}}finally{try{k&&!k.done&&(j=L.return)&&j.call(L)}finally{if(X)throw X.error}}return U};function b(){var T=v(Object(f.j)(0),2),C=T[1],j=Object(f.h)(function(){C(function(L){return L+1})},[]);return j}function E(T){if(!T||typeof T!="object")return!1;var C=Object.getPrototypeOf(T);return!C||C===Object.prototype}function S(T){return typeof Symbol=="function"?Symbol.for(T):"__$mobx-react "+T+"__"}var A={};function w(){return typeof window!="undefined"?window:typeof l!="undefined"?l:typeof self!="undefined"?self:A}}).call(this,i(82))},function(u,c,i){var l=i(90);u.exports=function(f){return l(f.length)}},function(u,c,i){var l=i(7),f=i(28),v=i(34),b=i(57),E=i(108),S=i(92),A=i(56),w=i(94).CONFIGURABLE,T=A.get,C=A.enforce,j=String(String).split("String");(u.exports=function(L,k,U,X){var le=X?!!X.unsafe:!1,ie=X?!!X.enumerable:!1,$=X?!!X.noTargetGet:!1,Z=X&&X.name!==void 0?X.name:k,se;if(f(U)&&(String(Z).slice(0,7)==="Symbol("&&(Z="["+String(Z).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!v(U,"name")||w&&U.name!==Z)&&b(U,"name",Z),se=C(U),se.source||(se.source=j.join(typeof Z=="string"?Z:""))),L===l){ie?L[k]=U:E(k,U);return}else le?!$&&L[k]&&(ie=!0):delete L[k];ie?L[k]=U:b(L,k,U)})(Function.prototype,"toString",function(){return f(this)&&T(this).source||S(this)})},function(u,c,i){var l=i(7),f=l.TypeError;u.exports=function(v){if(v==null)throw f("Can't call method on "+v);return v}},function(u,c,i){var l=i(7),f=i(28),v=function(b){return f(b)?b:void 0};u.exports=function(b,E){return arguments.length<2?v(l[b]):l[b]&&l[b][E]}},function(u,c,i){var l=i(16),f=i(35),v=i(33),b=i(32),E=i(199),S=i(51),A=i(96);function w(T,C){var j=arguments.length<3?T:arguments[2],L,k;if(b(T)===j)return T[C];if(L=S.f(T,C),L)return E(L)?L.value:L.get===void 0?void 0:f(L.get,j);if(v(k=A(T)))return w(k,C,j)}l({target:"Reflect",stat:!0},{get:w})},function(u,c,i){(function(l){var f=i(30),v=i(165),b=y&&!y.nodeType&&y,E=b&&typeof l=="object"&&l&&!l.nodeType&&l,S=E&&E.exports===b,A=S?f.a.Buffer:void 0,w=A?A.isBuffer:void 0,T=w||v.a;c.a=T}).call(this,i(121)(u))},function(u,c,i){(function(l){var f=i(105),v=y&&!y.nodeType&&y,b=v&&typeof l=="object"&&l&&!l.nodeType&&l,E=b&&b.exports===v,S=E&&f.a.process,A=function(){try{var w=b&&b.require&&b.require("util").types;return w||S&&S.binding&&S.binding("util")}catch(T){}}();c.a=A}).call(this,i(121)(u))},function(u,c,i){var l=i(15),f=l({}.toString),v=l("".slice);u.exports=function(b){return v(f(b),8,-1)}},function(u,c,i){var l=i(36),f=i(35),v=i(93),b=i(71),E=i(39),S=i(87),A=i(34),w=i(129),T=Object.getOwnPropertyDescriptor;c.f=l?T:function(j,L){if(j=E(j),L=S(L),w)try{return T(j,L)}catch(k){}if(A(j,L))return b(!f(v.f,j,L),j[L])}},function(u,c,i){var l=i(16),f=i(213).entries;l({target:"Object",stat:!0},{entries:function(b){return f(b)}})},function(u,c,i){var l=i(46);u.exports=l("navigator","userAgent")||""},function(u,c,i){var l=i(32),f=i(168),v=i(110),b=i(69),E=i(133),S=i(86),A=i(91),w=">",T="<",C="prototype",j="script",L=A("IE_PROTO"),k=function(){},U=function(Z){return T+j+w+Z+T+"/"+j+w},X=function(Z){Z.write(U("")),Z.close();var se=Z.parentWindow.Object;return Z=null,se},le=function(){var Z=S("iframe"),se="java"+j+":",z;return Z.style.display="none",E.appendChild(Z),Z.src=String(se),z=Z.contentWindow.document,z.open(),z.write(U("document.F=Object")),z.close(),z.F},ie,$=function(){try{ie=new ActiveXObject("htmlfile")}catch(se){}$=typeof document!="undefined"?document.domain&&ie?X(ie):le():X(ie);for(var Z=v.length;Z--;)delete $[C][v[Z]];return $()};b[L]=!0,u.exports=Object.create||function(se,z){var H;return se!==null?(k[C]=l(se),H=new k,k[C]=null,H[L]=se):H=$(),z===void 0?H:f(H,z)}},function(u,c,i){var l=i(7),f=i(28),v=i(89),b=l.TypeError;u.exports=function(E){if(f(E))return E;throw b(v(E)+" is not a function")}},function(u,c,i){var l=i(170),f=i(7),v=i(15),b=i(33),E=i(57),S=i(34),A=i(107),w=i(91),T=i(69),C="Object already initialized",j=f.TypeError,L=f.WeakMap,k,U,X,le=function(R){return X(R)?U(R):k(R,{})},ie=function(R){return function(M){var I;if(!b(M)||(I=U(M)).type!==R)throw j("Incompatible receiver, "+R+" required");return I}};if(l||A.state){var $=A.state||(A.state=new L),Z=v($.get),se=v($.has),z=v($.set);k=function(R,M){if(se($,R))throw new j(C);return M.facade=R,z($,R,M),M},U=function(R){return Z($,R)||{}},X=function(R){return se($,R)}}else{var H=w("state");T[H]=!0,k=function(R,M){if(S(R,H))throw new j(C);return M.facade=R,E(R,H,M),M},U=function(R){return S(R,H)?R[H]:{}},X=function(R){return S(R,H)}}u.exports={set:k,get:U,has:X,enforce:le,getterFor:ie}},function(u,c,i){var l=i(36),f=i(37),v=i(71);u.exports=l?function(b,E,S){return f.f(b,E,v(1,S))}:function(b,E,S){return b[E]=S,b}},function(u,c,i){var l=i(15);u.exports=l({}.isPrototypeOf)},function(u,c,i){var l=i(55);u.exports=function(f,v){var b=f[v];return b==null?void 0:l(b)}},function(u,c,i){var l=i(173),f=i(177);l("Map",function(v){return function(){return v(this,arguments.length?arguments[0]:void 0)}},f)},function(u,c,i){var l=i(87),f=i(37),v=i(71);u.exports=function(b,E,S){var A=l(E);A in b?f.f(b,A,v(0,S)):b[A]=S}},function(u,c,i){var l=i(15),f=i(55),v=l(l.bind);u.exports=function(b,E){return f(b),E===void 0?b:v?v(b,E):function(){return b.apply(E,arguments)}}},function(u,c,i){var l=i(16),f=i(214),v=i(83);l({target:"Array",proto:!0},{fill:f}),v("fill")},function(u,c){u.exports=!1},function(u,c,i){var l=i(7),f=i(53),v=l.process,b=l.Deno,E=v&&v.versions||b&&b.version,S=E&&E.v8,A,w;S&&(A=S.split("."),w=A[0]>0&&A[0]<4?1:+(A[0]+A[1])),!w&&f&&(A=f.match(/Edge\/(\d+)/),(!A||A[1]>=74)&&(A=f.match(/Chrome\/(\d+)/),A&&(w=+A[1]))),u.exports=w},function(u,c,i){var l=i(131),f=i(110);u.exports=Object.keys||function(b){return l(b,f)}},function(u,c,i){var l=i(68),f=Math.max,v=Math.min;u.exports=function(b,E){var S=l(b);return S<0?f(S+E,0):v(S,E)}},function(u,c){var i=Math.ceil,l=Math.floor;u.exports=function(f){var v=+f;return v!==v||v===0?0:(v>0?l:i)(v)}},function(u,c){u.exports={}},function(u,c){u.exports={}},function(u,c){u.exports=function(i,l){return{enumerable:!(i&1),configurable:!(i&2),writable:!(i&4),value:l}}},function(u,c,i){var l=i(131),f=i(110),v=f.concat("length","prototype");c.f=Object.getOwnPropertyNames||function(E){return l(E,v)}},function(u,c,i){var l=i(37).f,f=i(34),v=i(27),b=v("toStringTag");u.exports=function(E,S,A){E&&!f(E=A?E:E.prototype,b)&&l(E,b,{configurable:!0,value:S})}},function(u,c,i){var l=i(62),f=i(15),v=i(81),b=i(38),E=i(43),S=i(119),A=f([].push),w=function(T){var C=T==1,j=T==2,L=T==3,k=T==4,U=T==6,X=T==7,le=T==5||U;return function(ie,$,Z,se){for(var z=b(ie),H=v(z),R=l($,Z),M=E(H),I=0,K=se||S,q=C?K(ie,M):j||X?K(ie,0):void 0,de,Te;M>I;I++)if((le||I in H)&&(de=H[I],Te=R(de,I,z),T))if(C)q[I]=Te;else if(Te)switch(T){case 3:return!0;case 5:return de;case 6:return I;case 2:A(q,de)}else switch(T){case 4:return!1;case 7:A(q,de)}return U?-1:L||k?k:q}};u.exports={forEach:w(0),map:w(1),filter:w(2),some:w(3),every:w(4),find:w(5),findIndex:w(6),filterReject:w(7)}},function(u,c,i){var l=i(18),f=i(27),v=i(65),b=f("species");u.exports=function(E){return v>=51||!l(function(){var S=[],A=S.constructor={};return A[b]=function(){return{foo:1}},S[E](Boolean).foo!==1})}},function(u,c){var i=Function.prototype,l=i.apply,f=i.bind,v=i.call;u.exports=typeof Reflect=="object"&&Reflect.apply||(f?v.bind(l):function(){return v.apply(l,arguments)})},function(u,c,i){var l=i(16),f=i(15),v=i(81),b=i(39),E=i(120),S=f([].join),A=v!=Object,w=E("join",",");l({target:"Array",proto:!0,forced:A||!w},{join:function(C){return S(b(this),C===void 0?",":C)}})},function(u,c,i){var l=i(76),f=i(35),v=i(15),b=i(122),E=i(154),S=i(32),A=i(45),w=i(156),T=i(123),C=i(90),j=i(40),L=i(59),k=i(113),U=i(124),X=i(102),le=i(151),ie=i(18),$=le.UNSUPPORTED_Y,Z=4294967295,se=Math.min,z=[].push,H=v(/./.exec),R=v(z),M=v("".slice),I=!ie(function(){var K=/(?:)/,q=K.exec;K.exec=function(){return q.apply(this,arguments)};var de="ab".split(K);return de.length!==2||de[0]!=="a"||de[1]!=="b"});b("split",function(K,q,de){var Te;return"abbc".split(/(b)*/)[1]=="c"||"test".split(/(?:)/,-1).length!=4||"ab".split(/(?:ab)*/).length!=2||".".split(/(.?)(.?)/).length!=4||".".split(/()()/).length>1||"".split(/.?/).length?Te=function(ve,Oe){var Ae=j(A(this)),Ee=Oe===void 0?Z:Oe>>>0;if(Ee===0)return[];if(ve===void 0)return[Ae];if(!E(ve))return f(q,Ae,ve,Ee);for(var Ne=[],ze=(ve.ignoreCase?"i":"")+(ve.multiline?"m":"")+(ve.unicode?"u":"")+(ve.sticky?"y":""),Qe=0,Be=new RegExp(ve.source,ze+"g"),Se,Re,He;(Se=f(X,Be,Ae))&&(Re=Be.lastIndex,!(Re>Qe&&(R(Ne,M(Ae,Qe,Se.index)),Se.length>1&&Se.index<Ae.length&&l(z,Ne,k(Se,1)),He=Se[0].length,Qe=Re,Ne.length>=Ee)));)Be.lastIndex===Se.index&&Be.lastIndex++;return Qe===Ae.length?(He||!H(Be,""))&&R(Ne,""):R(Ne,M(Ae,Qe)),Ne.length>Ee?k(Ne,0,Ee):Ne}:"0".split(void 0,0).length?Te=function(ve,Oe){return ve===void 0&&Oe===0?[]:f(q,this,ve,Oe)}:Te=q,[function(Oe,Ae){var Ee=A(this),Ne=Oe==null?void 0:L(Oe,K);return Ne?f(Ne,Oe,Ee,Ae):f(Te,j(Ee),Oe,Ae)},function(ve,Oe){var Ae=S(this),Ee=j(ve),Ne=de(Te,Ae,Ee,Oe,Te!==q);if(Ne.done)return Ne.value;var ze=w(Ae,RegExp),Qe=Ae.unicode,Be=(Ae.ignoreCase?"i":"")+(Ae.multiline?"m":"")+(Ae.unicode?"u":"")+($?"g":"y"),Se=new ze($?"^(?:"+Ae.source+")":Ae,Be),Re=Oe===void 0?Z:Oe>>>0;if(Re===0)return[];if(Ee.length===0)return U(Se,Ee)===null?[Ee]:[];for(var He=0,Y=0,W=[];Y<Ee.length;){Se.lastIndex=$?0:Y;var ee=U(Se,$?M(Ee,Y):Ee),he;if(ee===null||(he=se(C(Se.lastIndex+($?Y:0)),Ee.length))===He)Y=T(Ee,Y,Qe);else{if(R(W,M(Ee,He,Y)),W.length===Re)return W;for(var xe=1;xe<=ee.length-1;xe++)if(R(W,ee[xe]),W.length===Re)return W;Y=He=he}}return R(W,M(Ee,He)),W}]},!I,$)},function(u,c,i){var l=i(36),f=i(7),v=i(15),b=i(95),E=i(44),S=i(34),A=i(143),w=i(58),T=i(88),C=i(130),j=i(18),L=i(72).f,k=i(51).f,U=i(37).f,X=i(196),le=i(159).trim,ie="Number",$=f[ie],Z=$.prototype,se=f.TypeError,z=v("".slice),H=v("".charCodeAt),R=function(Te){var ve=C(Te,"number");return typeof ve=="bigint"?ve:M(ve)},M=function(Te){var ve=C(Te,"number"),Oe,Ae,Ee,Ne,ze,Qe,Be,Se;if(T(ve))throw se("Cannot convert a Symbol value to a number");if(typeof ve=="string"&&ve.length>2){if(ve=le(ve),Oe=H(ve,0),Oe===43||Oe===45){if(Ae=H(ve,2),Ae===88||Ae===120)return NaN}else if(Oe===48){switch(H(ve,1)){case 66:case 98:Ee=2,Ne=49;break;case 79:case 111:Ee=8,Ne=55;break;default:return+ve}for(ze=z(ve,2),Qe=ze.length,Be=0;Be<Qe;Be++)if(Se=H(ze,Be),Se<48||Se>Ne)return NaN;return parseInt(ze,Ee)}}return+ve};if(b(ie,!$(" 0o1")||!$("0b1")||$("+0x1"))){for(var I=function(ve){var Oe=arguments.length<1?0:$(R(ve)),Ae=this;return w(Z,Ae)&&j(function(){X(Ae)})?A(Object(Oe),Ae,I):Oe},K=l?L($):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),q=0,de;K.length>q;q++)S($,de=K[q])&&!S(I,de)&&U(I,de,k($,de));I.prototype=Z,Z.constructor=I,E(f,ie,I)}},function(u,c,i){var l=i(16);l({target:"Number",stat:!0},{MAX_SAFE_INTEGER:9007199254740991})},function(u,c,i){var l=i(7),f=i(15),v=i(18),b=i(50),E=l.Object,S=f("".split);u.exports=v(function(){return!E("z").propertyIsEnumerable(0)})?function(A){return b(A)=="String"?S(A,""):E(A)}:E},function(u,c){var i;i=function(){return this}();try{i=i||new Function("return this")()}catch(l){typeof window=="object"&&(i=window)}u.exports=i},function(u,c,i){var l=i(27),f=i(54),v=i(37),b=l("unscopables"),E=Array.prototype;E[b]==null&&v.f(E,b,{configurable:!0,value:f(null)}),u.exports=function(S){E[b][S]=!0}},function(u,c,i){var l=i(64),f=i(107);(u.exports=function(v,b){return f[v]||(f[v]=b!==void 0?b:{})})("versions",[]).push({version:"3.19.3",mode:l?"pure":"global",copyright:"\xA9 2021 Denis Pushkarev (zloirock.ru)"})},function(u,c,i){var l=i(15),f=0,v=Math.random(),b=l(1 .toString);u.exports=function(E){return"Symbol("+(E===void 0?"":E)+")_"+b(++f+v,36)}},function(u,c,i){var l=i(7),f=i(33),v=l.document,b=f(v)&&f(v.createElement);u.exports=function(E){return b?v.createElement(E):{}}},function(u,c,i){var l=i(130),f=i(88);u.exports=function(v){var b=l(v,"string");return f(b)?b:b+""}},function(u,c,i){var l=i(7),f=i(46),v=i(28),b=i(58),E=i(128),S=l.Object;u.exports=E?function(A){return typeof A=="symbol"}:function(A){var w=f("Symbol");return v(w)&&b(w.prototype,S(A))}},function(u,c,i){var l=i(7),f=l.String;u.exports=function(v){try{return f(v)}catch(b){return"Object"}}},function(u,c,i){var l=i(68),f=Math.min;u.exports=function(v){return v>0?f(l(v),9007199254740991):0}},function(u,c,i){var l=i(84),f=i(85),v=l("keys");u.exports=function(b){return v[b]||(v[b]=f(b))}},function(u,c,i){var l=i(15),f=i(28),v=i(107),b=l(Function.toString);f(v.inspectSource)||(v.inspectSource=function(E){return b(E)}),u.exports=v.inspectSource},function(u,c,i){var l={}.propertyIsEnumerable,f=Object.getOwnPropertyDescriptor,v=f&&!l.call({1:2},1);c.f=v?function(E){var S=f(this,E);return!!S&&S.enumerable}:l},function(u,c,i){var l=i(36),f=i(34),v=Function.prototype,b=l&&Object.getOwnPropertyDescriptor,E=f(v,"name"),S=E&&function(){}.name==="something",A=E&&(!l||l&&b(v,"name").configurable);u.exports={EXISTS:E,PROPER:S,CONFIGURABLE:A}},function(u,c,i){var l=i(18),f=i(28),v=/#|\.prototype\./,b=function(T,C){var j=S[E(T)];return j==w?!0:j==A?!1:f(C)?l(C):!!C},E=b.normalize=function(T){return String(T).replace(v,".").toLowerCase()},S=b.data={},A=b.NATIVE="N",w=b.POLYFILL="P";u.exports=b},function(u,c,i){var l=i(7),f=i(34),v=i(28),b=i(38),E=i(91),S=i(137),A=E("IE_PROTO"),w=l.Object,T=w.prototype;u.exports=S?w.getPrototypeOf:function(C){var j=b(C);if(f(j,A))return j[A];var L=j.constructor;return v(L)&&j instanceof L?L.prototype:j instanceof w?T:null}},function(u,c,i){var l=i(15),f=i(32),v=i(172);u.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var b=!1,E={},S;try{S=l(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set),S(E,[]),b=E instanceof Array}catch(A){}return function(w,T){return f(w),v(T),b?S(w,T):w.__proto__=T,w}}():void 0)},function(u,c,i){var l=i(7),f=i(116),v=i(28),b=i(50),E=i(27),S=E("toStringTag"),A=l.Object,w=b(function(){return arguments}())=="Arguments",T=function(C,j){try{return C[j]}catch(L){}};u.exports=f?b:function(C){var j,L,k;return C===void 0?"Undefined":C===null?"Null":typeof(L=T(j=A(C),S))=="string"?L:w?b(j):(k=b(j))=="Object"&&v(j.callee)?"Arguments":k}},function(u,c,i){var l=i(50);u.exports=Array.isArray||function(v){return l(v)=="Array"}},function(u,c,i){var l=i(15),f=i(18),v=i(28),b=i(98),E=i(46),S=i(92),A=function(){},w=[],T=E("Reflect","construct"),C=/^\s*(?:class|function)\b/,j=l(C.exec),L=!C.exec(A),k=function(X){if(!v(X))return!1;try{return T(A,w,X),!0}catch(le){return!1}},U=function(X){if(!v(X))return!1;switch(b(X)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}return L||!!j(C,S(X))};u.exports=!T||f(function(){var X;return k(k.call)||!k(Object)||!k(function(){X=!0})||X})?U:k},function(u,c,i){var l=i(15);u.exports=l([].slice)},function(u,c,i){var l=i(35),f=i(15),v=i(40),b=i(184),E=i(151),S=i(84),A=i(54),w=i(56).get,T=i(185),C=i(186),j=S("native-string-replace",String.prototype.replace),L=RegExp.prototype.exec,k=L,U=f("".charAt),X=f("".indexOf),le=f("".replace),ie=f("".slice),$=function(){var H=/a/,R=/b*/g;return l(L,H,"a"),l(L,R,"a"),H.lastIndex!==0||R.lastIndex!==0}(),Z=E.BROKEN_CARET,se=/()??/.exec("")[1]!==void 0,z=$||se||Z||T||C;z&&(k=function(R){var M=this,I=w(M),K=v(R),q=I.raw,de,Te,ve,Oe,Ae,Ee,Ne;if(q)return q.lastIndex=M.lastIndex,de=l(k,q,K),M.lastIndex=q.lastIndex,de;var ze=I.groups,Qe=Z&&M.sticky,Be=l(b,M),Se=M.source,Re=0,He=K;if(Qe&&(Be=le(Be,"y",""),X(Be,"g")===-1&&(Be+="g"),He=ie(K,M.lastIndex),M.lastIndex>0&&(!M.multiline||M.multiline&&U(K,M.lastIndex-1)!==`
`)&&(Se="(?: "+Se+")",He=" "+He,Re++),Te=new RegExp("^(?:"+Se+")",Be)),se&&(Te=new RegExp("^"+Se+"$(?!\\s)",Be)),$&&(ve=M.lastIndex),Oe=l(L,Qe?Te:M,He),Qe?Oe?(Oe.input=ie(Oe.input,Re),Oe[0]=ie(Oe[0],Re),Oe.index=M.lastIndex,M.lastIndex+=Oe[0].length):M.lastIndex=0:$&&Oe&&(M.lastIndex=M.global?Oe.index+Oe[0].length:ve),se&&Oe&&Oe.length>1&&l(j,Oe[0],Te,function(){for(Ae=1;Ae<arguments.length-2;Ae++)arguments[Ae]===void 0&&(Oe[Ae]=void 0)}),Oe&&ze)for(Oe.groups=Ee=A(null),Ae=0;Ae<ze.length;Ae++)Ne=ze[Ae],Ee[Ne[0]]=Oe[Ne[1]];return Oe}),u.exports=k},function(u,c,i){var l=i(16),f=i(7),v=i(67),b=i(68),E=i(43),S=i(38),A=i(119),w=i(61),T=i(75),C=T("splice"),j=f.TypeError,L=Math.max,k=Math.min,U=9007199254740991,X="Maximum allowed length exceeded";l({target:"Array",proto:!0,forced:!C},{splice:function(ie,$){var Z=S(this),se=E(Z),z=v(ie,se),H=arguments.length,R,M,I,K,q,de;if(H===0?R=M=0:H===1?(R=0,M=se-z):(R=H-2,M=k(L(b($),0),se-z)),se+R-M>U)throw j(X);for(I=A(Z,M),K=0;K<M;K++)q=z+K,q in Z&&w(I,K,Z[q]);if(I.length=M,R<M){for(K=z;K<se-M;K++)q=K+M,de=K+R,q in Z?Z[de]=Z[q]:delete Z[de];for(K=se;K>se-M+R;K--)delete Z[K-1]}else if(R>M)for(K=se-M;K>z;K--)q=K+M-1,de=K+R-1,q in Z?Z[de]=Z[q]:delete Z[de];for(K=0;K<R;K++)Z[K+z]=arguments[K+2];return Z.length=se-M+R,I}})},function(u,c,i){var l=i(16),f=i(201),v=i(202);l({target:"String",proto:!0,forced:v("anchor")},{anchor:function(E){return f(this,"a","name",E)}})},function(u,c,i){(function(l){var f=typeof l=="object"&&l&&l.Object===Object&&l;c.a=f}).call(this,i(82))},function(u,c,i){(function(l){var f=i(30),v=y&&!y.nodeType&&y,b=v&&typeof l=="object"&&l&&!l.nodeType&&l,E=b&&b.exports===v,S=E?f.a.Buffer:void 0,A=S?S.allocUnsafe:void 0;function w(T,C){if(C)return T.slice();var j=T.length,L=A?A(j):new T.constructor(j);return T.copy(L),L}c.a=w}).call(this,i(121)(u))},function(u,c,i){var l=i(7),f=i(108),v="__core-js_shared__",b=l[v]||f(v,{});u.exports=b},function(u,c,i){var l=i(7),f=Object.defineProperty;u.exports=function(v,b){try{f(l,v,{value:b,configurable:!0,writable:!0})}catch(E){l[v]=b}return b}},function(u,c,i){var l=i(65),f=i(18);u.exports=!!Object.getOwnPropertySymbols&&!f(function(){var v=Symbol();return!String(v)||!(Object(v)instanceof Symbol)||!Symbol.sham&&l&&l<41})},function(u,c){u.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(u,c,i){var l=i(16),f=i(35),v=i(64),b=i(94),E=i(28),S=i(171),A=i(96),w=i(97),T=i(73),C=i(57),j=i(44),L=i(27),k=i(70),U=i(136),X=b.PROPER,le=b.CONFIGURABLE,ie=U.IteratorPrototype,$=U.BUGGY_SAFARI_ITERATORS,Z=L("iterator"),se="keys",z="values",H="entries",R=function(){return this};u.exports=function(M,I,K,q,de,Te,ve){S(K,I,q);var Oe=function(Y){if(Y===de&&Qe)return Qe;if(!$&&Y in Ne)return Ne[Y];switch(Y){case se:return function(){return new K(this,Y)};case z:return function(){return new K(this,Y)};case H:return function(){return new K(this,Y)}}return function(){return new K(this)}},Ae=I+" Iterator",Ee=!1,Ne=M.prototype,ze=Ne[Z]||Ne["@@iterator"]||de&&Ne[de],Qe=!$&&ze||Oe(de),Be=I=="Array"&&Ne.entries||ze,Se,Re,He;if(Be&&(Se=A(Be.call(new M)),Se!==Object.prototype&&Se.next&&(!v&&A(Se)!==ie&&(w?w(Se,ie):E(Se[Z])||j(Se,Z,R)),T(Se,Ae,!0,!0),v&&(k[Ae]=R))),X&&de==z&&ze&&ze.name!==z&&(!v&&le?C(Ne,"name",z):(Ee=!0,Qe=function(){return f(ze,this)})),de)if(Re={values:Oe(z),keys:Te?Qe:Oe(se),entries:Oe(H)},ve)for(He in Re)($||Ee||!(He in Ne))&&j(Ne,He,Re[He]);else l({target:I,proto:!0,forced:$||Ee},Re);return(!v||ve)&&Ne[Z]!==Qe&&j(Ne,Z,Qe,{name:de}),k[I]=Qe,Re}},function(u,c){c.f=Object.getOwnPropertySymbols},function(u,c,i){var l=i(7),f=i(67),v=i(43),b=i(61),E=l.Array,S=Math.max;u.exports=function(A,w,T){for(var C=v(A),j=f(w,C),L=f(T===void 0?C:T,C),k=E(S(L-j,0)),U=0;j<L;j++,U++)b(k,U,A[j]);return k.length=U,k}},function(u,c,i){var l=i(7),f=i(62),v=i(35),b=i(32),E=i(89),S=i(140),A=i(43),w=i(58),T=i(141),C=i(115),j=i(142),L=l.TypeError,k=function(X,le){this.stopped=X,this.result=le},U=k.prototype;u.exports=function(X,le,ie){var $=ie&&ie.that,Z=!!(ie&&ie.AS_ENTRIES),se=!!(ie&&ie.IS_ITERATOR),z=!!(ie&&ie.INTERRUPTED),H=f(le,$),R,M,I,K,q,de,Te,ve=function(Ae){return R&&j(R,"normal",Ae),new k(!0,Ae)},Oe=function(Ae){return Z?(b(Ae),z?H(Ae[0],Ae[1],ve):H(Ae[0],Ae[1])):z?H(Ae,ve):H(Ae)};if(se)R=X;else{if(M=C(X),!M)throw L(E(X)+" is not iterable");if(S(M)){for(I=0,K=A(X);K>I;I++)if(q=Oe(X[I]),q&&w(U,q))return q;return new k(!1)}R=T(X,M)}for(de=R.next;!(Te=v(de,R)).done;){try{q=Oe(Te.value)}catch(Ae){j(R,"throw",Ae)}if(typeof q=="object"&&q&&w(U,q))return q}return new k(!1)}},function(u,c,i){var l=i(98),f=i(59),v=i(70),b=i(27),E=b("iterator");u.exports=function(S){if(S!=null)return f(S,E)||f(S,"@@iterator")||v[l(S)]}},function(u,c,i){var l=i(27),f=l("toStringTag"),v={};v[f]="z",u.exports=String(v)==="[object z]"},function(u,c,i){var l=i(7),f=i(58),v=l.TypeError;u.exports=function(b,E){if(f(E,b))return b;throw v("Incorrect invocation")}},function(u,c,i){var l=i(27),f=l("iterator"),v=!1;try{var b=0,E={next:function(){return{done:!!b++}},return:function(){v=!0}};E[f]=function(){return this},Array.from(E,function(){throw 2})}catch(S){}u.exports=function(S,A){if(!A&&!v)return!1;var w=!1;try{var T={};T[f]=function(){return{next:function(){return{done:w=!0}}}},S(T)}catch(C){}return w}},function(u,c,i){var l=i(180);u.exports=function(f,v){return new(l(f))(v===0?0:v)}},function(u,c,i){var l=i(18);u.exports=function(f,v){var b=[][f];return!!b&&l(function(){b.call(null,v||function(){throw 1},1)})}},function(u,c){u.exports=function(i){if(!i.webpackPolyfill){var l=Object.create(i);l.children||(l.children=[]),Object.defineProperty(l,"loaded",{enumerable:!0,get:function(){return l.l}}),Object.defineProperty(l,"id",{enumerable:!0,get:function(){return l.i}}),Object.defineProperty(l,"exports",{enumerable:!0}),l.webpackPolyfill=1}return l}},function(u,c,i){i(19);var l=i(15),f=i(44),v=i(102),b=i(18),E=i(27),S=i(57),A=E("species"),w=RegExp.prototype;u.exports=function(T,C,j,L){var k=E(T),U=!b(function(){var $={};return $[k]=function(){return 7},""[T]($)!=7}),X=U&&!b(function(){var $=!1,Z=/a/;return T==="split"&&(Z={},Z.constructor={},Z.constructor[A]=function(){return Z},Z.flags="",Z[k]=/./[k]),Z.exec=function(){return $=!0,null},Z[k](""),!$});if(!U||!X||j){var le=l(/./[k]),ie=C(k,""[T],function($,Z,se,z,H){var R=l($),M=Z.exec;return M===v||M===w.exec?U&&!H?{done:!0,value:le(Z,se,z)}:{done:!0,value:R(se,Z,z)}:{done:!1}});f(String.prototype,T,ie[0]),f(w,k,ie[1])}L&&S(w[k],"sham",!0)}},function(u,c,i){var l=i(146).charAt;u.exports=function(f,v,b){return v+(b?l(f,v).length:1)}},function(u,c,i){var l=i(7),f=i(35),v=i(32),b=i(28),E=i(50),S=i(102),A=l.TypeError;u.exports=function(w,T){var C=w.exec;if(b(C)){var j=f(C,w,T);return j!==null&&v(j),j}if(E(w)==="RegExp")return f(S,w,T);throw A("RegExp#exec called on incompatible receiver")}},function(u,c,i){var l=i(76),f=i(35),v=i(15),b=i(122),E=i(18),S=i(32),A=i(28),w=i(68),T=i(90),C=i(40),j=i(45),L=i(123),k=i(59),U=i(197),X=i(124),le=i(27),ie=le("replace"),$=Math.max,Z=Math.min,se=v([].concat),z=v([].push),H=v("".indexOf),R=v("".slice),M=function(de){return de===void 0?de:String(de)},I=function(){return"a".replace(/./,"$0")==="$0"}(),K=function(){return/./[ie]?/./[ie]("a","$0")==="":!1}(),q=!E(function(){var de=/./;return de.exec=function(){var Te=[];return Te.groups={a:"7"},Te},"".replace(de,"$<a>")!=="7"});b("replace",function(de,Te,ve){var Oe=K?"$":"$0";return[function(Ee,Ne){var ze=j(this),Qe=Ee==null?void 0:k(Ee,ie);return Qe?f(Qe,Ee,ze,Ne):f(Te,C(ze),Ee,Ne)},function(Ae,Ee){var Ne=S(this),ze=C(Ae);if(typeof Ee=="string"&&H(Ee,Oe)===-1&&H(Ee,"$<")===-1){var Qe=ve(Te,Ne,ze,Ee);if(Qe.done)return Qe.value}var Be=A(Ee);Be||(Ee=C(Ee));var Se=Ne.global;if(Se){var Re=Ne.unicode;Ne.lastIndex=0}for(var He=[];;){var Y=X(Ne,ze);if(Y===null||(z(He,Y),!Se))break;var W=C(Y[0]);W===""&&(Ne.lastIndex=L(ze,T(Ne.lastIndex),Re))}for(var ee="",he=0,xe=0;xe<He.length;xe++){Y=He[xe];for(var pe=C(Y[0]),Fe=$(Z(w(Y.index),ze.length),0),et=[],We=1;We<Y.length;We++)z(et,M(Y[We]));var rt=Y.groups;if(Be){var ye=se([pe],et,Fe,ze);rt!==void 0&&z(ye,rt);var ut=C(l(Ee,void 0,ye))}else ut=U(pe,ze,Fe,et,rt,Ee);Fe>=he&&(ee+=R(ze,he,Fe)+ut,he=Fe+pe.length)}return ee+R(ze,he)}]},!q||!I||K)},function(u,c,i){var l=i(50),f=i(7);u.exports=l(f.process)=="process"},function(u,c,i){var l=i(16);l({target:"Number",stat:!0},{MIN_SAFE_INTEGER:-9007199254740991})},function(u,c,i){var l=i(109);u.exports=l&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},function(u,c,i){var l=i(36),f=i(18),v=i(86);u.exports=!l&&!f(function(){return Object.defineProperty(v("div"),"a",{get:function(){return 7}}).a!=7})},function(u,c,i){var l=i(7),f=i(35),v=i(33),b=i(88),E=i(59),S=i(169),A=i(27),w=l.TypeError,T=A("toPrimitive");u.exports=function(C,j){if(!v(C)||b(C))return C;var L=E(C,T),k;if(L){if(j===void 0&&(j="default"),k=f(L,C,j),!v(k)||b(k))return k;throw w("Can't convert object to primitive value")}return j===void 0&&(j="number"),S(C,j)}},function(u,c,i){var l=i(15),f=i(34),v=i(39),b=i(132).indexOf,E=i(69),S=l([].push);u.exports=function(A,w){var T=v(A),C=0,j=[],L;for(L in T)!f(E,L)&&f(T,L)&&S(j,L);for(;w.length>C;)f(T,L=w[C++])&&(~b(j,L)||S(j,L));return j}},function(u,c,i){var l=i(39),f=i(67),v=i(43),b=function(E){return function(S,A,w){var T=l(S),C=v(T),j=f(w,C),L;if(E&&A!=A){for(;C>j;)if(L=T[j++],L!=L)return!0}else for(;C>j;j++)if((E||j in T)&&T[j]===A)return E||j||0;return!E&&-1}};u.exports={includes:b(!0),indexOf:b(!1)}},function(u,c,i){var l=i(46);u.exports=l("document","documentElement")},function(u,c,i){var l=i(34),f=i(135),v=i(51),b=i(37);u.exports=function(E,S){for(var A=f(S),w=b.f,T=v.f,C=0;C<A.length;C++){var j=A[C];l(E,j)||w(E,j,T(S,j))}}},function(u,c,i){var l=i(46),f=i(15),v=i(72),b=i(112),E=i(32),S=f([].concat);u.exports=l("Reflect","ownKeys")||function(w){var T=v.f(E(w)),C=b.f;return C?S(T,C(w)):T}},function(u,c,i){var l=i(18),f=i(28),v=i(54),b=i(96),E=i(44),S=i(27),A=i(64),w=S("iterator"),T=!1,C,j,L;[].keys&&(L=[].keys(),"next"in L?(j=b(b(L)),j!==Object.prototype&&(C=j)):T=!0);var k=C==null||l(function(){var U={};return C[w].call(U)!==U});k?C={}:A&&(C=v(C)),f(C[w])||E(C,w,function(){return this}),u.exports={IteratorPrototype:C,BUGGY_SAFARI_ITERATORS:T}},function(u,c,i){var l=i(18);u.exports=!l(function(){function f(){}return f.prototype.constructor=null,Object.getPrototypeOf(new f)!==f.prototype})},function(u,c,i){var l=i(16),f=i(15),v=i(69),b=i(33),E=i(34),S=i(37).f,A=i(72),w=i(139),T=i(174),C=i(85),j=i(176),L=!1,k=C("meta"),U=0,X=function(z){S(z,k,{value:{objectID:"O"+U++,weakData:{}}})},le=function(z,H){if(!b(z))return typeof z=="symbol"?z:(typeof z=="string"?"S":"P")+z;if(!E(z,k)){if(!T(z))return"F";if(!H)return"E";X(z)}return z[k].objectID},ie=function(z,H){if(!E(z,k)){if(!T(z))return!0;if(!H)return!1;X(z)}return z[k].weakData},$=function(z){return j&&L&&T(z)&&!E(z,k)&&X(z),z},Z=function(){se.enable=function(){},L=!0;var z=A.f,H=f([].splice),R={};R[k]=1,z(R).length&&(A.f=function(M){for(var I=z(M),K=0,q=I.length;K<q;K++)if(I[K]===k){H(I,K,1);break}return I},l({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:w.f}))},se=u.exports={enable:Z,fastKey:le,getWeakData:ie,onFreeze:$};v[k]=!0},function(u,c,i){var l=i(50),f=i(39),v=i(72).f,b=i(113),E=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],S=function(A){try{return v(A)}catch(w){return b(E)}};u.exports.f=function(w){return E&&l(w)=="Window"?S(w):v(f(w))}},function(u,c,i){var l=i(27),f=i(70),v=l("iterator"),b=Array.prototype;u.exports=function(E){return E!==void 0&&(f.Array===E||b[v]===E)}},function(u,c,i){var l=i(7),f=i(35),v=i(55),b=i(32),E=i(89),S=i(115),A=l.TypeError;u.exports=function(w,T){var C=arguments.length<2?S(w):T;if(v(C))return b(f(C,w));throw A(E(w)+" is not iterable")}},function(u,c,i){var l=i(35),f=i(32),v=i(59);u.exports=function(b,E,S){var A,w;f(b);try{if(A=v(b,"return"),!A){if(E==="throw")throw S;return S}A=l(A,b)}catch(T){w=!0,A=T}if(E==="throw")throw S;if(w)throw A;return f(A),S}},function(u,c,i){var l=i(28),f=i(33),v=i(97);u.exports=function(b,E,S){var A,w;return v&&l(A=E.constructor)&&A!==S&&f(w=A.prototype)&&w!==S.prototype&&v(b,w),b}},function(u,c,i){var l=i(44);u.exports=function(f,v,b){for(var E in v)l(f,E,v[E],b);return f}},function(u,c,i){var l=i(46),f=i(37),v=i(27),b=i(36),E=v("species");u.exports=function(S){var A=l(S),w=f.f;b&&A&&!A[E]&&w(A,E,{configurable:!0,get:function(){return this}})}},function(u,c,i){var l=i(15),f=i(68),v=i(40),b=i(45),E=l("".charAt),S=l("".charCodeAt),A=l("".slice),w=function(T){return function(C,j){var L=v(b(C)),k=f(j),U=L.length,X,le;return k<0||k>=U?T?"":void 0:(X=S(L,k),X<55296||X>56319||k+1===U||(le=S(L,k+1))<56320||le>57343?T?E(L,k):X:T?A(L,k,k+2):(X-55296<<10)+(le-56320)+65536)}};u.exports={codeAt:w(!1),charAt:w(!0)}},function(u,c){u.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(u,c,i){var l=i(86),f=l("span").classList,v=f&&f.constructor&&f.constructor.prototype;u.exports=v===Object.prototype?void 0:v},function(u,c,i){var l=i(27);c.f=l},function(u,c,i){var l=i(181),f=i(34),v=i(149),b=i(37).f;u.exports=function(E){var S=l.Symbol||(l.Symbol={});f(S,E)||b(S,E,{value:v.f(E)})}},function(u,c,i){var l=i(18),f=i(7),v=f.RegExp,b=l(function(){var A=v("a","y");return A.lastIndex=2,A.exec("abcd")!=null}),E=b||l(function(){return!v("a","y").sticky}),S=b||l(function(){var A=v("^r","gy");return A.lastIndex=2,A.exec("str")!=null});u.exports={BROKEN_CARET:S,MISSED_STICKY:E,UNSUPPORTED_Y:b}},function(u,c,i){var l=i(16),f=i(132).includes,v=i(83);l({target:"Array",proto:!0},{includes:function(E){return f(this,E,arguments.length>1?arguments[1]:void 0)}}),v("includes")},function(u,c,i){var l=i(16),f=i(15),v=i(193),b=i(45),E=i(40),S=i(194),A=f("".indexOf);l({target:"String",proto:!0,forced:!S("includes")},{includes:function(T){return!!~A(E(b(this)),E(v(T)),arguments.length>1?arguments[1]:void 0)}})},function(u,c,i){var l=i(33),f=i(50),v=i(27),b=v("match");u.exports=function(E){var S;return l(E)&&((S=E[b])!==void 0?!!S:f(E)=="RegExp")}},function(u,c){var i=u.exports={},l,f;function v(){throw new Error("setTimeout has not been defined")}function b(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?l=setTimeout:l=v}catch(X){l=v}try{typeof clearTimeout=="function"?f=clearTimeout:f=b}catch(X){f=b}})();function E(X){if(l===setTimeout)return setTimeout(X,0);if((l===v||!l)&&setTimeout)return l=setTimeout,setTimeout(X,0);try{return l(X,0)}catch(le){try{return l.call(null,X,0)}catch(ie){return l.call(this,X,0)}}}function S(X){if(f===clearTimeout)return clearTimeout(X);if((f===b||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(X);try{return f(X)}catch(le){try{return f.call(null,X)}catch(ie){return f.call(this,X)}}}var A=[],w=!1,T,C=-1;function j(){!w||!T||(w=!1,T.length?A=T.concat(A):C=-1,A.length&&L())}function L(){if(!w){var X=E(j);w=!0;for(var le=A.length;le;){for(T=A,A=[];++C<le;)T&&T[C].run();C=-1,le=A.length}T=null,w=!1,S(X)}}i.nextTick=function(X){var le=new Array(arguments.length-1);if(arguments.length>1)for(var ie=1;ie<arguments.length;ie++)le[ie-1]=arguments[ie];A.push(new k(X,le)),A.length===1&&!w&&E(L)};function k(X,le){this.fun=X,this.array=le}k.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={};function U(){}i.on=U,i.addListener=U,i.once=U,i.off=U,i.removeListener=U,i.removeAllListeners=U,i.emit=U,i.prependListener=U,i.prependOnceListener=U,i.listeners=function(X){return[]},i.binding=function(X){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(X){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(u,c,i){var l=i(32),f=i(157),v=i(27),b=v("species");u.exports=function(E,S){var A=l(E).constructor,w;return A===void 0||(w=l(A)[b])==null?S:f(w)}},function(u,c,i){var l=i(7),f=i(100),v=i(89),b=l.TypeError;u.exports=function(E){if(f(E))return E;throw b(v(E)+" is not a constructor")}},function(u,c,i){var l=i(16),f=i(159).trim,v=i(195);l({target:"String",proto:!0,forced:v("trim")},{trim:function(){return f(this)}})},function(u,c,i){var l=i(15),f=i(45),v=i(40),b=i(160),E=l("".replace),S="["+b+"]",A=RegExp("^"+S+S+"*"),w=RegExp(S+S+"*$"),T=function(C){return function(j){var L=v(f(j));return C&1&&(L=E(L,A,"")),C&2&&(L=E(L,w,"")),L}};u.exports={start:T(1),end:T(2),trim:T(3)}},function(u,c){u.exports=`	
\v\f\r \xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF`},function(u,c,i){var l=i(35),f=i(122),v=i(32),b=i(90),E=i(40),S=i(45),A=i(59),w=i(123),T=i(124);f("match",function(C,j,L){return[function(U){var X=S(this),le=U==null?void 0:A(U,C);return le?l(le,U,X):new RegExp(U)[C](E(X))},function(k){var U=v(this),X=E(k),le=L(j,U,X);if(le.done)return le.value;if(!U.global)return T(U,X);var ie=U.unicode;U.lastIndex=0;for(var $=[],Z=0,se;(se=T(U,X))!==null;){var z=E(se[0]);$[Z]=z,z===""&&(U.lastIndex=w(X,b(U.lastIndex),ie)),Z++}return Z===0?null:$}]})},function(u,c,i){var l=i(7),f=i(76),v=i(62),b=i(28),E=i(34),S=i(18),A=i(133),w=i(101),T=i(86),C=i(163),j=i(126),L=l.setImmediate,k=l.clearImmediate,U=l.process,X=l.Dispatch,le=l.Function,ie=l.MessageChannel,$=l.String,Z=0,se={},z="onreadystatechange",H,R,M,I;try{H=l.location}catch(ve){}var K=function(ve){if(E(se,ve)){var Oe=se[ve];delete se[ve],Oe()}},q=function(ve){return function(){K(ve)}},de=function(ve){K(ve.data)},Te=function(ve){l.postMessage($(ve),H.protocol+"//"+H.host)};(!L||!k)&&(L=function(Oe){var Ae=w(arguments,1);return se[++Z]=function(){f(b(Oe)?Oe:le(Oe),void 0,Ae)},R(Z),Z},k=function(Oe){delete se[Oe]},j?R=function(ve){U.nextTick(q(ve))}:X&&X.now?R=function(ve){X.now(q(ve))}:ie&&!C?(M=new ie,I=M.port2,M.port1.onmessage=de,R=v(I.postMessage,I)):l.addEventListener&&b(l.postMessage)&&!l.importScripts&&H&&H.protocol!=="file:"&&!S(Te)?(R=Te,l.addEventListener("message",de,!1)):z in T("script")?R=function(ve){A.appendChild(T("script"))[z]=function(){A.removeChild(this),K(ve)}}:R=function(ve){setTimeout(q(ve),0)}),u.exports={set:L,clear:k}},function(u,c,i){var l=i(53);u.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(l)},function(u,c,i){var l=i(55),f=function(v){var b,E;this.promise=new v(function(S,A){if(b!==void 0||E!==void 0)throw TypeError("Bad Promise constructor");b=S,E=A}),this.resolve=l(b),this.reject=l(E)};u.exports.f=function(v){return new f(v)}},function(u,c,i){function l(){return!1}c.a=l},function(u,c,i){(function(l){i.d(c,"a",function(){return Z});var f=i(0);function v(z){throw new Error("[mobx-utils] "+z)}function b(z,H){H===void 0&&(H="Illegal state"),z||v(H)}var E=function(z){return z&&z!==Object.prototype&&Object.getOwnPropertyNames(z).concat(E(Object.getPrototypeOf(z))||[])},S=function(z){var H=E(z),R=H.filter(function(M,I){return H.indexOf(M)===I});return R},A=function(z){return S(z).filter(function(H){return H!=="constructor"&&!~H.indexOf("__")})},w="pending",T="fulfilled",C="rejected";function j(z){switch(this.state){case w:return z.pending&&z.pending(this.value);case C:return z.rejected&&z.rejected(this.value);case T:return z.fulfilled?z.fulfilled(this.value):this.value}}function L(z,H){if(b(arguments.length<=2,"fromPromise expects up to two arguments"),b(typeof z=="function"||typeof z=="object"&&z&&typeof z.then=="function","Please pass a promise or function to fromPromise"),z.isPromiseBasedObservable===!0)return z;typeof z=="function"&&(z=new Promise(z));var R=z;z.then(Object(f.k)("observableFromPromise-resolve",function(I){R.value=I,R.state=T}),Object(f.k)("observableFromPromise-reject",function(I){R.value=I,R.state=C})),R.isPromiseBasedObservable=!0,R.case=j;var M=H&&H.state===T?H.value:void 0;return Object(f.q)(R,{value:M,state:w},{},{deep:!1}),R}(function(z){z.reject=Object(f.k)("fromPromise.reject",function(R){var M=z(Promise.reject(R));return M.state=C,M.value=R,M});function H(R){R===void 0&&(R=void 0);var M=z(Promise.resolve(R));return M.state=T,M.value=R,M}z.resolve=Object(f.k)("fromPromise.resolve",H)})(L||(L={}));var k=function(z,H,R,M){var I=arguments.length,K=I<3?H:M===null?M=Object.getOwnPropertyDescriptor(H,R):M,q;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")K=Reflect.decorate(z,H,R,M);else for(var de=z.length-1;de>=0;de--)(q=z[de])&&(K=(I<3?q(K):I>3?q(H,R,K):q(H,R))||K);return I>3&&K&&Object.defineProperty(H,R,K),K};(function(){function z(H,R){var M=this;Object(f.G)(function(){M.current=R,M.subscription=H.subscribe(M)})}return z.prototype.dispose=function(){this.subscription&&this.subscription.unsubscribe()},z.prototype.next=function(H){this.current=H},z.prototype.complete=function(){this.dispose()},z.prototype.error=function(H){this.current=H,this.dispose()},k([f.C.ref],z.prototype,"current",void 0),k([f.k.bound],z.prototype,"next",null),k([f.k.bound],z.prototype,"complete",null),k([f.k.bound],z.prototype,"error",null),z})();var U=function(){return U=Object.assign||function(z){for(var H,R=1,M=arguments.length;R<M;R++){H=arguments[R];for(var I in H)Object.prototype.hasOwnProperty.call(H,I)&&(z[I]=H[I])}return z},U.apply(this,arguments)},X=function(z,H,R,M){var I=arguments.length,K=I<3?H:M===null?M=Object.getOwnPropertyDescriptor(H,R):M,q;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")K=Reflect.decorate(z,H,R,M);else for(var de=z.length-1;de>=0;de--)(q=z[de])&&(K=(I<3?q(K):I>3?q(H,R,K):q(H,R))||K);return I>3&&K&&Object.defineProperty(H,R,K),K},le=["model","reset","submit","isDirty","isPropertyDirty","resetProperty"];(function(){function z(H){var R=this;this.model=H,this.localValues=f.C.map({}),this.localComputedValues=f.C.map({}),this.isPropertyDirty=function(M){return R.localValues.has(M)},b(Object(f.A)(H),"createViewModel expects an observable object"),A(H).forEach(function(M){if(!(M===f.a||M==="__mobxDidRunLazyInitializers")){if(b(le.indexOf(M)===-1,"The propertyname "+M+" is reserved and cannot be used with viewModels"),Object(f.w)(H,M)){var I=Object(f.h)(H,M).derivation;R.localComputedValues.set(M,Object(f.m)(I.bind(R)))}var K=Object.getOwnPropertyDescriptor(H,M),q=K?{enumerable:K.enumerable}:{};Object.defineProperty(R,M,U(U({},q),{configurable:!0,get:function(){return Object(f.w)(H,M)?R.localComputedValues.get(M).get():R.isPropertyDirty(M)?R.localValues.get(M):R.model[M]},set:Object(f.k)(function(de){de!==R.model[M]?R.localValues.set(M,de):R.localValues.delete(M)})}))}})}return Object.defineProperty(z.prototype,"isDirty",{get:function(){return this.localValues.size>0},enumerable:!1,configurable:!0}),Object.defineProperty(z.prototype,"changedValues",{get:function(){return this.localValues.toJS()},enumerable:!1,configurable:!0}),z.prototype.submit=function(){var H=this;Object(f.B)(this.localValues).forEach(function(R){var M=H.localValues.get(R),I=H.model[R];Object(f.y)(I)?I.replace(M):Object(f.z)(I)?(I.clear(),I.merge(M)):Object(f.v)(M)||(H.model[R]=M)}),this.localValues.clear()},z.prototype.reset=function(){this.localValues.clear()},z.prototype.resetProperty=function(H){this.localValues.delete(H)},X([f.m],z.prototype,"isDirty",null),X([f.m],z.prototype,"changedValues",null),X([f.k.bound],z.prototype,"submit",null),X([f.k.bound],z.prototype,"reset",null),X([f.k.bound],z.prototype,"resetProperty",null),z})();function ie(z){if(!z)return"ROOT";for(var H=[];z.parent;)H.push(z.path),z=z.parent;return H.reverse().join("/")}function $(z){return Object(f.A)(z)||Object(f.y)(z)||Object(f.z)(z)}function Z(z,H){var R=new WeakMap;function M(de){var Te=R.get(de.object);I(de,Te),H(de,ie(Te),z)}function I(de,Te){switch(de.type){case"add":K(de.newValue,Te,de.name);break;case"update":q(de.oldValue),K(de.newValue,Te,de.name||""+de.index);break;case"remove":case"delete":q(de.oldValue);break;case"splice":de.removed.map(q),de.added.forEach(function(Ae,Ee){return K(Ae,Te,""+(de.index+Ee))});for(var ve=de.index+de.addedCount;ve<de.object.length;ve++)if($(de.object[ve])){var Oe=R.get(de.object[ve]);Oe&&(Oe.path=""+ve)}break}}function K(de,Te,ve){if($(de)){var Oe=R.get(de);if(Oe){if(Oe.parent!==Te||Oe.path!==ve)throw new Error("The same observable object cannot appear twice in the same tree,"+(" trying to assign it to '"+ie(Te)+"/"+ve+"',")+(" but it already exists at '"+ie(Oe.parent)+"/"+Oe.path+"'"))}else{var Ae={parent:Te,path:ve,dispose:Object(f.D)(de,M)};R.set(de,Ae),Object(f.p)(de).forEach(function(Ee){var Ne=Ee[0],ze=Ee[1];return K(ze,Ae,Ne)})}}}function q(de){if($(de)){var Te=R.get(de);if(!Te)return;R.delete(de),Te.dispose(),Object(f.L)(de).forEach(q)}}return K(z,void 0,""),function(){q(z)}}var se=function(){var z=function(H,R){return z=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(M,I){M.__proto__=I}||function(M,I){for(var K in I)I.hasOwnProperty(K)&&(M[K]=I[K])},z(H,R)};return function(H,R){z(H,R);function M(){this.constructor=H}H.prototype=R===null?Object.create(R):(M.prototype=R.prototype,new M)}}();(function(z){se(H,z);function H(R,M,I){var K=I===void 0?{}:I,q=K.name,de=q===void 0?"ogm"+(Math.random()*1e3|0):q,Te=K.keyToName,ve=Te===void 0?function(Ee){return""+Ee}:Te,Oe=z.call(this)||this;Oe._keyToName=ve,Oe._groupBy=M,Oe._ogmInfoKey=Symbol("ogmInfo"+de),Oe._base=R;for(var Ae=0;Ae<R.length;Ae++)Oe._addItem(R[Ae]);return Oe._disposeBaseObserver=Object(f.D)(Oe._base,function(Ee){if(Ee.type==="splice")Object(f.J)(function(){for(var Ne=0,ze=Ee.removed;Ne<ze.length;Ne++){var Qe=ze[Ne];Oe._removeItem(Qe)}for(var Be=0,Se=Ee.added;Be<Se.length;Be++){var Re=Se[Be];Oe._addItem(Re)}});else if(Ee.type==="update")Object(f.J)(function(){Oe._removeItem(Ee.oldValue),Oe._addItem(Ee.newValue)});else throw new Error("illegal state")}),Oe}return H.prototype.clear=function(){throw new Error("not supported")},H.prototype.delete=function(R){throw new Error("not supported")},H.prototype.set=function(R,M){throw new Error("not supported")},H.prototype.dispose=function(){this._disposeBaseObserver();for(var R=0;R<this._base.length;R++){var M=this._base[R],I=M[this._ogmInfoKey];I.reaction(),delete M[this._ogmInfoKey]}},H.prototype._getGroupArr=function(R){var M=z.prototype.get.call(this,R);return M===void 0&&(M=Object(f.C)([],{name:"GroupArray["+this._keyToName(R)+"]",deep:!1}),z.prototype.set.call(this,R,M)),M},H.prototype._removeFromGroupArr=function(R,M){var I=z.prototype.get.call(this,R);I.length===1?z.prototype.delete.call(this,R):(M===I.length-1||(I[M]=I[I.length-1],I[M][this._ogmInfoKey].groupArrIndex=M),I.length--)},H.prototype._addItem=function(R){var M=this,I=this._groupBy(R),K=this._getGroupArr(I),q={groupByValue:I,groupArrIndex:K.length,reaction:Object(f.F)(function(){return M._groupBy(R)},function(de,Te){var ve=R[M._ogmInfoKey];M._removeFromGroupArr(ve.groupByValue,ve.groupArrIndex);var Oe=M._getGroupArr(de),Ae=Oe.length;Oe.push(R),ve.groupByValue=de,ve.groupArrIndex=Ae})};Object.defineProperty(R,this._ogmInfoKey,{configurable:!0,enumerable:!1,value:q}),K.push(R)},H.prototype._removeItem=function(R){var M=R[this._ogmInfoKey];this._removeFromGroupArr(M.groupByValue,M.groupArrIndex),M.reaction(),delete R[this._ogmInfoKey]},H})(f.b),Promise.resolve(),typeof queueMicrotask!="undefined"||typeof l!="undefined"&&l.nextTick}).call(this,i(155))},function(u,c,i){var l;(function(f,v,b){if(!f)return;for(var E={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},S={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},A={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},w={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},T,C=1;C<20;++C)E[111+C]="f"+C;for(C=0;C<=9;++C)E[C+96]=C.toString();function j(M,I,K){if(M.addEventListener){M.addEventListener(I,K,!1);return}M.attachEvent("on"+I,K)}function L(M){if(M.type=="keypress"){var I=String.fromCharCode(M.which);return M.shiftKey||(I=I.toLowerCase()),I}return E[M.which]?E[M.which]:S[M.which]?S[M.which]:String.fromCharCode(M.which).toLowerCase()}function k(M,I){return M.sort().join(",")===I.sort().join(",")}function U(M){var I=[];return M.shiftKey&&I.push("shift"),M.altKey&&I.push("alt"),M.ctrlKey&&I.push("ctrl"),M.metaKey&&I.push("meta"),I}function X(M){if(M.preventDefault){M.preventDefault();return}M.returnValue=!1}function le(M){if(M.stopPropagation){M.stopPropagation();return}M.cancelBubble=!0}function ie(M){return M=="shift"||M=="ctrl"||M=="alt"||M=="meta"}function $(){if(!T){T={};for(var M in E)M>95&&M<112||E.hasOwnProperty(M)&&(T[E[M]]=M)}return T}function Z(M,I,K){return K||(K=$()[M]?"keydown":"keypress"),K=="keypress"&&I.length&&(K="keydown"),K}function se(M){return M==="+"?["+"]:(M=M.replace(/\+{2}/g,"+plus"),M.split("+"))}function z(M,I){var K,q,de,Te=[];for(K=se(M),de=0;de<K.length;++de)q=K[de],w[q]&&(q=w[q]),I&&I!="keypress"&&A[q]&&(q=A[q],Te.push("shift")),ie(q)&&Te.push(q);return I=Z(q,Te,I),{key:q,modifiers:Te,action:I}}function H(M,I){return M===null||M===v?!1:M===I?!0:H(M.parentNode,I)}function R(M){var I=this;if(M=M||v,!(I instanceof R))return new R(M);I.target=M,I._callbacks={},I._directMap={};var K={},q,de=!1,Te=!1,ve=!1;function Oe(Se){Se=Se||{};var Re=!1,He;for(He in K){if(Se[He]){Re=!0;continue}K[He]=0}Re||(ve=!1)}function Ae(Se,Re,He,Y,W,ee){var he,xe,pe=[],Fe=He.type;if(!I._callbacks[Se])return[];for(Fe=="keyup"&&ie(Se)&&(Re=[Se]),he=0;he<I._callbacks[Se].length;++he)if(xe=I._callbacks[Se][he],!(!Y&&xe.seq&&K[xe.seq]!=xe.level)&&Fe==xe.action&&(Fe=="keypress"&&!He.metaKey&&!He.ctrlKey||k(Re,xe.modifiers))){var et=!Y&&xe.combo==W,We=Y&&xe.seq==Y&&xe.level==ee;(et||We)&&I._callbacks[Se].splice(he,1),pe.push(xe)}return pe}function Ee(Se,Re,He,Y){I.stopCallback(Re,Re.target||Re.srcElement,He,Y)||Se(Re,He)===!1&&(X(Re),le(Re))}I._handleKey=function(Se,Re,He){var Y=Ae(Se,Re,He),W,ee={},he=0,xe=!1;for(W=0;W<Y.length;++W)Y[W].seq&&(he=Math.max(he,Y[W].level));for(W=0;W<Y.length;++W){if(Y[W].seq){if(Y[W].level!=he)continue;xe=!0,ee[Y[W].seq]=1,Ee(Y[W].callback,He,Y[W].combo,Y[W].seq);continue}xe||Ee(Y[W].callback,He,Y[W].combo)}var pe=He.type=="keypress"&&Te;He.type==ve&&!ie(Se)&&!pe&&Oe(ee),Te=xe&&He.type=="keydown"};function Ne(Se){typeof Se.which!="number"&&(Se.which=Se.keyCode);var Re=L(Se);if(!!Re){if(Se.type=="keyup"&&de===Re){de=!1;return}I.handleKey(Re,U(Se),Se)}}function ze(){clearTimeout(q),q=setTimeout(Oe,1e3)}function Qe(Se,Re,He,Y){K[Se]=0;function W(Fe){return function(){ve=Fe,++K[Se],ze()}}function ee(Fe){Ee(He,Fe,Se),Y!=="keyup"&&(de=L(Fe)),setTimeout(Oe,10)}for(var he=0;he<Re.length;++he){var xe=he+1===Re.length,pe=xe?ee:W(Y||z(Re[he+1]).action);Be(Re[he],pe,Y,Se,he)}}function Be(Se,Re,He,Y,W){I._directMap[Se+":"+He]=Re,Se=Se.replace(/\s+/g," ");var ee=Se.split(" "),he;if(ee.length>1){Qe(Se,ee,Re,He);return}he=z(Se,He),I._callbacks[he.key]=I._callbacks[he.key]||[],Ae(he.key,he.modifiers,{type:he.action},Y,Se,W),I._callbacks[he.key][Y?"unshift":"push"]({callback:Re,modifiers:he.modifiers,action:he.action,seq:Y,level:W,combo:Se})}I._bindMultiple=function(Se,Re,He){for(var Y=0;Y<Se.length;++Y)Be(Se[Y],Re,He)},j(M,"keypress",Ne),j(M,"keydown",Ne),j(M,"keyup",Ne)}R.prototype.bind=function(M,I,K){var q=this;return M=M instanceof Array?M:[M],q._bindMultiple.call(q,M,I,K),q},R.prototype.unbind=function(M,I){var K=this;return K.bind.call(K,M,function(){},I)},R.prototype.trigger=function(M,I){var K=this;return K._directMap[M+":"+I]&&K._directMap[M+":"+I]({},M),K},R.prototype.reset=function(){var M=this;return M._callbacks={},M._directMap={},M},R.prototype.stopCallback=function(M,I){var K=this;if((" "+I.className+" ").indexOf(" mousetrap ")>-1||H(I,K.target))return!1;if("composedPath"in M&&typeof M.composedPath=="function"){var q=M.composedPath()[0];q!==M.target&&(I=q)}return I.tagName=="INPUT"||I.tagName=="SELECT"||I.tagName=="TEXTAREA"||I.isContentEditable},R.prototype.handleKey=function(){var M=this;return M._handleKey.apply(M,arguments)},R.addKeycodes=function(M){for(var I in M)M.hasOwnProperty(I)&&(E[I]=M[I]);T=null},R.init=function(){var M=R(v);for(var I in M)I.charAt(0)!=="_"&&(R[I]=function(K){return function(){return M[K].apply(M,arguments)}}(I))},R.init(),f.Mousetrap=R,u.exports&&(u.exports=R),l=function(){return R}.call(c,i,c,u),l!==b&&(u.exports=l)})(typeof window!="undefined"?window:null,typeof window!="undefined"?document:null)},function(u,c,i){var l=i(36),f=i(37),v=i(32),b=i(39),E=i(66);u.exports=l?Object.defineProperties:function(A,w){v(A);for(var T=b(w),C=E(w),j=C.length,L=0,k;j>L;)f.f(A,k=C[L++],T[k]);return A}},function(u,c,i){var l=i(7),f=i(35),v=i(28),b=i(33),E=l.TypeError;u.exports=function(S,A){var w,T;if(A==="string"&&v(w=S.toString)&&!b(T=f(w,S))||v(w=S.valueOf)&&!b(T=f(w,S))||A!=="string"&&v(w=S.toString)&&!b(T=f(w,S)))return T;throw E("Can't convert object to primitive value")}},function(u,c,i){var l=i(7),f=i(28),v=i(92),b=l.WeakMap;u.exports=f(b)&&/native code/.test(v(b))},function(u,c,i){var l=i(136).IteratorPrototype,f=i(54),v=i(71),b=i(73),E=i(70),S=function(){return this};u.exports=function(A,w,T,C){var j=w+" Iterator";return A.prototype=f(l,{next:v(+!C,T)}),b(A,j,!1,!0),E[j]=S,A}},function(u,c,i){var l=i(7),f=i(28),v=l.String,b=l.TypeError;u.exports=function(E){if(typeof E=="object"||f(E))return E;throw b("Can't set "+v(E)+" as a prototype")}},function(u,c,i){var l=i(16),f=i(7),v=i(15),b=i(95),E=i(44),S=i(138),A=i(114),w=i(117),T=i(28),C=i(33),j=i(18),L=i(118),k=i(73),U=i(143);u.exports=function(X,le,ie){var $=X.indexOf("Map")!==-1,Z=X.indexOf("Weak")!==-1,se=$?"set":"add",z=f[X],H=z&&z.prototype,R=z,M={},I=function(Ae){var Ee=v(H[Ae]);E(H,Ae,Ae=="add"?function(ze){return Ee(this,ze===0?0:ze),this}:Ae=="delete"?function(Ne){return Z&&!C(Ne)?!1:Ee(this,Ne===0?0:Ne)}:Ae=="get"?function(ze){return Z&&!C(ze)?void 0:Ee(this,ze===0?0:ze)}:Ae=="has"?function(ze){return Z&&!C(ze)?!1:Ee(this,ze===0?0:ze)}:function(ze,Qe){return Ee(this,ze===0?0:ze,Qe),this})},K=b(X,!T(z)||!(Z||H.forEach&&!j(function(){new z().entries().next()})));if(K)R=ie.getConstructor(le,X,$,se),S.enable();else if(b(X,!0)){var q=new R,de=q[se](Z?{}:-0,1)!=q,Te=j(function(){q.has(1)}),ve=L(function(Ae){new z(Ae)}),Oe=!Z&&j(function(){for(var Ae=new z,Ee=5;Ee--;)Ae[se](Ee,Ee);return!Ae.has(-0)});ve||(R=le(function(Ae,Ee){w(Ae,H);var Ne=U(new z,Ae,R);return Ee!=null&&A(Ee,Ne[se],{that:Ne,AS_ENTRIES:$}),Ne}),R.prototype=H,H.constructor=R),(Te||Oe)&&(I("delete"),I("has"),$&&I("get")),(Oe||de)&&I(se),Z&&H.clear&&delete H.clear}return M[X]=R,l({global:!0,forced:R!=z},M),k(R,X),Z||ie.setStrong(R,X,$),R}},function(u,c,i){var l=i(18),f=i(33),v=i(50),b=i(175),E=Object.isExtensible,S=l(function(){});u.exports=S||b?function(w){return!f(w)||b&&v(w)=="ArrayBuffer"?!1:E?E(w):!0}:E},function(u,c,i){var l=i(18);u.exports=l(function(){if(typeof ArrayBuffer=="function"){var f=new ArrayBuffer(8);Object.isExtensible(f)&&Object.defineProperty(f,"a",{value:8})}})},function(u,c,i){var l=i(18);u.exports=!l(function(){return Object.isExtensible(Object.preventExtensions({}))})},function(u,c,i){var l=i(37).f,f=i(54),v=i(144),b=i(62),E=i(117),S=i(114),A=i(111),w=i(145),T=i(36),C=i(138).fastKey,j=i(56),L=j.set,k=j.getterFor;u.exports={getConstructor:function(U,X,le,ie){var $=U(function(R,M){E(R,Z),L(R,{type:X,index:f(null),first:void 0,last:void 0,size:0}),T||(R.size=0),M!=null&&S(M,R[ie],{that:R,AS_ENTRIES:le})}),Z=$.prototype,se=k(X),z=function(R,M,I){var K=se(R),q=H(R,M),de,Te;return q?q.value=I:(K.last=q={index:Te=C(M,!0),key:M,value:I,previous:de=K.last,next:void 0,removed:!1},K.first||(K.first=q),de&&(de.next=q),T?K.size++:R.size++,Te!=="F"&&(K.index[Te]=q)),R},H=function(R,M){var I=se(R),K=C(M),q;if(K!=="F")return I.index[K];for(q=I.first;q;q=q.next)if(q.key==M)return q};return v(Z,{clear:function(){for(var M=this,I=se(M),K=I.index,q=I.first;q;)q.removed=!0,q.previous&&(q.previous=q.previous.next=void 0),delete K[q.index],q=q.next;I.first=I.last=void 0,T?I.size=0:M.size=0},delete:function(R){var M=this,I=se(M),K=H(M,R);if(K){var q=K.next,de=K.previous;delete I.index[K.index],K.removed=!0,de&&(de.next=q),q&&(q.previous=de),I.first==K&&(I.first=q),I.last==K&&(I.last=de),T?I.size--:M.size--}return!!K},forEach:function(M){for(var I=se(this),K=b(M,arguments.length>1?arguments[1]:void 0),q;q=q?q.next:I.first;)for(K(q.value,q.key,this);q&&q.removed;)q=q.previous},has:function(M){return!!H(this,M)}}),v(Z,le?{get:function(M){var I=H(this,M);return I&&I.value},set:function(M,I){return z(this,M===0?0:M,I)}}:{add:function(M){return z(this,M=M===0?0:M,M)}}),T&&l(Z,"size",{get:function(){return se(this).size}}),$},setStrong:function(U,X,le){var ie=X+" Iterator",$=k(X),Z=k(ie);A(U,X,function(se,z){L(this,{type:ie,target:se,state:$(se),kind:z,last:void 0})},function(){for(var se=Z(this),z=se.kind,H=se.last;H&&H.removed;)H=H.previous;return!se.target||!(se.last=H=H?H.next:se.state.first)?(se.target=void 0,{value:void 0,done:!0}):z=="keys"?{value:H.key,done:!1}:z=="values"?{value:H.value,done:!1}:{value:[H.key,H.value],done:!1}},le?"entries":"values",!le,!0),w(X)}}},function(u,c,i){var l=i(116),f=i(98);u.exports=l?{}.toString:function(){return"[object "+f(this)+"]"}},function(u,c,i){var l=i(74).forEach,f=i(120),v=f("forEach");u.exports=v?[].forEach:function(E){return l(this,E,arguments.length>1?arguments[1]:void 0)}},function(u,c,i){var l=i(7),f=i(99),v=i(100),b=i(33),E=i(27),S=E("species"),A=l.Array;u.exports=function(w){var T;return f(w)&&(T=w.constructor,v(T)&&(T===A||f(T.prototype))?T=void 0:b(T)&&(T=T[S],T===null&&(T=void 0))),T===void 0?A:T}},function(u,c,i){var l=i(7);u.exports=l},function(u,c,i){var l=i(7),f=i(62),v=i(35),b=i(38),E=i(183),S=i(140),A=i(100),w=i(43),T=i(61),C=i(141),j=i(115),L=l.Array;u.exports=function(U){var X=b(U),le=A(this),ie=arguments.length,$=ie>1?arguments[1]:void 0,Z=$!==void 0;Z&&($=f($,ie>2?arguments[2]:void 0));var se=j(X),z=0,H,R,M,I,K,q;if(se&&!(this==L&&S(se)))for(I=C(X,se),K=I.next,R=le?new this:[];!(M=v(K,I)).done;z++)q=Z?E(I,$,[M.value,z],!0):M.value,T(R,z,q);else for(H=w(X),R=le?new this(H):L(H);H>z;z++)q=Z?$(X[z],z):X[z],T(R,z,q);return R.length=z,R}},function(u,c,i){var l=i(32),f=i(142);u.exports=function(v,b,E,S){try{return S?b(l(E)[0],E[1]):b(E)}catch(A){f(v,"throw",A)}}},function(u,c,i){var l=i(32);u.exports=function(){var f=l(this),v="";return f.global&&(v+="g"),f.ignoreCase&&(v+="i"),f.multiline&&(v+="m"),f.dotAll&&(v+="s"),f.unicode&&(v+="u"),f.sticky&&(v+="y"),v}},function(u,c,i){var l=i(18),f=i(7),v=f.RegExp;u.exports=l(function(){var b=v(".","s");return!(b.dotAll&&b.exec(`
`)&&b.flags==="s")})},function(u,c,i){var l=i(18),f=i(7),v=f.RegExp;u.exports=l(function(){var b=v("(?<a>b)","g");return b.exec("b").groups.a!=="b"||"b".replace(b,"$<a>c")!=="bc"})},function(u,c,i){var l=i(16),f=i(15),v=i(55),b=i(38),E=i(43),S=i(40),A=i(18),w=i(188),T=i(120),C=i(189),j=i(190),L=i(65),k=i(191),U=[],X=f(U.sort),le=f(U.push),ie=A(function(){U.sort(void 0)}),$=A(function(){U.sort(null)}),Z=T("sort"),se=!A(function(){if(L)return L<70;if(!(C&&C>3)){if(j)return!0;if(k)return k<603;var R="",M,I,K,q;for(M=65;M<76;M++){switch(I=String.fromCharCode(M),M){case 66:case 69:case 70:case 72:K=3;break;case 68:case 71:K=4;break;default:K=2}for(q=0;q<47;q++)U.push({k:I+q,v:K})}for(U.sort(function(de,Te){return Te.v-de.v}),q=0;q<U.length;q++)I=U[q].k.charAt(0),R.charAt(R.length-1)!==I&&(R+=I);return R!=="DGBEFHACIJK"}}),z=ie||!$||!Z||!se,H=function(R){return function(M,I){return I===void 0?-1:M===void 0?1:R!==void 0?+R(M,I)||0:S(M)>S(I)?1:-1}};l({target:"Array",proto:!0,forced:z},{sort:function(M){M!==void 0&&v(M);var I=b(this);if(se)return M===void 0?X(I):X(I,M);var K=[],q=E(I),de,Te;for(Te=0;Te<q;Te++)Te in I&&le(K,I[Te]);for(w(K,H(M)),de=K.length,Te=0;Te<de;)I[Te]=K[Te++];for(;Te<q;)delete I[Te++];return I}})},function(u,c,i){var l=i(113),f=Math.floor,v=function(S,A){var w=S.length,T=f(w/2);return w<8?b(S,A):E(S,v(l(S,0,T),A),v(l(S,T),A),A)},b=function(S,A){for(var w=S.length,T=1,C,j;T<w;){for(j=T,C=S[T];j&&A(S[j-1],C)>0;)S[j]=S[--j];j!==T++&&(S[j]=C)}return S},E=function(S,A,w,T){for(var C=A.length,j=w.length,L=0,k=0;L<C||k<j;)S[L+k]=L<C&&k<j?T(A[L],w[k])<=0?A[L++]:w[k++]:L<C?A[L++]:w[k++];return S};u.exports=v},function(u,c,i){var l=i(53),f=l.match(/firefox\/(\d+)/i);u.exports=!!f&&+f[1]},function(u,c,i){var l=i(53);u.exports=/MSIE|Trident/.test(l)},function(u,c,i){var l=i(53),f=l.match(/AppleWebKit\/(\d+)\./);u.exports=!!f&&+f[1]},function(u,c,i){var l=i(16),f=i(74).find,v=i(83),b="find",E=!0;b in[]&&Array(1)[b](function(){E=!1}),l({target:"Array",proto:!0,forced:E},{find:function(A){return f(this,A,arguments.length>1?arguments[1]:void 0)}}),v(b)},function(u,c,i){var l=i(7),f=i(154),v=l.TypeError;u.exports=function(b){if(f(b))throw v("The method doesn't accept regular expressions");return b}},function(u,c,i){var l=i(27),f=l("match");u.exports=function(v){var b=/./;try{"/./"[v](b)}catch(E){try{return b[f]=!1,"/./"[v](b)}catch(S){}}return!1}},function(u,c,i){var l=i(94).PROPER,f=i(18),v=i(160),b="\u200B\x85\u180E";u.exports=function(E){return f(function(){return!!v[E]()||b[E]()!==b||l&&v[E].name!==E})}},function(u,c,i){var l=i(15);u.exports=l(1 .valueOf)},function(u,c,i){var l=i(15),f=i(38),v=Math.floor,b=l("".charAt),E=l("".replace),S=l("".slice),A=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,w=/\$([$&'`]|\d{1,2})/g;u.exports=function(T,C,j,L,k,U){var X=j+T.length,le=L.length,ie=w;return k!==void 0&&(k=f(k),ie=A),E(U,ie,function($,Z){var se;switch(b(Z,0)){case"$":return"$";case"&":return T;case"`":return S(C,0,j);case"'":return S(C,X);case"<":se=k[S(Z,1,-1)];break;default:var z=+Z;if(z===0)return $;if(z>le){var H=v(z/10);return H===0?$:H<=le?L[H-1]===void 0?b(Z,1):L[H-1]+b(Z,1):$}se=L[z-1]}return se===void 0?"":se})}},function(u,c,i){var l=i(7),f=i(15),v=i(55),b=i(33),E=i(34),S=i(101),A=l.Function,w=f([].concat),T=f([].join),C={},j=function(L,k,U){if(!E(C,k)){for(var X=[],le=0;le<k;le++)X[le]="a["+le+"]";C[k]=A("C,a","return new C("+T(X,",")+")")}return C[k](L,U)};u.exports=A.bind||function(k){var U=v(this),X=U.prototype,le=S(arguments,1),ie=function(){var Z=w(le,S(arguments));return this instanceof ie?j(U,Z.length,Z):U.apply(k,Z)};return b(X)&&(ie.prototype=X),ie}},function(u,c,i){var l=i(34);u.exports=function(f){return f!==void 0&&(l(f,"value")||l(f,"writable"))}},function(u,c,i){var l=i(36),f=i(15),v=i(35),b=i(18),E=i(66),S=i(112),A=i(93),w=i(38),T=i(81),C=Object.assign,j=Object.defineProperty,L=f([].concat);u.exports=!C||b(function(){if(l&&C({b:1},C(j({},"a",{enumerable:!0,get:function(){j(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var k={},U={},X=Symbol(),le="abcdefghijklmnopqrst";return k[X]=7,le.split("").forEach(function(ie){U[ie]=ie}),C({},k)[X]!=7||E(C({},U)).join("")!=le})?function(U,X){for(var le=w(U),ie=arguments.length,$=1,Z=S.f,se=A.f;ie>$;)for(var z=T(arguments[$++]),H=Z?L(E(z),Z(z)):E(z),R=H.length,M=0,I;R>M;)I=H[M++],(!l||v(se,z,I))&&(le[I]=z[I]);return le}:C},function(u,c,i){var l=i(15),f=i(45),v=i(40),b=/"/g,E=l("".replace);u.exports=function(S,A,w,T){var C=v(f(S)),j="<"+A;return w!==""&&(j+=" "+w+'="'+E(v(T),b,"&quot;")+'"'),j+">"+C+"</"+A+">"}},function(u,c,i){var l=i(18);u.exports=function(f){return l(function(){var v=""[f]('"');return v!==v.toLowerCase()||v.split('"').length>3})}},function(u,c,i){var l=i(16),f=Math.hypot,v=Math.abs,b=Math.sqrt,E=!!f&&f(1/0,NaN)!==1/0;l({target:"Math",stat:!0,forced:E},{hypot:function(A,w){for(var T=0,C=0,j=arguments.length,L=0,k,U;C<j;)k=v(arguments[C++]),L<k?(U=L/k,T=T*U*U+1,L=k):k>0?(U=k/L,T+=U*U):T+=k;return L===1/0?1/0:L*b(T)}})},function(u,c,i){var l=i(16),f=i(64),v=i(7),b=i(46),E=i(35),S=i(205),A=i(44),w=i(144),T=i(97),C=i(73),j=i(145),L=i(55),k=i(28),U=i(33),X=i(117),le=i(92),ie=i(114),$=i(118),Z=i(156),se=i(162).set,z=i(206),H=i(209),R=i(210),M=i(164),I=i(211),K=i(56),q=i(95),de=i(27),Te=i(212),ve=i(126),Oe=i(65),Ae=de("species"),Ee="Promise",Ne=K.getterFor(Ee),ze=K.set,Qe=K.getterFor(Ee),Be=S&&S.prototype,Se=S,Re=Be,He=v.TypeError,Y=v.document,W=v.process,ee=M.f,he=ee,xe=!!(Y&&Y.createEvent&&v.dispatchEvent),pe=k(v.PromiseRejectionEvent),Fe="unhandledrejection",et="rejectionhandled",We=0,rt=1,ye=2,ut=1,tt=2,Le=!1,$e,Mt,ct,bt,ne=q(Ee,function(){var Ce=le(Se),Xe=Ce!==String(Se);if(!Xe&&Oe===66||f&&!Re.finally)return!0;if(Oe>=51&&/native code/.test(Ce))return!1;var nt=new Se(function(_){_(1)}),Je=function(_){_(function(){},function(){})},lt=nt.constructor={};return lt[Ae]=Je,Le=nt.then(function(){})instanceof Je,Le?!Xe&&Te&&!pe:!0}),It=ne||!$(function(Ce){Se.all(Ce).catch(function(){})}),St=function(Ce){var Xe;return U(Ce)&&k(Xe=Ce.then)?Xe:!1},mt=function(Ce,Xe){if(!Ce.notified){Ce.notified=!0;var nt=Ce.reactions;z(function(){for(var Je=Ce.value,lt=Ce.state==rt,_=0;nt.length>_;){var Q=nt[_++],te=lt?Q.ok:Q.fail,re=Q.resolve,we=Q.reject,De=Q.domain,Ye,yt,Zt;try{te?(lt||(Ce.rejection===tt&&xr(Ce),Ce.rejection=ut),te===!0?Ye=Je:(De&&De.enter(),Ye=te(Je),De&&(De.exit(),Zt=!0)),Ye===Q.promise?we(He("Promise-chain cycle")):(yt=St(Ye))?E(yt,Ye,re,we):re(Ye)):we(Je)}catch($t){De&&!Zt&&De.exit(),we($t)}}Ce.reactions=[],Ce.notified=!1,Xe&&!Ce.rejection&&pr(Ce)})}},Wt=function(Ce,Xe,nt){var Je,lt;xe?(Je=Y.createEvent("Event"),Je.promise=Xe,Je.reason=nt,Je.initEvent(Ce,!1,!0),v.dispatchEvent(Je)):Je={promise:Xe,reason:nt},!pe&&(lt=v["on"+Ce])?lt(Je):Ce===Fe&&R("Unhandled promise rejection",nt)},pr=function(Ce){E(se,v,function(){var Xe=Ce.facade,nt=Ce.value,Je=Jt(Ce),lt;if(Je&&(lt=I(function(){ve?W.emit("unhandledRejection",nt,Xe):Wt(Fe,Xe,nt)}),Ce.rejection=ve||Jt(Ce)?tt:ut,lt.error))throw lt.value})},Jt=function(Ce){return Ce.rejection!==ut&&!Ce.parent},xr=function(Ce){E(se,v,function(){var Xe=Ce.facade;ve?W.emit("rejectionHandled",Xe):Wt(et,Xe,Ce.value)})},qe=function(Ce,Xe,nt){return function(Je){Ce(Xe,Je,nt)}},At=function(Ce,Xe,nt){Ce.done||(Ce.done=!0,nt&&(Ce=nt),Ce.value=Xe,Ce.state=ye,mt(Ce,!0))},nr=function(Ce,Xe,nt){if(!Ce.done){Ce.done=!0,nt&&(Ce=nt);try{if(Ce.facade===Xe)throw He("Promise can't be resolved itself");var Je=St(Xe);Je?z(function(){var lt={done:!1};try{E(Je,Xe,qe(nr,lt,Ce),qe(At,lt,Ce))}catch(_){At(lt,_,Ce)}}):(Ce.value=Xe,Ce.state=rt,mt(Ce,!1))}catch(lt){At({done:!1},lt,Ce)}}};if(ne&&(Se=function(Xe){X(this,Re),L(Xe),E($e,this);var nt=Ne(this);try{Xe(qe(nr,nt),qe(At,nt))}catch(Je){At(nt,Je)}},Re=Se.prototype,$e=function(Xe){ze(this,{type:Ee,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:We,value:void 0})},$e.prototype=w(Re,{then:function(Xe,nt){var Je=Qe(this),lt=Je.reactions,_=ee(Z(this,Se));return _.ok=k(Xe)?Xe:!0,_.fail=k(nt)&&nt,_.domain=ve?W.domain:void 0,Je.parent=!0,lt[lt.length]=_,Je.state!=We&&mt(Je,!1),_.promise},catch:function(Ce){return this.then(void 0,Ce)}}),Mt=function(){var Ce=new $e,Xe=Ne(Ce);this.promise=Ce,this.resolve=qe(nr,Xe),this.reject=qe(At,Xe)},M.f=ee=function(Ce){return Ce===Se||Ce===ct?new Mt(Ce):he(Ce)},!f&&k(S)&&Be!==Object.prototype)){bt=Be.then,Le||(A(Be,"then",function(Xe,nt){var Je=this;return new Se(function(lt,_){E(bt,Je,lt,_)}).then(Xe,nt)},{unsafe:!0}),A(Be,"catch",Re.catch,{unsafe:!0}));try{delete Be.constructor}catch(Ce){}T&&T(Be,Re)}l({global:!0,wrap:!0,forced:ne},{Promise:Se}),C(Se,Ee,!1,!0),j(Ee),ct=b(Ee),l({target:Ee,stat:!0,forced:ne},{reject:function(Xe){var nt=ee(this);return E(nt.reject,void 0,Xe),nt.promise}}),l({target:Ee,stat:!0,forced:f||ne},{resolve:function(Xe){return H(f&&this===ct?Se:this,Xe)}}),l({target:Ee,stat:!0,forced:It},{all:function(Xe){var nt=this,Je=ee(nt),lt=Je.resolve,_=Je.reject,Q=I(function(){var te=L(nt.resolve),re=[],we=0,De=1;ie(Xe,function(Ye){var yt=we++,Zt=!1;De++,E(te,nt,Ye).then(function($t){Zt||(Zt=!0,re[yt]=$t,--De||lt(re))},_)}),--De||lt(re)});return Q.error&&_(Q.value),Je.promise},race:function(Xe){var nt=this,Je=ee(nt),lt=Je.reject,_=I(function(){var Q=L(nt.resolve);ie(Xe,function(te){E(Q,nt,te).then(Je.resolve,lt)})});return _.error&&lt(_.value),Je.promise}})},function(u,c,i){var l=i(7);u.exports=l.Promise},function(u,c,i){var l=i(7),f=i(62),v=i(51).f,b=i(162).set,E=i(163),S=i(207),A=i(208),w=i(126),T=l.MutationObserver||l.WebKitMutationObserver,C=l.document,j=l.process,L=l.Promise,k=v(l,"queueMicrotask"),U=k&&k.value,X,le,ie,$,Z,se,z,H;U||(X=function(){var R,M;for(w&&(R=j.domain)&&R.exit();le;){M=le.fn,le=le.next;try{M()}catch(I){throw le?$():ie=void 0,I}}ie=void 0,R&&R.enter()},!E&&!w&&!A&&T&&C?(Z=!0,se=C.createTextNode(""),new T(X).observe(se,{characterData:!0}),$=function(){se.data=Z=!Z}):!S&&L&&L.resolve?(z=L.resolve(void 0),z.constructor=L,H=f(z.then,z),$=function(){H(X)}):w?$=function(){j.nextTick(X)}:(b=f(b,l),$=function(){b(X)})),u.exports=U||function(R){var M={fn:R,next:void 0};ie&&(ie.next=M),le||(le=M,$()),ie=M}},function(u,c,i){var l=i(53),f=i(7);u.exports=/ipad|iphone|ipod/i.test(l)&&f.Pebble!==void 0},function(u,c,i){var l=i(53);u.exports=/web0s(?!.*chrome)/i.test(l)},function(u,c,i){var l=i(32),f=i(33),v=i(164);u.exports=function(b,E){if(l(b),f(E)&&E.constructor===b)return E;var S=v.f(b),A=S.resolve;return A(E),S.promise}},function(u,c,i){var l=i(7);u.exports=function(f,v){var b=l.console;b&&b.error&&(arguments.length==1?b.error(f):b.error(f,v))}},function(u,c){u.exports=function(i){try{return{error:!1,value:i()}}catch(l){return{error:!0,value:l}}}},function(u,c){u.exports=typeof window=="object"},function(u,c,i){var l=i(36),f=i(15),v=i(66),b=i(39),E=i(93).f,S=f(E),A=f([].push),w=function(T){return function(C){for(var j=b(C),L=v(j),k=L.length,U=0,X=[],le;k>U;)le=L[U++],(!l||S(j,le))&&A(X,T?[le,j[le]]:j[le]);return X}};u.exports={entries:w(!0),values:w(!1)}},function(u,c,i){var l=i(38),f=i(67),v=i(43);u.exports=function(E){for(var S=l(this),A=v(S),w=arguments.length,T=f(w>1?arguments[1]:void 0,A),C=w>2?arguments[2]:void 0,j=C===void 0?A:f(C,A);j>T;)S[T++]=E;return S}},function(u,c,i){i.r(c),i.d(c,"observer",function(){return Ur}),i.d(c,"LogicFlow",function(){return qc}),i.d(c,"h",function(){return ne.g}),i.d(c,"LogicFlowUtil",function(){return l}),i.d(c,"BaseNode",function(){return yn}),i.d(c,"RectNode",function(){return pc}),i.d(c,"CircleNode",function(){return vc}),i.d(c,"PolygonNode",function(){return bc}),i.d(c,"DiamondNode",function(){return xc}),i.d(c,"EllipseNode",function(){return Pc}),i.d(c,"TextNode",function(){return wc}),i.d(c,"HtmlNode",function(){return Dc}),i.d(c,"BaseEdge",function(){return xi}),i.d(c,"LineEdge",function(){return _c}),i.d(c,"PolylineEdge",function(){return Gc}),i.d(c,"BezierEdge",function(){return Hc}),i.d(c,"Arrow",function(){return dC}),i.d(c,"BaseEdgeModel",function(){return df}),i.d(c,"BezierEdgeModel",function(){return kf}),i.d(c,"LineEdgeModel",function(){return yf}),i.d(c,"PolylineEdgeModel",function(){return mf}),i.d(c,"BaseNodeModel",function(){return pn}),i.d(c,"CircleNodeModel",function(){return Hf}),i.d(c,"DiamondNodeModel",function(){return Wf}),i.d(c,"EllipseNodeModel",function(){return Vf}),i.d(c,"PolygonNodeModel",function(){return Zf}),i.d(c,"RectNodeModel",function(){return ec}),i.d(c,"TextNodeModel",function(){return rc}),i.d(c,"HtmlNodeModel",function(){return oc}),i.d(c,"EditConfigModel",function(){return lp}),i.d(c,"GraphModel",function(){return iy}),i.d(c,"SnaplineModel",function(){return ig}),i.d(c,"Keyboard",function(){return ym}),i.d(c,"get",function(){return ky}),i.d(c,"defaults",function(){return Gy});var l={};i.r(l),i.d(l,"createUuid",function(){return eo}),i.d(l,"refreshGraphId",function(){return OA}),i.d(l,"createDrag",function(){return Af}),i.d(l,"StepDrag",function(){return to});var f=i(0),v=i(10);if(!v.j)throw new Error("mobx-react-lite requires React with Hooks support");if(!f.H)throw new Error("mobx-react-lite requires mobx at least version 4 to be available");var b=i(42),E=Object(b.b)("observerBatching");function S(e){e()}function A(e){e||(e=S),Object(f.n)({reactionScheduler:e}),Object(b.a)()[E]=!0}function w(e){return Object(f.t)(e)}function T(e){var r={cleanAt:Date.now()+C,reaction:e};return r}var C=1e4,j=1e4,L=new Set,k;function U(){k===void 0&&(k=setTimeout(ie,j))}function X(e){L.add(e),U()}function le(e){L.delete(e)}function ie(){k=void 0;var e=Date.now();L.forEach(function(r){var t=r.current;t&&e>=t.cleanAt&&(t.reaction.dispose(),r.current=null,L.delete(r))}),L.size>0&&U()}var $=!1,Z=[];function se(e){return function(){$?Z.push(e):e()}}function z(e){$=!0,Z=[];try{var r=e();$=!1;var t=Z.length>0?Z:void 0;return v.d.useLayoutEffect(function(){t&&t.forEach(function(n){return n()})},[t]),r}finally{$=!1}}var H={};function R(e){return"observer"+e}function M(e,r,t){r===void 0&&(r="observed"),t===void 0&&(t=H);var n=t.useForceUpdate||b.d,o=n(),a=se(o),s=v.d.useRef(null);if(!s.current){var p=new f.c(R(r),function(){m.mounted?a():(p.dispose(),s.current=null)}),m=T(p);s.current=m,X(s)}var x=s.current.reaction;return v.d.useDebugValue(x,w),v.d.useEffect(function(){return le(s),s.current?s.current.mounted=!0:(s.current={reaction:new f.c(R(r),function(){a()}),cleanAt:1/0},a()),function(){s.current.reaction.dispose(),s.current=null}},[]),z(function(){var P,D;if(x.track(function(){try{P=e()}catch(B){D=B}}),D)throw D;return P})}var I=function(){return I=Object.assign||function(e){for(var r,t=1,n=arguments.length;t<n;t++){r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},I.apply(this,arguments)};function K(e,r){var t=I({forwardRef:!1},r),n=e.displayName||e.name,o=function(s,p){return M(function(){return e(s,p)},n)};o.displayName=n;var a;return t.forwardRef?a=Object(v.f)(Object(v.e)(o)):a=Object(v.f)(o),de(e,a),a.displayName=n,a}var q={$$typeof:!0,render:!0,compare:!0,type:!0};function de(e,r){Object.keys(e).forEach(function(t){q[t]||Object.defineProperty(r,t,Object.getOwnPropertyDescriptor(e,t))})}function Te(e){var r=e.children,t=e.render,n=r||t;return typeof n!="function"?null:M(n)}Te.propTypes={children:ve,render:ve},Te.displayName="Observer";function ve(e,r,t,n,o){var a=r==="children"?"render":"children",s=typeof e[r]=="function",p=typeof e[a]=="function";return s&&p?new Error("MobX Observer: Do not use children and render in the same time in`"+t):s||p?null:new Error("Invalid prop `"+o+"` of type `"+typeof e[r]+"` supplied to `"+t+"`, expected `function`.")}A(v.g);var Oe=0;function Ae(e){if(typeof Symbol=="function")return Symbol(e);var r="__$mobx-react "+e+" ("+Oe+")";return Oe++,r}var Ee={};function Ne(e){return Ee[e]||(Ee[e]=Ae(e)),Ee[e]}function ze(e,r){if(Qe(e,r))return!0;if(typeof e!="object"||e===null||typeof r!="object"||r===null)return!1;var t=Object.keys(e),n=Object.keys(r);if(t.length!==n.length)return!1;for(var o=0;o<t.length;o++)if(!Object.hasOwnProperty.call(r,t[o])||!Qe(e[t[o]],r[t[o]]))return!1;return!0}function Qe(e,r){return e===r?e!==0||1/e===1/r:e!==e&&r!==r}function Be(e,r,t){Object.hasOwnProperty.call(e,r)?e[r]=t:Object.defineProperty(e,r,{enumerable:!1,configurable:!0,writable:!0,value:t})}var Se=Ne("patchMixins"),Re=Ne("patchedDefinition");function He(e,r){var t=e[Se]=e[Se]||{},n=t[r]=t[r]||{};return n.locks=n.locks||0,n.methods=n.methods||[],n}function Y(e,r){for(var t=this,n=arguments.length,o=new Array(n>2?n-2:0),a=2;a<n;a++)o[a-2]=arguments[a];r.locks++;try{var s;return e!=null&&(s=e.apply(this,o)),s}finally{r.locks--,r.locks===0&&r.methods.forEach(function(p){p.apply(t,o)})}}function W(e,r){var t=function(){for(var o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];Y.call.apply(Y,[this,e,r].concat(a))};return t}function ee(e,r,t){var n=He(e,r);n.methods.indexOf(t)<0&&n.methods.push(t);var o=Object.getOwnPropertyDescriptor(e,r);if(!(o&&o[Re])){var a=e[r],s=he(e,r,o?o.enumerable:void 0,n,a);Object.defineProperty(e,r,s)}}function he(e,r,t,n,o){var a,s=W(o,n);return a={},a[Re]=!0,a.get=function(){return s},a.set=function(m){if(this===e)s=W(m,n);else{var x=he(this,r,t,n,m);Object.defineProperty(this,r,x)}},a.configurable=!0,a.enumerable=t,a}var xe=f.a||"$mobx",pe=Ne("isMobXReactObserver"),Fe=Ne("isUnmounted"),et=Ne("skipRender"),We=Ne("isForcingUpdate");function rt(e){var r=e.prototype;if(e[pe]){var t=ye(r);console.warn("The provided component class ("+t+`) 
                has already been declared as an observer component.`)}else e[pe]=!0;if(r.componentWillReact)throw new Error("The componentWillReact life-cycle event is no longer supported");if(e.__proto__!==v.b){if(!r.shouldComponentUpdate)r.shouldComponentUpdate=tt;else if(r.shouldComponentUpdate!==tt)throw new Error("It is not allowed to use shouldComponentUpdate in observer based components.")}Le(r,"props"),Le(r,"state");var n=r.render;return r.render=function(){return ut.call(this,n)},ee(r,"componentWillUnmount",function(){var o;if((o=this.render[xe])===null||o===void 0||o.dispose(),this[Fe]=!0,!this.render[xe]){var a=ye(this);console.warn("The reactive render of an observer class component ("+a+`) 
                was overriden after MobX attached. This may result in a memory leak if the 
                overriden reactive render was not properly disposed.`)}}),e}function ye(e){return e.displayName||e.name||e.constructor&&(e.constructor.displayName||e.constructor.name)||"<component>"}function ut(e){var r=this;Be(this,et,!1),Be(this,We,!1);var t=ye(this),n=e.bind(this),o=!1,a=new f.c(t+".render()",function(){if(!o&&(o=!0,r[Fe]!==!0)){var p=!0;try{Be(r,We,!0),r[et]||v.a.prototype.forceUpdate.call(r),p=!1}finally{Be(r,We,!1),p&&a.dispose()}}});a.reactComponent=this,s[xe]=a,this.render=s;function s(){o=!1;var p=void 0,m=void 0;if(a.track(function(){try{m=Object(f.d)(!1,n)}catch(x){p=x}}),p)throw p;return m}return s.call(this)}function tt(e,r){return this.state!==r?!0:!ze(this.props,e)}function Le(e,r){var t=Ne("reactProp_"+r+"_valueHolder"),n=Ne("reactProp_"+r+"_atomHolder");function o(){return this[n]||Be(this,n,Object(f.o)("reactive "+r)),this[n]}Object.defineProperty(e,r,{configurable:!0,enumerable:!0,get:function(){var s=!1;return f.f&&f.e&&(s=Object(f.f)(!0)),o.call(this).reportObserved(),f.f&&f.e&&Object(f.e)(s),this[t]},set:function(s){!this[We]&&!ze(this[t],s)?(Be(this,t,s),Be(this,et,!0),o.call(this).reportChanged(),Be(this,et,!1)):Be(this,t,s)}})}var $e=typeof Symbol=="function"&&Symbol.for,Mt=$e?Symbol.for("react.forward_ref"):typeof v.e=="function"&&Object(v.e)(function(e){return null}).$$typeof,ct=$e?Symbol.for("react.memo"):typeof v.f=="function"&&Object(v.f)(function(e){return null}).$$typeof;function bt(e){if(e.isMobxInjector===!0&&console.warn("Mobx observer: You are trying to use 'observer' on a component that already has 'inject'. Please apply 'observer' before applying 'inject'"),ct&&e.$$typeof===ct)throw new Error("Mobx observer: You are trying to use 'observer' on a function component wrapped in either another observer or 'React.memo'. The observer already applies 'React.memo' for you.");if(Mt&&e.$$typeof===Mt){var r=e.render;if(typeof r!="function")throw new Error("render property of ForwardRef was not a function");return Object(v.e)(function(){var n=arguments;return Object(v.c)(Te,null,function(){return r.apply(void 0,n)})})}return typeof e=="function"&&(!e.prototype||!e.prototype.render)&&!e.isReactClass&&!Object.prototype.isPrototypeOf.call(v.a,e)?K(e):rt(e)}if(!v.a)throw new Error("mobx-react requires React to be available");if(!f.C)throw new Error("mobx-react requires mobx to be available");var ne=i(1);i(3),i(60),i(2),i(6),i(4),i(11),i(41),i(24),i(20),i(5),i(22),i(21),i(23),i(8),i(9),i(17),i(25),i(19),i(29),i(187),i(192),i(103),i(152),i(153);function It(e,r){for(var t=-1,n=e==null?0:e.length,o=Array(n);++t<n;)o[t]=r(e[t],t,e);return o}var St=It;function mt(){this.__data__=[],this.size=0}var Wt=mt;function pr(e,r){return e===r||e!==e&&r!==r}var Jt=pr;function xr(e,r){for(var t=e.length;t--;)if(Jt(e[t][0],r))return t;return-1}var qe=xr,At=Array.prototype,nr=At.splice;function Ce(e){var r=this.__data__,t=qe(r,e);if(t<0)return!1;var n=r.length-1;return t==n?r.pop():nr.call(r,t,1),--this.size,!0}var Xe=Ce;function nt(e){var r=this.__data__,t=qe(r,e);return t<0?void 0:r[t][1]}var Je=nt;function lt(e){return qe(this.__data__,e)>-1}var _=lt;function Q(e,r){var t=this.__data__,n=qe(t,e);return n<0?(++this.size,t.push([e,r])):t[n][1]=r,this}var te=Q;function re(e){var r=-1,t=e==null?0:e.length;for(this.clear();++r<t;){var n=e[r];this.set(n[0],n[1])}}re.prototype.clear=Wt,re.prototype.delete=Xe,re.prototype.get=Je,re.prototype.has=_,re.prototype.set=te;var we=re;function De(){this.__data__=new we,this.size=0}var Ye=De;function yt(e){var r=this.__data__,t=r.delete(e);return this.size=r.size,t}var Zt=yt;function $t(e){return this.__data__.get(e)}var Un=$t;function Hr(e){return this.__data__.has(e)}var Bi=Hr,Sr=i(30),Li=Sr.a.Symbol,fr=Li,gn=Object.prototype,Hn=gn.hasOwnProperty,un=gn.toString,Yn=fr?fr.toStringTag:void 0;function mn(e){var r=Hn.call(e,Yn),t=e[Yn];try{e[Yn]=void 0;var n=!0}catch(a){}var o=un.call(e);return n&&(r?e[Yn]=t:delete e[Yn]),o}var bn=mn,so=Object.prototype,$l=so.toString;function fo(e){return $l.call(e)}var co=fo,zi="[object Null]",Ge="[object Undefined]",Fi=fr?fr.toStringTag:void 0;function ql(e){return e==null?e===void 0?Ge:zi:Fi&&Fi in Object(e)?bn(e):co(e)}var Yr=ql;function _i(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}var Pt=_i,hr="[object AsyncFunction]",ki="[object Function]",es="[object GeneratorFunction]",ts="[object Proxy]";function rs(e){if(!Pt(e))return!1;var r=Yr(e);return r==ki||r==es||r==hr||r==ts}var po=rs,Gi=Sr.a["__core-js_shared__"],ln=Gi,Zo=function(){var e=/[^.]+$/.exec(ln&&ln.keys&&ln.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function $o(e){return!!Zo&&Zo in e}var Ui=$o,ns=Function.prototype,ho=ns.toString;function os(e){if(e!=null){try{return ho.call(e)}catch(r){}try{return e+""}catch(r){}}return""}var jt=os,hd=/[\\^$.*+?()[\]{}|]/g,yd=/^\[object .+?Constructor\]$/,vd=Function.prototype,Hi=Object.prototype,is=vd.toString,Yi=Hi.hasOwnProperty,as=RegExp("^"+is.call(Yi).replace(hd,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function us(e){if(!Pt(e)||Ui(e))return!1;var r=po(e)?as:yd;return r.test(jt(e))}var Xr=us;function ls(e,r){return e==null?void 0:e[r]}var ss=ls;function qo(e,r){var t=ss(e,r);return Xr(t)?t:void 0}var Cr=qo,fs=Cr(Sr.a,"Map"),On=fs,cs=Cr(Object,"create"),Xn=cs;function ds(){this.__data__=Xn?Xn(null):{},this.size=0}var ei=ds;function Xi(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r}var ps=Xi,ti="__lodash_hash_undefined__",Wi=Object.prototype,Ki=Wi.hasOwnProperty;function Vi(e){var r=this.__data__;if(Xn){var t=r[e];return t===ti?void 0:t}return Ki.call(r,e)?r[e]:void 0}var Qi=Vi,hs=Object.prototype,Ji=hs.hasOwnProperty;function ys(e){var r=this.__data__;return Xn?r[e]!==void 0:Ji.call(r,e)}var Zi=ys,$i="__lodash_hash_undefined__";function vs(e,r){var t=this.__data__;return this.size+=this.has(e)?0:1,t[e]=Xn&&r===void 0?$i:r,this}var gs=vs;function En(e){var r=-1,t=e==null?0:e.length;for(this.clear();++r<t;){var n=e[r];this.set(n[0],n[1])}}En.prototype.clear=ei,En.prototype.delete=ps,En.prototype.get=Qi,En.prototype.has=Zi,En.prototype.set=gs;var xn=En;function Sn(){this.size=0,this.__data__={hash:new xn,map:new(On||we),string:new xn}}var ms=Sn;function bs(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}var qi=bs;function Os(e,r){var t=e.__data__;return qi(r)?t[typeof r=="string"?"string":"hash"]:t.map}var yo=Os;function Es(e){var r=yo(this,e).delete(e);return this.size-=r?1:0,r}var xs=Es;function An(e){return yo(this,e).get(e)}var Wr=An;function Ss(e){return yo(this,e).has(e)}var As=Ss;function Ps(e,r){var t=yo(this,e),n=t.size;return t.set(e,r),this.size+=t.size==n?0:1,this}var Ar=Ps;function Pn(e){var r=-1,t=e==null?0:e.length;for(this.clear();++r<t;){var n=e[r];this.set(n[0],n[1])}}Pn.prototype.clear=ms,Pn.prototype.delete=xs,Pn.prototype.get=Wr,Pn.prototype.has=As,Pn.prototype.set=Ar;var Wn=Pn,Ts=200;function vo(e,r){var t=this.__data__;if(t instanceof we){var n=t.__data__;if(!On||n.length<Ts-1)return n.push([e,r]),this.size=++t.size,this;t=this.__data__=new Wn(n)}return t.set(e,r),this.size=t.size,this}var go=vo;function Tn(e){var r=this.__data__=new we(e);this.size=r.size}Tn.prototype.clear=Ye,Tn.prototype.delete=Zt,Tn.prototype.get=Un,Tn.prototype.has=Bi,Tn.prototype.set=go;var wn=Tn,Pr="__lodash_hash_undefined__";function Kn(e){return this.__data__.set(e,Pr),this}var Tr=Kn;function yr(e){return this.__data__.has(e)}var Vn=yr;function qt(e){var r=-1,t=e==null?0:e.length;for(this.__data__=new Wn;++r<t;)this.add(e[r])}qt.prototype.add=qt.prototype.push=Tr,qt.prototype.has=Vn;var ws=qt;function Ms(e,r){for(var t=-1,n=e==null?0:e.length;++t<n;)if(r(e[t],t,e))return!0;return!1}var Ns=Ms;function ea(e,r){return e.has(r)}var Ir=ea,Ds=1,jr=2;function ta(e,r,t,n,o,a){var s=t&Ds,p=e.length,m=r.length;if(p!=m&&!(s&&m>p))return!1;var x=a.get(e),P=a.get(r);if(x&&P)return x==r&&P==e;var D=-1,B=!0,G=t&jr?new ws:void 0;for(a.set(e,r),a.set(r,e);++D<p;){var J=e[D],oe=r[D];if(n)var ue=s?n(oe,J,D,r,e,a):n(J,oe,D,e,r,a);if(ue!==void 0){if(ue)continue;B=!1;break}if(G){if(!Ns(r,function(ae,Me){if(!Ir(G,Me)&&(J===ae||o(J,ae,t,n,a)))return G.push(Me)})){B=!1;break}}else if(!(J===oe||o(J,oe,t,n,a))){B=!1;break}}return a.delete(e),a.delete(r),B}var ra=ta,ri=Sr.a.Uint8Array,Ut=ri;function na(e){var r=-1,t=Array(e.size);return e.forEach(function(n,o){t[++r]=[o,n]}),t}var Cs=na;function oa(e){var r=-1,t=Array(e.size);return e.forEach(function(n){t[++r]=n}),t}var cr=oa,ia=1,ni=2,aa="[object Boolean]",ua="[object Date]",Is="[object Error]",la="[object Map]",js="[object Number]",Rs="[object RegExp]",vr="[object Set]",wr="[object String]",Qn="[object Symbol]",Bs="[object ArrayBuffer]",sa="[object DataView]",mo=fr?fr.prototype:void 0,Jn=mo?mo.valueOf:void 0;function fa(e,r,t,n,o,a,s){switch(t){case sa:if(e.byteLength!=r.byteLength||e.byteOffset!=r.byteOffset)return!1;e=e.buffer,r=r.buffer;case Bs:return!(e.byteLength!=r.byteLength||!a(new Ut(e),new Ut(r)));case aa:case ua:case js:return Jt(+e,+r);case Is:return e.name==r.name&&e.message==r.message;case Rs:case wr:return e==r+"";case la:var p=Cs;case vr:var m=n&ia;if(p||(p=cr),e.size!=r.size&&!m)return!1;var x=s.get(e);if(x)return x==r;n|=ni,s.set(e,r);var P=ra(p(e),p(r),n,o,a,s);return s.delete(e),P;case Qn:if(Jn)return Jn.call(e)==Jn.call(r)}return!1}var Ls=fa;function bo(e,r){for(var t=-1,n=r.length,o=e.length;++t<n;)e[o+t]=r[t];return e}var oi=bo,ca=Array.isArray,d=ca;function h(e,r,t){var n=r(e);return d(e)?n:oi(n,t(e))}var O=h;function N(e,r){for(var t=-1,n=e==null?0:e.length,o=0,a=[];++t<n;){var s=e[t];r(s,t,e)&&(a[o++]=s)}return a}var F=N;function V(){return[]}var fe=V,Pe=Object.prototype,Ue=Pe.propertyIsEnumerable,st=Object.getOwnPropertySymbols,ft=st?function(e){return e==null?[]:(e=Object(e),F(st(e),function(r){return Ue.call(e,r)}))}:fe,Ot=ft;function xt(e,r){for(var t=-1,n=Array(e);++t<e;)n[t]=r(t);return n}var Bt=xt;function Ht(e){return e!=null&&typeof e=="object"}var Tt=Ht,gr="[object Arguments]";function Mn(e){return Tt(e)&&Yr(e)==gr}var da=Mn,pa=Object.prototype,ha=pa.hasOwnProperty,ya=pa.propertyIsEnumerable,ii=da(function(){return arguments}())?da:function(e){return Tt(e)&&ha.call(e,"callee")&&!ya.call(e,"callee")},Nn=ii,sn=i(48),Mb=9007199254740991,Nb=/^(?:0|[1-9]\d*)$/;function Db(e,r){var t=typeof e;return r=r==null?Mb:r,!!r&&(t=="number"||t!="symbol"&&Nb.test(e))&&e>-1&&e%1==0&&e<r}var va=Db,Cb=9007199254740991;function Ib(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Cb}var zs=Ib,jb="[object Arguments]",Rb="[object Array]",Bb="[object Boolean]",Lb="[object Date]",zb="[object Error]",Fb="[object Function]",_b="[object Map]",kb="[object Number]",Gb="[object Object]",Ub="[object RegExp]",Hb="[object Set]",Yb="[object String]",Xb="[object WeakMap]",Wb="[object ArrayBuffer]",Kb="[object DataView]",Vb="[object Float32Array]",Qb="[object Float64Array]",Jb="[object Int8Array]",Zb="[object Int16Array]",$b="[object Int32Array]",qb="[object Uint8Array]",eO="[object Uint8ClampedArray]",tO="[object Uint16Array]",rO="[object Uint32Array]",Nt={};Nt[Vb]=Nt[Qb]=Nt[Jb]=Nt[Zb]=Nt[$b]=Nt[qb]=Nt[eO]=Nt[tO]=Nt[rO]=!0,Nt[jb]=Nt[Rb]=Nt[Wb]=Nt[Bb]=Nt[Kb]=Nt[Lb]=Nt[zb]=Nt[Fb]=Nt[_b]=Nt[kb]=Nt[Gb]=Nt[Ub]=Nt[Hb]=Nt[Yb]=Nt[Xb]=!1;function nO(e){return Tt(e)&&zs(e.length)&&!!Nt[Yr(e)]}var oO=nO;function iO(e){return function(r){return e(r)}}var Fs=iO,Oo=i(49),gd=Oo.a&&Oo.a.isTypedArray,aO=gd?Fs(gd):oO,_s=aO,uO=Object.prototype,lO=uO.hasOwnProperty;function sO(e,r){var t=d(e),n=!t&&Nn(e),o=!t&&!n&&Object(sn.a)(e),a=!t&&!n&&!o&&_s(e),s=t||n||o||a,p=s?Bt(e.length,String):[],m=p.length;for(var x in e)(r||lO.call(e,x))&&!(s&&(x=="length"||o&&(x=="offset"||x=="parent")||a&&(x=="buffer"||x=="byteLength"||x=="byteOffset")||va(x,m)))&&p.push(x);return p}var md=sO,fO=Object.prototype;function cO(e){var r=e&&e.constructor,t=typeof r=="function"&&r.prototype||fO;return e===t}var ga=cO;function dO(e,r){return function(t){return e(r(t))}}var bd=dO,pO=bd(Object.keys,Object),hO=pO,yO=Object.prototype,vO=yO.hasOwnProperty;function gO(e){if(!ga(e))return hO(e);var r=[];for(var t in Object(e))vO.call(e,t)&&t!="constructor"&&r.push(t);return r}var mO=gO;function bO(e){return e!=null&&zs(e.length)&&!po(e)}var Zn=bO;function OO(e){return Zn(e)?md(e):mO(e)}var Eo=OO;function EO(e){return O(e,Eo,Ot)}var ks=EO,xO=1,SO=Object.prototype,AO=SO.hasOwnProperty;function PO(e,r,t,n,o,a){var s=t&xO,p=ks(e),m=p.length,x=ks(r),P=x.length;if(m!=P&&!s)return!1;for(var D=m;D--;){var B=p[D];if(!(s?B in r:AO.call(r,B)))return!1}var G=a.get(e),J=a.get(r);if(G&&J)return G==r&&J==e;var oe=!0;a.set(e,r),a.set(r,e);for(var ue=s;++D<m;){B=p[D];var ae=e[B],Me=r[B];if(n)var ge=s?n(Me,ae,B,r,e,a):n(ae,Me,B,e,r,a);if(!(ge===void 0?ae===Me||o(ae,Me,t,n,a):ge)){oe=!1;break}ue||(ue=B=="constructor")}if(oe&&!ue){var me=e.constructor,_e=r.constructor;me!=_e&&"constructor"in e&&"constructor"in r&&!(typeof me=="function"&&me instanceof me&&typeof _e=="function"&&_e instanceof _e)&&(oe=!1)}return a.delete(e),a.delete(r),oe}var TO=PO,wO=Cr(Sr.a,"DataView"),Gs=wO,MO=Cr(Sr.a,"Promise"),Us=MO,NO=Cr(Sr.a,"Set"),Hs=NO,DO=Cr(Sr.a,"WeakMap"),Ys=DO,Od="[object Map]",CO="[object Object]",Ed="[object Promise]",xd="[object Set]",Sd="[object WeakMap]",Ad="[object DataView]",IO=jt(Gs),jO=jt(On),RO=jt(Us),BO=jt(Hs),LO=jt(Ys),$n=Yr;(Gs&&$n(new Gs(new ArrayBuffer(1)))!=Ad||On&&$n(new On)!=Od||Us&&$n(Us.resolve())!=Ed||Hs&&$n(new Hs)!=xd||Ys&&$n(new Ys)!=Sd)&&($n=function(e){var r=Yr(e),t=r==CO?e.constructor:void 0,n=t?jt(t):"";if(n)switch(n){case IO:return Ad;case jO:return Od;case RO:return Ed;case BO:return xd;case LO:return Sd}return r});var ai=$n,zO=1,Pd="[object Arguments]",Td="[object Array]",ma="[object Object]",FO=Object.prototype,wd=FO.hasOwnProperty;function _O(e,r,t,n,o,a){var s=d(e),p=d(r),m=s?Td:ai(e),x=p?Td:ai(r);m=m==Pd?ma:m,x=x==Pd?ma:x;var P=m==ma,D=x==ma,B=m==x;if(B&&Object(sn.a)(e)){if(!Object(sn.a)(r))return!1;s=!0,P=!1}if(B&&!P)return a||(a=new wn),s||_s(e)?ra(e,r,t,n,o,a):Ls(e,r,m,t,n,o,a);if(!(t&zO)){var G=P&&wd.call(e,"__wrapped__"),J=D&&wd.call(r,"__wrapped__");if(G||J){var oe=G?e.value():e,ue=J?r.value():r;return a||(a=new wn),o(oe,ue,t,n,a)}}return B?(a||(a=new wn),TO(e,r,t,n,o,a)):!1}var kO=_O;function Md(e,r,t,n,o){return e===r?!0:e==null||r==null||!Tt(e)&&!Tt(r)?e!==e&&r!==r:kO(e,r,t,n,Md,o)}var Xs=Md,GO=1,UO=2;function HO(e,r,t,n){var o=t.length,a=o,s=!n;if(e==null)return!a;for(e=Object(e);o--;){var p=t[o];if(s&&p[2]?p[1]!==e[p[0]]:!(p[0]in e))return!1}for(;++o<a;){p=t[o];var m=p[0],x=e[m],P=p[1];if(s&&p[2]){if(x===void 0&&!(m in e))return!1}else{var D=new wn;if(n)var B=n(x,P,m,e,r,D);if(!(B===void 0?Xs(P,x,GO|UO,n,D):B))return!1}}return!0}var YO=HO;function XO(e){return e===e&&!Pt(e)}var Nd=XO;function WO(e){for(var r=Eo(e),t=r.length;t--;){var n=r[t],o=e[n];r[t]=[n,o,Nd(o)]}return r}var KO=WO;function VO(e,r){return function(t){return t==null?!1:t[e]===r&&(r!==void 0||e in Object(t))}}var Dd=VO;function QO(e){var r=KO(e);return r.length==1&&r[0][2]?Dd(r[0][0],r[0][1]):function(t){return t===e||YO(t,e,r)}}var JO=QO,ZO="[object Symbol]";function $O(e){return typeof e=="symbol"||Tt(e)&&Yr(e)==ZO}var ba=$O,qO=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,eE=/^\w*$/;function tE(e,r){if(d(e))return!1;var t=typeof e;return t=="number"||t=="symbol"||t=="boolean"||e==null||ba(e)?!0:eE.test(e)||!qO.test(e)||r!=null&&e in Object(r)}var Ws=tE,rE="Expected a function";function Ks(e,r){if(typeof e!="function"||r!=null&&typeof r!="function")throw new TypeError(rE);var t=function(){var n=arguments,o=r?r.apply(this,n):n[0],a=t.cache;if(a.has(o))return a.get(o);var s=e.apply(this,n);return t.cache=a.set(o,s)||a,s};return t.cache=new(Ks.Cache||Wn),t}Ks.Cache=Wn;var nE=Ks,oE=500;function iE(e){var r=nE(e,function(n){return t.size===oE&&t.clear(),n}),t=r.cache;return r}var aE=iE,uE=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,lE=/\\(\\)?/g,sE=aE(function(e){var r=[];return e.charCodeAt(0)===46&&r.push(""),e.replace(uE,function(t,n,o,a){r.push(o?a.replace(lE,"$1"):n||t)}),r}),fE=sE,cE=1/0,Cd=fr?fr.prototype:void 0,Id=Cd?Cd.toString:void 0;function jd(e){if(typeof e=="string")return e;if(d(e))return St(e,jd)+"";if(ba(e))return Id?Id.call(e):"";var r=e+"";return r=="0"&&1/e==-cE?"-0":r}var dE=jd;function pE(e){return e==null?"":dE(e)}var hE=pE;function yE(e,r){return d(e)?e:Ws(e,r)?[e]:fE(hE(e))}var Oa=yE,vE=1/0;function gE(e){if(typeof e=="string"||ba(e))return e;var r=e+"";return r=="0"&&1/e==-vE?"-0":r}var ui=gE;function mE(e,r){r=Oa(r,e);for(var t=0,n=r.length;e!=null&&t<n;)e=e[ui(r[t++])];return t&&t==n?e:void 0}var Vs=mE;function bE(e,r,t){var n=e==null?void 0:Vs(e,r);return n===void 0?t:n}var Rd=bE;function OE(e,r){return e!=null&&r in Object(e)}var EE=OE;function xE(e,r,t){r=Oa(r,e);for(var n=-1,o=r.length,a=!1;++n<o;){var s=ui(r[n]);if(!(a=e!=null&&t(e,s)))break;e=e[s]}return a||++n!=o?a:(o=e==null?0:e.length,!!o&&zs(o)&&va(s,o)&&(d(e)||Nn(e)))}var SE=xE;function AE(e,r){return e!=null&&SE(e,r,EE)}var Bd=AE,PE=1,TE=2;function wE(e,r){return Ws(e)&&Nd(r)?Dd(ui(e),r):function(t){var n=Rd(t,e);return n===void 0&&n===r?Bd(t,e):Xs(r,n,PE|TE)}}var ME=wE;function NE(e){return e}var Qs=NE;function DE(e){return function(r){return r==null?void 0:r[e]}}var CE=DE;function IE(e){return function(r){return Vs(r,e)}}var jE=IE;function RE(e){return Ws(e)?CE(ui(e)):jE(e)}var BE=RE;function LE(e){return typeof e=="function"?e:e==null?Qs:typeof e=="object"?d(e)?ME(e[0],e[1]):JO(e):BE(e)}var zE=LE;function FE(e){return function(r,t,n){for(var o=-1,a=Object(r),s=n(r),p=s.length;p--;){var m=s[e?p:++o];if(t(a[m],m,a)===!1)break}return r}}var _E=FE,kE=_E(),Ld=kE;function GE(e,r){return e&&Ld(e,r,Eo)}var UE=GE;function HE(e,r){return function(t,n){if(t==null)return t;if(!Zn(t))return e(t,n);for(var o=t.length,a=r?o:-1,s=Object(t);(r?a--:++a<o)&&n(s[a],a,s)!==!1;);return t}}var YE=HE,XE=YE(UE),WE=XE;function KE(e,r){var t=-1,n=Zn(e)?Array(e.length):[];return WE(e,function(o,a,s){n[++t]=r(o,a,s)}),n}var VE=KE;function QE(e,r){var t=d(e)?St:VE;return t(e,zE(r))}var Ea=QE,JE=function(){try{var e=Cr(Object,"defineProperty");return e({},"",{}),e}catch(r){}}(),xa=JE;function ZE(e,r,t){r=="__proto__"&&xa?xa(e,r,{configurable:!0,enumerable:!0,value:t,writable:!0}):e[r]=t}var Js=ZE,$E=Object.prototype,qE=$E.hasOwnProperty;function ex(e,r,t){var n=e[r];(!(qE.call(e,r)&&Jt(n,t))||t===void 0&&!(r in e))&&Js(e,r,t)}var Sa=ex;function tx(e,r,t,n){var o=!t;t||(t={});for(var a=-1,s=r.length;++a<s;){var p=r[a],m=n?n(t[p],e[p],p,t,e):void 0;m===void 0&&(m=e[p]),o?Js(t,p,m):Sa(t,p,m)}return t}var xo=tx;function rx(e,r,t){switch(t.length){case 0:return e.call(r);case 1:return e.call(r,t[0]);case 2:return e.call(r,t[0],t[1]);case 3:return e.call(r,t[0],t[1],t[2])}return e.apply(r,t)}var nx=rx,zd=Math.max;function ox(e,r,t){return r=zd(r===void 0?e.length-1:r,0),function(){for(var n=arguments,o=-1,a=zd(n.length-r,0),s=Array(a);++o<a;)s[o]=n[r+o];o=-1;for(var p=Array(r+1);++o<r;)p[o]=n[o];return p[r]=t(s),nx(e,this,p)}}var Fd=ox;function ix(e){return function(){return e}}var ax=ix,ux=xa?function(e,r){return xa(e,"toString",{configurable:!0,enumerable:!1,value:ax(r),writable:!0})}:Qs,lx=ux,sx=800,fx=16,cx=Date.now;function dx(e){var r=0,t=0;return function(){var n=cx(),o=fx-(n-t);if(t=n,o>0){if(++r>=sx)return arguments[0]}else r=0;return e.apply(void 0,arguments)}}var px=dx,hx=px(lx),_d=hx;function yx(e,r){return _d(Fd(e,r,Qs),e+"")}var vx=yx;function gx(e,r,t){if(!Pt(t))return!1;var n=typeof r;return(n=="number"?Zn(t)&&va(r,t.length):n=="string"&&r in t)?Jt(t[r],e):!1}var mx=gx;function bx(e){return vx(function(r,t){var n=-1,o=t.length,a=o>1?t[o-1]:void 0,s=o>2?t[2]:void 0;for(a=e.length>3&&typeof a=="function"?(o--,a):void 0,s&&mx(t[0],t[1],s)&&(a=o<3?void 0:a,o=1),r=Object(r);++n<o;){var p=t[n];p&&e(r,p,n,a)}return r})}var kd=bx,Ox=Object.prototype,Ex=Ox.hasOwnProperty,xx=kd(function(e,r){if(ga(r)||Zn(r)){xo(r,Eo(r),e);return}for(var t in r)Ex.call(r,t)&&Sa(e,t,r[t])}),or=xx;function Sx(e,r,t,n){if(!Pt(e))return e;r=Oa(r,e);for(var o=-1,a=r.length,s=a-1,p=e;p!=null&&++o<a;){var m=ui(r[o]),x=t;if(m==="__proto__"||m==="constructor"||m==="prototype")return e;if(o!=s){var P=p[m];x=n?n(P,m,p):void 0,x===void 0&&(x=Pt(P)?P:va(r[o+1])?[]:{})}Sa(p,m,x),p=p[m]}return e}var Ax=Sx;function Px(e,r,t){for(var n=-1,o=r.length,a={};++n<o;){var s=r[n],p=Vs(e,s);t(p,s)&&Ax(a,Oa(s,e),p)}return a}var Tx=Px;function wx(e,r){return Tx(e,r,function(t,n){return Bd(e,n)})}var Mx=wx,Gd=fr?fr.isConcatSpreadable:void 0;function Nx(e){return d(e)||Nn(e)||!!(Gd&&e&&e[Gd])}var Dx=Nx;function Ud(e,r,t,n,o){var a=-1,s=e.length;for(t||(t=Dx),o||(o=[]);++a<s;){var p=e[a];r>0&&t(p)?r>1?Ud(p,r-1,t,n,o):oi(o,p):n||(o[o.length]=p)}return o}var Cx=Ud;function Ix(e){var r=e==null?0:e.length;return r?Cx(e,1):[]}var jx=Ix;function Rx(e){return _d(Fd(e,void 0,jx),e+"")}var Bx=Rx,Lx=Bx(function(e,r){return e==null?{}:Mx(e,r)}),li=Lx,Rt,Hd,Yd,Xd,Wd,Kd,Vd,Qd,Jd,Zd,$d,qd,ep,tp,rp,np,op,ip;function Kt(e,r,t,n){!t||Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(n):void 0})}function zx(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function ap(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Fx(e,r,t){return r&&ap(e.prototype,r),t&&ap(e,t),e}function up(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Yt(e,r,t,n,o){var a={};return Object.keys(n).forEach(function(s){a[s]=n[s]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=t.slice().reverse().reduce(function(s,p){return p(e,r,s)||s},a),o&&a.initializer!==void 0&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),a.initializer===void 0&&(Object.defineProperty(e,r,a),a=null),a}var _x={stopZoomGraph:!1,stopScrollGraph:!1,stopMoveGraph:!1,adjustEdge:!1,adjustEdgeStartAndEnd:!1,adjustNodePosition:!1,hideAnchors:!0,nodeSelectedOutline:!0,nodeTextEdit:!1,edgeTextEdit:!1,nodeTextDraggable:!1,edgeTextDraggable:!1},Zs=["isSilentMode","stopZoomGraph","stopScrollGraph","stopMoveGraph","adjustEdge","adjustEdgeMiddle","adjustEdgeStartAndEnd","adjustNodePosition","hideAnchors","hoverOutline","nodeSelectedOutline","edgeSelectedOutline","nodeTextEdit","edgeTextEdit","nodeTextDraggable","edgeTextDraggable","multipleSelectKey","autoExpand"],lp=(Rt=function(){function e(r){zx(this,e),Kt(this,"isSilentMode",Hd,this),Kt(this,"stopZoomGraph",Yd,this),Kt(this,"stopScrollGraph",Xd,this),Kt(this,"stopMoveGraph",Wd,this),Kt(this,"adjustEdge",Kd,this),Kt(this,"adjustEdgeMiddle",Vd,this),Kt(this,"adjustEdgeStartAndEnd",Qd,this),Kt(this,"adjustNodePosition",Jd,this),Kt(this,"hideAnchors",Zd,this),Kt(this,"hoverOutline",$d,this),Kt(this,"nodeSelectedOutline",qd,this),Kt(this,"edgeSelectedOutline",ep,this),Kt(this,"nodeTextEdit",tp,this),Kt(this,"edgeTextEdit",rp,this),Kt(this,"nodeTextDraggable",np,this),Kt(this,"edgeTextDraggable",op,this),Kt(this,"autoExpand",ip,this),up(this,"multipleSelectKey",""),up(this,"defaultConfig",{}),or(this,this.getConfigDetail(r))}return Fx(e,[{key:"updateEditConfig",value:function(t){var n=this.getConfigDetail(t);or(this,n)}},{key:"getConfigDetail",value:function(t){var n=t.isSilentMode,o=t.textEdit,a={};if(n===!1&&or(a,this.defaultConfig),n===!0){var s=li(_x,Zs);this.defaultConfig={stopZoomGraph:this.stopZoomGraph,stopScrollGraph:this.stopScrollGraph,stopMoveGraph:this.stopMoveGraph,adjustEdge:this.adjustEdge,adjustEdgeMiddle:this.adjustEdgeMiddle,adjustEdgeStartAndEnd:this.adjustEdgeStartAndEnd,adjustNodePosition:this.adjustNodePosition,hideAnchors:this.hideAnchors,hoverOutline:this.hoverOutline,nodeSelectedOutline:this.nodeSelectedOutline,edgeSelectedOutline:this.edgeSelectedOutline,nodeTextEdit:this.nodeTextEdit,edgeTextEdit:this.edgeTextEdit,nodeTextDraggable:this.nodeTextDraggable,edgeTextDraggable:this.edgeTextDraggable,autoExpand:this.autoExpand},or(a,s)}o===!1&&or(a,{nodeTextEdit:!1,edgeTextEdit:!1});var p=li(t,Zs);return or(a,p)}},{key:"getConfig",value:function(){return li(this,Zs)}}]),e}(),Hd=Yt(Rt.prototype,"isSilentMode",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Yd=Yt(Rt.prototype,"stopZoomGraph",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Xd=Yt(Rt.prototype,"stopScrollGraph",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Wd=Yt(Rt.prototype,"stopMoveGraph",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Kd=Yt(Rt.prototype,"adjustEdge",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Vd=Yt(Rt.prototype,"adjustEdgeMiddle",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Qd=Yt(Rt.prototype,"adjustEdgeStartAndEnd",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Jd=Yt(Rt.prototype,"adjustNodePosition",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Zd=Yt(Rt.prototype,"hideAnchors",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),$d=Yt(Rt.prototype,"hoverOutline",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),qd=Yt(Rt.prototype,"nodeSelectedOutline",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),ep=Yt(Rt.prototype,"edgeSelectedOutline",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),tp=Yt(Rt.prototype,"nodeTextEdit",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),rp=Yt(Rt.prototype,"edgeTextEdit",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),np=Yt(Rt.prototype,"nodeTextDraggable",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),op=Yt(Rt.prototype,"edgeTextDraggable",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ip=Yt(Rt.prototype,"autoExpand",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Yt(Rt.prototype,"updateEditConfig",[f.k],Object.getOwnPropertyDescriptor(Rt.prototype,"updateEditConfig"),Rt.prototype),Rt);i(77);var Et;(function(e){e[e.DEFAULT=1]="DEFAULT",e[e.TEXT_EDIT=2]="TEXT_EDIT",e[e.SHOW_MENU=3]="SHOW_MENU",e[e.ALLOW_CONNECT=4]="ALLOW_CONNECT",e[e.NOT_ALLOW_CONNECT=5]="NOT_ALLOW_CONNECT"})(Et||(Et={}));var sp;(function(e){e.KEY="logic-flow",e.NODE_NAME="lf-node",e.EDGE_NAME="lf-edge"})(sp||(sp={}));var dt;(function(e){e.NODE="node",e.CIRCLE_NODE="circle-node",e.POLYGON_NODE="polygon-node",e.RECT_NODE="rect-node",e.TEXT_NODE="text-node",e.ELLIPSE_NODE="ellipse-node",e.DIAMOND_NODE="diamond-node",e.HTML_NODE="html-node",e.EDGE="edge",e.LINE_EDGE="line-edge",e.POLYLINE_EDGE="polyline-edge",e.BEZIER_EDGE="bezier-edge",e.GRAPH="graph"})(dt||(dt={}));var kt;(function(e){e.NODE="node",e.EDGE="edge",e.GRAPH="graph"})(kt||(kt={}));var it;(function(e){e.ELEMENT_CLICK="element:click",e.NODE_CLICK="node:click",e.NODE_DBCLICK="node:dbclick",e.NODE_DELETE="node:delete",e.NODE_ADD="node:add",e.NODE_DND_ADD="node:dnd-add",e.NODE_DND_DRAG="node:dnd-drag",e.NODE_MOUSEDOWN="node:mousedown",e.NODE_DRAGSTART="node:dragstart",e.NODE_DRAG="node:drag",e.NODE_DROP="node:drop",e.NODE_MOUSEUP="node:mouseup",e.NODE_MOUSEMOVE="node:mousemove",e.NODE_MOUSEENTER="node:mouseenter",e.NODE_MOUSELEAVE="node:mouseleave",e.NODE_CONTEXTMENU="node:contextmenu",e.EDGE_DELETE="edge:delete",e.EDGE_ADD="edge:add",e.EDGE_CLICK="edge:click",e.EDGE_DBCLICK="edge:dbclick",e.EDGE_MOUSEENTER="edge:mouseenter",e.EDGE_MOUSELEAVE="edge:mouseleave",e.EDGE_CONTEXTMENU="edge:contextmenu",e.EDGE_ADJUST="edge:adjust",e.EDGE_EXCHANGE_NODE="edge:exchange-node",e.ANCHOR_DRAGSTART="anchor:dragstart",e.ANCHOR_DRAG="anchor:drag",e.ANCHOR_DROP="anchor:drop",e.BLANK_MOUSEDOWN="blank:mousedown",e.BLANK_DRAGSTART="blank:dragstart",e.BLANK_DRAG="blank:drag",e.BLANK_DROP="blank:drop",e.BLANK_MOUSEMOVE="blank:mousemove",e.BLANK_MOUSEUP="blank:mouseup",e.BLANK_CLICK="blank:click",e.BLANK_CONTEXTMENU="blank:contextmenu",e.SELECTION_MOUSEDOWN="selection:mousedown",e.SELECTION_DRAGSTART="selection:dragstart",e.SELECTION_DRAG="selection:drag",e.SELECTION_DROP="selection:drop",e.SELECTION_MOUSEMOVE="selection:mousemove",e.SELECTION_MOUSEUP="selection:mouseup",e.SELECTION_CONTEXTMENU="selection:contextmenu",e.CONNECTION_NOT_ALLOWED="connection:not-allowed",e.HISTORY_CHANGE="history:change",e.TEXT_UPDATE="text:update",e.GRAPH_TRANSFORM="graph:transform",e.GRAPH_RENDERED="graph:rendered"})(it||(it={}));var Dt;(function(e){e.HORIZONTAL="horizontal",e.VERTICAL="vertical"})(Dt||(Dt={}));var fp=9999,mr;(function(e){e[e.DEFAULT=0]="DEFAULT",e[e.INCREASE=1]="INCREASE"})(mr||(mr={}));var Lt,cp,dp,pp,hp,yp,vp,gp;function Aa(e,r){return Hx(e)||Ux(e,r)||Gx(e,r)||kx()}function kx(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Gx(e,r){if(!!e){if(typeof e=="string")return mp(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return mp(e,r)}}function mp(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function Ux(e,r){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,s,p;try{for(t=t.call(e);!(o=(s=t.next()).done)&&(n.push(s.value),!(r&&n.length===r));o=!0);}catch(m){a=!0,p=m}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function Hx(e){if(Array.isArray(e))return e}function qn(e,r,t,n){!t||Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(n):void 0})}function Yx(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function bp(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Xx(e,r,t){return r&&bp(e.prototype,r),t&&bp(e,t),e}function $s(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Rr(e,r,t,n,o){var a={};return Object.keys(n).forEach(function(s){a[s]=n[s]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=t.slice().reverse().reduce(function(s,p){return p(e,r,s)||s},a),o&&a.initializer!==void 0&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),a.initializer===void 0&&(Object.defineProperty(e,r,a),a=null),a}var Wx=(Lt=function(){function e(r){Yx(this,e),$s(this,"MINI_SCALE_SIZE",.2),$s(this,"MAX_SCALE_SIZE",16),qn(this,"SCALE_X",cp,this),qn(this,"SKEW_Y",dp,this),qn(this,"SKEW_X",pp,this),qn(this,"SCALE_Y",hp,this),qn(this,"TRANSLATE_X",yp,this),qn(this,"TRANSLATE_Y",vp,this),qn(this,"ZOOM_SIZE",gp,this),$s(this,"eventCenter",void 0),this.eventCenter=r}return Xx(e,[{key:"setZoomMiniSize",value:function(t){this.MINI_SCALE_SIZE=t}},{key:"setZoomMaxSize",value:function(t){this.MAX_SCALE_SIZE=t}},{key:"HtmlPointToCanvasPoint",value:function(t){var n=Aa(t,2),o=n[0],a=n[1];return[(o-this.TRANSLATE_X)/this.SCALE_X,(a-this.TRANSLATE_Y)/this.SCALE_Y]}},{key:"CanvasPointToHtmlPoint",value:function(t){var n=Aa(t,2),o=n[0],a=n[1];return[o*this.SCALE_X+this.TRANSLATE_X,a*this.SCALE_Y+this.TRANSLATE_Y]}},{key:"moveCanvasPointByHtml",value:function(t,n,o){var a=Aa(t,2),s=a[0],p=a[1];return[s+n/this.SCALE_X,p+o/this.SCALE_Y]}},{key:"fixDeltaXY",value:function(t,n){return[t/this.SCALE_X,n/this.SCALE_Y]}},{key:"getTransformStyle",value:function(){var t=[this.SCALE_X,this.SKEW_Y,this.SKEW_X,this.SCALE_Y,this.TRANSLATE_X,this.TRANSLATE_Y].join(",");return{transform:"matrix(".concat(t,")")}}},{key:"zoom",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,n=arguments.length>1?arguments[1]:void 0,o=this.SCALE_X,a=this.SCALE_Y;return t===!0?(o+=this.ZOOM_SIZE,a+=this.ZOOM_SIZE):t===!1?(o-=this.ZOOM_SIZE,a-=this.ZOOM_SIZE):typeof t=="number"&&(o=t,a=t),o<this.MINI_SCALE_SIZE||o>this.MAX_SCALE_SIZE?"".concat(this.SCALE_X*100,"%"):(n&&(this.TRANSLATE_X-=(o-this.SCALE_X)*n[0],this.TRANSLATE_Y-=(a-this.SCALE_Y)*n[1]),this.SCALE_X=o,this.SCALE_Y=a,this.emitGraphTransform("zoom"),"".concat(this.SCALE_X*100,"%"))}},{key:"emitGraphTransform",value:function(t){this.eventCenter.emit(it.GRAPH_TRANSFORM,{type:t,transform:{SCALE_X:this.SCALE_X,SKEW_Y:this.SKEW_Y,SKEW_X:this.SKEW_X,SCALE_Y:this.SCALE_Y,TRANSLATE_X:this.TRANSLATE_X,TRANSLATE_Y:this.TRANSLATE_Y}})}},{key:"resetZoom",value:function(){this.SCALE_X=1,this.SCALE_Y=1,this.emitGraphTransform("resetZoom")}},{key:"translate",value:function(t,n){this.TRANSLATE_X+=t,this.TRANSLATE_Y+=n,this.emitGraphTransform("translate")}},{key:"focusOn",value:function(t,n,o,a){var s=this.CanvasPointToHtmlPoint([t,n]),p=Aa(s,2),m=p[0],x=p[1],P=o/2-m,D=a/2-x;this.TRANSLATE_X+=P,this.TRANSLATE_Y+=D,this.emitGraphTransform("focusOn")}}]),e}(),cp=Rr(Lt.prototype,"SCALE_X",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),dp=Rr(Lt.prototype,"SKEW_Y",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),pp=Rr(Lt.prototype,"SKEW_X",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),hp=Rr(Lt.prototype,"SCALE_Y",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),yp=Rr(Lt.prototype,"TRANSLATE_X",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),vp=Rr(Lt.prototype,"TRANSLATE_Y",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),gp=Rr(Lt.prototype,"ZOOM_SIZE",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return .04}}),Rr(Lt.prototype,"zoom",[f.k],Object.getOwnPropertyDescriptor(Lt.prototype,"zoom"),Lt.prototype),Rr(Lt.prototype,"resetZoom",[f.k],Object.getOwnPropertyDescriptor(Lt.prototype,"resetZoom"),Lt.prototype),Rr(Lt.prototype,"translate",[f.k],Object.getOwnPropertyDescriptor(Lt.prototype,"translate"),Lt.prototype),Rr(Lt.prototype,"focusOn",[f.k],Object.getOwnPropertyDescriptor(Lt.prototype,"focusOn"),Lt.prototype),Lt);function Kx(e,r){for(var t=-1,n=e==null?0:e.length;++t<n&&r(e[t],t,e)!==!1;);return e}var Vx=Kx;function Qx(e,r){return e&&xo(r,Eo(r),e)}var Jx=Qx;function Zx(e){var r=[];if(e!=null)for(var t in Object(e))r.push(t);return r}var $x=Zx,qx=Object.prototype,eS=qx.hasOwnProperty;function tS(e){if(!Pt(e))return $x(e);var r=ga(e),t=[];for(var n in e)n=="constructor"&&(r||!eS.call(e,n))||t.push(n);return t}var rS=tS;function nS(e){return Zn(e)?md(e,!0):rS(e)}var si=nS;function oS(e,r){return e&&xo(r,si(r),e)}var iS=oS,Op=i(106);function aS(e,r){var t=-1,n=e.length;for(r||(r=Array(n));++t<n;)r[t]=e[t];return r}var Ep=aS;function uS(e,r){return xo(e,Ot(e),r)}var lS=uS,sS=bd(Object.getPrototypeOf,Object),qs=sS,fS=Object.getOwnPropertySymbols,cS=fS?function(e){for(var r=[];e;)oi(r,Ot(e)),e=qs(e);return r}:fe,xp=cS;function dS(e,r){return xo(e,xp(e),r)}var pS=dS;function hS(e){return O(e,si,xp)}var yS=hS,vS=Object.prototype,gS=vS.hasOwnProperty;function mS(e){var r=e.length,t=new e.constructor(r);return r&&typeof e[0]=="string"&&gS.call(e,"index")&&(t.index=e.index,t.input=e.input),t}var bS=mS;function OS(e){var r=new e.constructor(e.byteLength);return new Ut(r).set(new Ut(e)),r}var ef=OS;function ES(e,r){var t=r?ef(e.buffer):e.buffer;return new e.constructor(t,e.byteOffset,e.byteLength)}var xS=ES,SS=/\w*$/;function AS(e){var r=new e.constructor(e.source,SS.exec(e));return r.lastIndex=e.lastIndex,r}var PS=AS,Sp=fr?fr.prototype:void 0,Ap=Sp?Sp.valueOf:void 0;function TS(e){return Ap?Object(Ap.call(e)):{}}var wS=TS;function MS(e,r){var t=r?ef(e.buffer):e.buffer;return new e.constructor(t,e.byteOffset,e.length)}var Pp=MS,NS="[object Boolean]",DS="[object Date]",CS="[object Map]",IS="[object Number]",jS="[object RegExp]",RS="[object Set]",BS="[object String]",LS="[object Symbol]",zS="[object ArrayBuffer]",FS="[object DataView]",_S="[object Float32Array]",kS="[object Float64Array]",GS="[object Int8Array]",US="[object Int16Array]",HS="[object Int32Array]",YS="[object Uint8Array]",XS="[object Uint8ClampedArray]",WS="[object Uint16Array]",KS="[object Uint32Array]";function VS(e,r,t){var n=e.constructor;switch(r){case zS:return ef(e);case NS:case DS:return new n(+e);case FS:return xS(e,t);case _S:case kS:case GS:case US:case HS:case YS:case XS:case WS:case KS:return Pp(e,t);case CS:return new n;case IS:case BS:return new n(e);case jS:return PS(e);case RS:return new n;case LS:return wS(e)}}var QS=VS,Tp=Object.create,JS=function(){function e(){}return function(r){if(!Pt(r))return{};if(Tp)return Tp(r);e.prototype=r;var t=new e;return e.prototype=void 0,t}}(),ZS=JS;function $S(e){return typeof e.constructor=="function"&&!ga(e)?ZS(qs(e)):{}}var wp=$S,qS="[object Map]";function e0(e){return Tt(e)&&ai(e)==qS}var t0=e0,Mp=Oo.a&&Oo.a.isMap,r0=Mp?Fs(Mp):t0,n0=r0,o0="[object Set]";function i0(e){return Tt(e)&&ai(e)==o0}var a0=i0,Np=Oo.a&&Oo.a.isSet,u0=Np?Fs(Np):a0,l0=u0,s0=1,f0=2,c0=4,Dp="[object Arguments]",d0="[object Array]",p0="[object Boolean]",h0="[object Date]",y0="[object Error]",Cp="[object Function]",v0="[object GeneratorFunction]",g0="[object Map]",m0="[object Number]",Ip="[object Object]",b0="[object RegExp]",O0="[object Set]",E0="[object String]",x0="[object Symbol]",S0="[object WeakMap]",A0="[object ArrayBuffer]",P0="[object DataView]",T0="[object Float32Array]",w0="[object Float64Array]",M0="[object Int8Array]",N0="[object Int16Array]",D0="[object Int32Array]",C0="[object Uint8Array]",I0="[object Uint8ClampedArray]",j0="[object Uint16Array]",R0="[object Uint32Array]",wt={};wt[Dp]=wt[d0]=wt[A0]=wt[P0]=wt[p0]=wt[h0]=wt[T0]=wt[w0]=wt[M0]=wt[N0]=wt[D0]=wt[g0]=wt[m0]=wt[Ip]=wt[b0]=wt[O0]=wt[E0]=wt[x0]=wt[C0]=wt[I0]=wt[j0]=wt[R0]=!0,wt[y0]=wt[Cp]=wt[S0]=!1;function Pa(e,r,t,n,o,a){var s,p=r&s0,m=r&f0,x=r&c0;if(t&&(s=o?t(e,n,o,a):t(e)),s!==void 0)return s;if(!Pt(e))return e;var P=d(e);if(P){if(s=bS(e),!p)return Ep(e,s)}else{var D=ai(e),B=D==Cp||D==v0;if(Object(sn.a)(e))return Object(Op.a)(e,p);if(D==Ip||D==Dp||B&&!o){if(s=m||B?{}:wp(e),!p)return m?pS(e,iS(s,e)):lS(e,Jx(s,e))}else{if(!wt[D])return o?e:{};s=QS(e,D,p)}}a||(a=new wn);var G=a.get(e);if(G)return G;a.set(e,s),l0(e)?e.forEach(function(ue){s.add(Pa(ue,r,t,ue,e,a))}):n0(e)&&e.forEach(function(ue,ae){s.set(ae,Pa(ue,r,t,ae,e,a))});var J=x?m?yS:ks:m?si:Eo,oe=P?void 0:J(e);return Vx(oe||e,function(ue,ae){oe&&(ae=ue,ue=e[ae]),Sa(s,ae,Pa(ue,r,t,ae,e,a))}),s}var B0=Pa,L0=1,z0=4;function F0(e){return B0(e,L0|z0)}var Ct=F0;function _0(e,r,t){(t!==void 0&&!Jt(e[r],t)||t===void 0&&!(r in e))&&Js(e,r,t)}var tf=_0;function k0(e){return Tt(e)&&Zn(e)}var G0=k0,U0="[object Object]",H0=Function.prototype,Y0=Object.prototype,jp=H0.toString,X0=Y0.hasOwnProperty,W0=jp.call(Object);function K0(e){if(!Tt(e)||Yr(e)!=U0)return!1;var r=qs(e);if(r===null)return!0;var t=X0.call(r,"constructor")&&r.constructor;return typeof t=="function"&&t instanceof t&&jp.call(t)==W0}var V0=K0;function Q0(e,r){if(!(r==="constructor"&&typeof e[r]=="function")&&r!="__proto__")return e[r]}var rf=Q0;function J0(e){return xo(e,si(e))}var Z0=J0;function $0(e,r,t,n,o,a,s){var p=rf(e,t),m=rf(r,t),x=s.get(m);if(x){tf(e,t,x);return}var P=a?a(p,m,t+"",e,r,s):void 0,D=P===void 0;if(D){var B=d(m),G=!B&&Object(sn.a)(m),J=!B&&!G&&_s(m);P=m,B||G||J?d(p)?P=p:G0(p)?P=Ep(p):G?(D=!1,P=Object(Op.a)(m,!0)):J?(D=!1,P=Pp(m,!0)):P=[]:V0(m)||Nn(m)?(P=p,Nn(p)?P=Z0(p):(!Pt(p)||po(p))&&(P=wp(m))):D=!1}D&&(s.set(m,P),o(P,m,n,a,s),s.delete(m)),tf(e,t,P)}var q0=$0;function Rp(e,r,t,n,o){e!==r&&Ld(r,function(a,s){if(o||(o=new wn),Pt(a))q0(e,r,s,t,Rp,n,o);else{var p=n?n(rf(e,s),a,s+"",e,r,o):void 0;p===void 0&&(p=a),tf(e,s,p)}},si)}var eA=Rp,tA=kd(function(e,r,t){eA(e,r,t)}),Bp=tA,rA={baseNode:{fill:"#FFFFFF",stroke:"#000000",strokeWidth:2},baseEdge:{stroke:"#000000",strokeWidth:2},rect:{},circle:{},diamond:{},ellipse:{},polygon:{},text:{color:"#000000",stroke:"none",fontSize:12,background:{fill:"transparent"}},anchor:{stroke:"#000000",fill:"#FFFFFF",r:4,hover:{fill:"#949494",fillOpacity:.5,stroke:"#949494",r:10}},nodeText:{color:"#000000",overflowMode:"default",lineHeight:1.2,fontSize:12},edgeText:{textWidth:100,overflowMode:"default",fontSize:12,background:{fill:"#FFFFFF"}},line:{},polyline:{},bezier:{fill:"none",adjustLine:{stroke:"#949494"},adjustAnchor:{r:4,fill:"#949494",stroke:"#949494",fillOpacity:1}},arrow:{offset:10,verticalLength:5},anchorLine:{stroke:"#000000",strokeWidth:2,strokeDasharray:"3,2"},snapline:{stroke:"#949494",strokeWidth:1},edgeAdjust:{r:4,fill:"#FFFFFF",stroke:"#949494",strokeWidth:2},outline:{fill:"transparent",stroke:"#949494",strokeDasharray:"3,3",hover:{stroke:"#949494"}},edgeAnimation:{stroke:"red",strokeDasharray:"10 10",strokeDashoffset:"100%",animationName:"dash",animationDuration:"20s",animationIterationCount:"infinite",animationTimingFunction:"linear",animationDirection:"normal"}},Lp=function(r){var t=Ct(rA);return r&&(t=Bp(t,r)),t};i(78),i(158);function nA(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function zp(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function oA(e,r,t){return r&&zp(e.prototype,r),t&&zp(e,t),e}function iA(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var aA="*",uA=function(){function e(){nA(this,e),iA(this,"_events",{})}return oA(e,[{key:"on",value:function(t,n,o){var a=this;return t==null||t.split(",").forEach(function(s){s=s.trim(),a._events[s]||(a._events[s]=[]),a._events[s].push({callback:n,once:!!o})}),this}},{key:"once",value:function(t,n){var o=this;t==null||t.split(",").forEach(function(a){return a=a.trim(),o.on(a,n,!0)})}},{key:"emit",value:function(t,n){var o=this;t==null||t.split(",").forEach(function(a){var s=o._events[a]||[],p=o._events[aA]||[],m=function(P){for(var D=P.length,B=0;B<D;B++)if(!!P[B]){var G=P[B],J=G.callback,oe=G.once;oe&&(P.splice(B,1),P.length===0&&delete o._events[a],D--,B--),J.apply(o,[n])}};m(s),m(p)})}},{key:"off",value:function(t,n){var o=this;return t||(this._events={}),t.split(",").forEach(function(a){if(!n)delete o._events[a];else{for(var s=o._events[a]||[],p=s.length,m=0;m<p;m++)s[m].callback===n&&(s.splice(m,1),p--,m--);s.length===0&&delete o._events[a]}}),this}},{key:"getEvents",value:function(){return this._events}}]),e}();function So(e,r){return r*Math.round(e/r)||e}function Fp(e,r){return e%r}function nf(e,r){return cA(e)||fA(e,r)||sA(e,r)||lA()}function lA(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sA(e,r){if(!!e){if(typeof e=="string")return _p(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return _p(e,r)}}function _p(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function fA(e,r){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,s,p;try{for(t=t.call(e);!(o=(s=t.next()).done)&&(n.push(s.value),!(r&&n.length===r));o=!0);}catch(m){a=!0,p=m}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function cA(e){if(Array.isArray(e))return e}var of=function(r,t,n){var o=nf(r,2),a=o[0],s=o[1],p=nf(t,2),m=p[0],x=p[1],P=nf(n,2),D=P[0],B=P[1];return a>m&&a<D&&s>x&&s<B},kp=function(r,t){var n=t.multipleSelectKey,o=!1;switch(n){case"meta":o=r.metaKey;break;case"alt":o=r.altKey;break;case"shift":o=r.shiftKey;break;default:o=!1;break}return o};i(79),i(161),i(125),i(80),i(12),i(13),i(14),i(47),i(31);var Ta,dA=new Uint8Array(16);function pA(){if(!Ta&&(Ta=typeof crypto!="undefined"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto!="undefined"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!Ta))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Ta(dA)}var hA=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function yA(e){return typeof e=="string"&&hA.test(e)}for(var vA=yA,Vt=[],af=0;af<256;++af)Vt.push((af+256).toString(16).substr(1));function gA(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,t=(Vt[e[r+0]]+Vt[e[r+1]]+Vt[e[r+2]]+Vt[e[r+3]]+"-"+Vt[e[r+4]]+Vt[e[r+5]]+"-"+Vt[e[r+6]]+Vt[e[r+7]]+"-"+Vt[e[r+8]]+Vt[e[r+9]]+"-"+Vt[e[r+10]]+Vt[e[r+11]]+Vt[e[r+12]]+Vt[e[r+13]]+Vt[e[r+14]]+Vt[e[r+15]]).toLowerCase();if(!vA(t))throw TypeError("Stringified UUID is invalid");return t}var mA=gA;function bA(e,r,t){e=e||{};var n=e.random||(e.rng||pA)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,r){t=t||0;for(var o=0;o<16;++o)r[t+o]=n[o];return r}return mA(n)}var uf=bA,eo=function(){var r=uf();return r},OA=function(r){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",n=r.nodes.reduce(function(o,a){return o[a.id]=t+uf(),a.id=o[a.id],o},{});return r.edges.forEach(function(o){o.id=t+uf(),o.sourceNodeId=n[o.sourceNodeId],o.targetNodeId=n[o.targetNodeId]}),r};i(104),i(203);var EA=function(r,t,n,o){var a=(t.y-r.y)*(o.x-n.x)-(r.x-t.x)*(n.y-o.y);if(a===0)return!1;var s=((t.x-r.x)*(o.x-n.x)*(n.y-r.y)+(t.y-r.y)*(o.x-n.x)*r.x-(o.y-n.y)*(t.x-r.x)*n.x)/a,p=-((t.y-r.y)*(o.y-n.y)*(n.x-r.x)+(t.x-r.x)*(o.y-n.y)*r.y-(o.x-n.x)*(t.y-r.y)*n.y)/a;return(s-r.x)*(s-t.x)<=0&&(p-r.y)*(p-t.y)<=0&&(s-n.x)*(s-o.x)<=0&&(p-n.y)*(p-o.y)<=0?{x:s,y:p}:!1},fi=function(r,t,n){var o=r.x,a=r.y;return(o-t.x)*(o-n.x)<=0&&(a-t.y)*(a-n.y)<=0};function wa(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?wa=function(t){return typeof t}:wa=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wa(e)}function Gp(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function Up(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Gp(Object(t),!0).forEach(function(n){xA(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Gp(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function xA(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var lf=function(r){var t=r.anchors;return t},Ma=function(r,t){for(var n=t.nodes,o,a=n.length-1;a>=0;a--){var s=n[a],p=PA(r,s);if(p){var m=AA(r,s);if(m){var x={node:s,anchorIndex:m.index,anchor:m.anchor};(!o||SA(s,o.node,t))&&(o=x)}}}return o},SA=function(r,t,n){return r.zIndex>t.zIndex||n.nodesMap[r.id].index>n.nodesMap[t.id].index},AA=function(r,t){for(var n=lf(t),o,a=Number.MAX_SAFE_INTEGER,s=0;s<n.length;s++){var p=Kr(r.x,r.y,n[s].x,n[s].y);p<a&&(a=p,o={index:s,anchor:Up(Up({},n[s]),{},{x:n[s].x,y:n[s].y,id:n[s].id})})}return o},Kr=function(r,t,n,o){return Math.hypot(r-n,t-o)},Dn=function(r,t){var n=!1,o=0,a=br(t);return r.x>=a.minX-o&&r.x<=a.maxX+o&&r.y>=a.minY-o&&r.y<=a.maxY+o&&(n=!0),n},PA=function(r,t){var n=!1,o=5,a=br(t);return r.x>=a.minX-o&&r.x<=a.maxX+o&&r.y>=a.minY-o&&r.y<=a.maxY+o&&(n=!0),n},br=function(r){var t=r.x,n=r.y,o=r.width,a=r.height,s={minX:t-o/2,minY:n-a/2,maxX:t+o/2,maxY:n+a/2,x:t,y:n,width:o,height:a,centerX:t,centerY:n};return s},TA=function(r){var t=r,n=t.x,o=t.y,a=t.width,s=t.height,p=t.radius,m=[{x:n-a/2+p,y:o-s/2+p,r:p},{x:n+a/2-p,y:o-s/2+p,r:p},{x:n-a/2+p,y:o+s/2-p,r:p},{x:n+a/2-p,y:o+s/2-p,r:p}];return m},Hp=function(r,t,n){var o=TA(n),a,s=Number.MAX_SAFE_INTEGER;o.forEach(function(m){var x=Kr(r.x,r.y,m.x,m.y);x<s&&(s=x,a=m)});var p=sf(r,t,a);return p},sf=function(r,t,n){var o,a=n,s=a.x,p=a.y,m=a.r;if(t===Dt.HORIZONTAL){var x=s-Math.sqrt(m*m-(r.y-p)*(r.y-p)),P=s+Math.sqrt(m*m-(r.y-p)*(r.y-p)),D=Math.abs(x-r.x)<Math.abs(P-r.x)?x:P;o={x:D,y:r.y}}else if(t===Dt.VERTICAL){var B=p-Math.sqrt(m*m-(r.x-s)*(r.x-s)),G=p+Math.sqrt(m*m-(r.x-s)*(r.x-s)),J=Math.abs(B-r.y)<Math.abs(G-r.y)?B:G;o={x:r.x,y:J}}return o},Yp=function(r,t){var n=t,o=!1,a={minX:n.x-n.width/2+n.radius,maxX:n.x+n.width/2-n.radius,minY:n.y-n.height/2+n.radius,maxY:n.y+n.height/2-n.radius},s=n.x,p=n.y,m=n.width,x=n.height;return r.y===p+x/2||r.y===p-x/2?o=r.x>a.minX&&r.x<a.maxX:(r.x===s+m/2||r.x===s-m/2)&&(o=r.y>a.minY&&r.y<a.maxY),o},Xp=function(r,t,n){var o,a=n,s=a.x,p=a.y,m=a.rx,x=a.ry;if(t===Dt.HORIZONTAL){var P=s-Math.sqrt(m*m-(r.y-p)*(r.y-p)*m*m/(x*x)),D=s+Math.sqrt(m*m-(r.y-p)*(r.y-p)*m*m/(x*x)),B=Math.abs(P-r.x)<Math.abs(D-r.x)?P:D;o={x:B,y:r.y}}else if(t===Dt.VERTICAL){var G=p-Math.sqrt(x*x-(r.x-s)*(r.x-s)*x*x/(m*m)),J=p+Math.sqrt(x*x-(r.x-s)*(r.x-s)*x*x/(m*m)),oe=Math.abs(G-r.y)<Math.abs(J-r.y)?G:J;o={x:r.x,y:oe}}return o},Na=function(r,t,n){for(var o=n,a=o.pointsPosition,s=Number.MAX_SAFE_INTEGER,p,m=[],x=0;x<a.length;x++)m.push({start:a[x],end:a[(x+1)%a.length]});return m.forEach(function(P){var D=P.start,B=P.end,G=D,J=B;D.x>B.x&&(G=B,J=D);var oe={x:r.x,y:r.y};if(G.x===J.x&&t===Dt.HORIZONTAL&&(oe={x:G.x,y:r.y}),G.y===J.y&&t===Dt.VERTICAL&&(oe={x:r.x,y:G.y}),G.x!==J.x&&G.y!==J.y){var ue=(J.y-G.y)/(J.x-G.x),ae=(G.x*J.y-J.x*G.y)/(G.x-J.x);t===Dt.HORIZONTAL?oe={x:(r.y-ae)/ue,y:r.y}:t===Dt.VERTICAL&&(oe={x:r.x,y:ue*r.x+ae})}var Me=fi(oe,D,B);if(Me){var ge=Kr(oe.x,oe.y,r.x,r.y);ge<s&&(s=ge,p=oe)}}),p},wA=function(r){var t=li(r,["id","type","x","y","text","properties"]);return t},Wp=function(r,t,n,o){var a=r.x,s=r.y;return t.x>r.x?a=r.x+n/2:t.x<r.x&&(a=r.x-n/2),t.y>r.y?s=r.y+o/2:t.y<r.y&&(s=r.y-o/2),{x:a,y:s}},Kp=function(r){var t=r.rows,n=r.style,o=r.rowsLength,a=r.className,s=document.createElement("div");s.style.fontSize=n.fontSize,s.style.width=n.width,s.className=a,s.style.lineHeight=n.lineHeight,s.style.padding=n.padding,n.fontFamily&&(s.style.fontFamily=n.fontFamily),o>1?t.forEach(function(m){var x=document.createElement("div");x.textContent=m,s.appendChild(x)}):s.textContent=t,document.body.appendChild(s);var p=s.clientHeight;return document.body.removeChild(s),p},ff=function(r){var t=r.rows,n=r.rowsLength,o=r.fontSize,a=0;return t&&t.forEach(function(s){var p=zh(s);a=p>a?p:a}),{width:Math.ceil(a/2)*o+o/4,height:n*(o+2)+o/4}},Da=function(r){return wa(r)!=="object"?{isAllPass:!!r,msg:r?"":"\u4E0D\u5141\u8BB8\u8FDE\u63A5"}:r},Vp={node:!1,edge:!1},MA={node:!0,edge:!0},NA={stroke:"red",strokeDasharray:"10 200",className:"lf-edge-animation"},er=function(r){try{return JSON.parse(JSON.stringify(r))}catch(t){return r}},DA=1e3,CA=999,cf=function(){return++DA},IA=function(){return--CA},be,Qp,Jp,Zp,$p,qp,eh,th,rh,nh,oh,ih,ah,uh,lh,sh,fh,ch,dh,ph;function hh(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function Br(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?hh(Object(t),!0).forEach(function(n){Mr(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):hh(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function Gt(e,r,t,n){!t||Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(n):void 0})}function jA(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function yh(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function RA(e,r,t){return r&&yh(e.prototype,r),t&&yh(e,t),e}function Mr(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function ot(e,r,t,n,o){var a={};return Object.keys(n).forEach(function(s){a[s]=n[s]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=t.slice().reverse().reduce(function(s,p){return p(e,r,s)||s},a),o&&a.initializer!==void 0&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),a.initializer===void 0&&(Object.defineProperty(e,r,a),a=null),a}var df=(be=function(){function e(r,t){jA(this,e),Mr(this,"id",eo()),Gt(this,"type",Qp,this),Gt(this,"sourceNodeId",Jp,this),Gt(this,"targetNodeId",Zp,this),Gt(this,"startPoint",$p,this),Gt(this,"endPoint",qp,this),Gt(this,"text",eh,this),Gt(this,"properties",th,this),Gt(this,"points",rh,this),Gt(this,"pointsList",nh,this),Gt(this,"isSelected",oh,this),Gt(this,"isHovered",ih,this),Gt(this,"isHitable",ah,this),Gt(this,"draggable",uh,this),Gt(this,"visible",lh,this),Gt(this,"isAnimation",sh,this),Mr(this,"graphModel",void 0),Gt(this,"zIndex",fh,this),Mr(this,"BaseType",kt.EDGE),Mr(this,"modelType",dt.EDGE),Gt(this,"state",ch,this),Mr(this,"additionStateData",void 0),Mr(this,"sourceAnchorId",""),Mr(this,"targetAnchorId",""),Mr(this,"menu",void 0),Mr(this,"customTextPosition",!1),Mr(this,"animationData",NA),Gt(this,"style",dh,this),Gt(this,"arrowConfig",ph,this),this.graphModel=t,this.initEdgeData(r),this.setAttributes(),this.setAnchors(),this.initPoints(),this.formatText(r)}return RA(e,[{key:"initEdgeData",value:function(t){if(t.properties||(t.properties={}),!t.id){var n=this.graphModel.idGenerator,o=n&&n(t.type);o&&(t.id=o);var a=this.createId();a&&(t.id=a)}or(this,SP(t));var s=this.graphModel.overlapMode;s===mr.INCREASE&&(this.zIndex=t.zIndex||cf())}},{key:"setAttributes",value:function(){}},{key:"createId",value:function(){return null}},{key:"getEdgeStyle",value:function(){return Br(Br({},this.graphModel.theme.baseEdge),this.style)}},{key:"getTextStyle",value:function(){var t=this.graphModel.theme.edgeText;return Ct(t)}},{key:"getAnimation",value:function(){var t=this.animationData;return Ct(t)}},{key:"getEdgeAnimationStyle",value:function(){var t=this.graphModel.theme.edgeAnimation;return Ct(t)}},{key:"getOutlineStyle",value:function(){var t=this.graphModel,n=t.theme.outline;return Ct(n)}},{key:"getTextPosition",value:function(){return{x:0,y:0}}},{key:"sourceNode",get:function(){var t,n;return(t=this.graphModel)===null||t===void 0||(n=t.nodesMap[this.sourceNodeId])===null||n===void 0?void 0:n.model}},{key:"targetNode",get:function(){var t,n;return(t=this.graphModel)===null||t===void 0||(n=t.nodesMap[this.targetNodeId])===null||n===void 0?void 0:n.model}},{key:"textPosition",get:function(){return this.getTextPosition()}},{key:"getBeginAnchor",value:function(t,n){var o,a,s=lf(t);return s.forEach(function(p){var m=kh(p,n);a?m<a&&(a=m,o=p):(a=m,o=p)}),o}},{key:"getEndAnchor",value:function(t){var n=this,o,a,s=lf(t);return s.forEach(function(p){var m=kh(p,n.startPoint);a?m<a&&(a=m,o=p):(a=m,o=p)}),o}},{key:"getProperties",value:function(){return Object(f.I)(this.properties)}},{key:"getData",value:function(){var t=this.text,n=t.x,o=t.y,a=t.value,s={id:this.id,type:this.type,sourceNodeId:this.sourceNode.id,targetNodeId:this.targetNode.id,startPoint:Object.assign({},this.startPoint),endPoint:Object.assign({},this.endPoint),properties:Object(f.I)(this.properties)};return a&&(s.text={x:n,y:o,value:a}),this.graphModel.overlapMode===mr.INCREASE&&(s.zIndex=this.zIndex),s}},{key:"getHistoryData",value:function(){return this.getData()}},{key:"setProperty",value:function(t,n){this.properties[t]=er(n),this.setAttributes()}},{key:"setProperties",value:function(t){this.properties=Br(Br({},this.properties),er(t)),this.setAttributes()}},{key:"setStyle",value:function(t,n){this.style=Br(Br({},this.style),{},Mr({},t,er(n)))}},{key:"setStyles",value:function(t){this.style=Br(Br({},this.style),er(t))}},{key:"updateStyles",value:function(t){this.style=Br({},er(t))}},{key:"formatText",value:function(t){var n=this.textPosition,o=n.x,a=n.y;if(!t.text||typeof t.text=="string"){this.text={value:t.text||"",x:o,y:a,draggable:this.text.draggable,editable:this.text.editable};return}Object.prototype.toString.call(t.text)==="[object Object]"&&(this.text={x:t.text.x||o,y:t.text.y||a,value:t.text.value||"",draggable:this.text.draggable,editable:this.text.editable})}},{key:"resetTextPosition",value:function(){var t=this.textPosition,n=t.x,o=t.y;this.text.x=n,this.text.y=o}},{key:"moveText",value:function(t,n){if(this.text){var o=this.text,a=o.x,s=o.y,p=o.value,m=o.draggable,x=o.editable;this.text={value:p,draggable:m,x:a+t,y:s+n,editable:x}}}},{key:"setText",value:function(t){t&&or(this.text,t)}},{key:"updateText",value:function(t){this.text=Br(Br({},this.text),{},{value:t})}},{key:"setAnchors",value:function(){if(!this.sourceAnchorId||!this.startPoint){var t=this.getBeginAnchor(this.sourceNode,this.targetNode);this.startPoint||(this.startPoint={x:t.x,y:t.y}),this.sourceAnchorId||(this.sourceAnchorId=t.id)}if(!this.targetAnchorId||!this.endPoint){var n=this.getEndAnchor(this.targetNode);this.endPoint||(this.endPoint={x:n.x,y:n.y}),this.targetAnchorId||(this.targetAnchorId=n.id)}}},{key:"setSelected",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.isSelected=t}},{key:"setHovered",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.isHovered=t}},{key:"setHitable",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.isHitable=t}},{key:"openEdgeAnimation",value:function(){this.isAnimation=!0}},{key:"closeEdgeAnimation",value:function(){this.isAnimation=!1}},{key:"setElementState",value:function(t,n){this.state=t,this.additionStateData=n}},{key:"updateStartPoint",value:function(t){this.startPoint=t}},{key:"moveStartPoint",value:function(t,n){this.startPoint.x+=t,this.startPoint.y+=n}},{key:"updateEndPoint",value:function(t){this.endPoint=t}},{key:"moveEndPoint",value:function(t,n){this.endPoint.x+=t,this.endPoint.y+=n}},{key:"setZIndex",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;this.zIndex=t}},{key:"initPoints",value:function(){}},{key:"updateAttributes",value:function(t){or(this,t)}},{key:"getAdjustStart",value:function(){return this.startPoint}},{key:"getAdjustEnd",value:function(){return this.endPoint}},{key:"updateAfterAdjustStartAndEnd",value:function(t){var n=t.startPoint,o=t.endPoint;this.updateStartPoint({x:n.x,y:n.y}),this.updateEndPoint({x:o.x,y:o.y})}}]),e}(),Qp=ot(be.prototype,"type",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Jp=ot(be.prototype,"sourceNodeId",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Zp=ot(be.prototype,"targetNodeId",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),$p=ot(be.prototype,"startPoint",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),qp=ot(be.prototype,"endPoint",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),eh=ot(be.prototype,"text",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{value:"",x:0,y:0,draggable:!1,editable:!0}}}),th=ot(be.prototype,"properties",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),rh=ot(be.prototype,"points",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),nh=ot(be.prototype,"pointsList",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),oh=ot(be.prototype,"isSelected",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ih=ot(be.prototype,"isHovered",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ah=ot(be.prototype,"isHitable",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),uh=ot(be.prototype,"draggable",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),lh=ot(be.prototype,"visible",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),sh=ot(be.prototype,"isAnimation",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),fh=ot(be.prototype,"zIndex",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),ch=ot(be.prototype,"state",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),dh=ot(be.prototype,"style",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),ph=ot(be.prototype,"arrowConfig",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{markerEnd:"url(#marker-end-".concat(this.id,")"),markerStart:""}}}),ot(be.prototype,"sourceNode",[f.m],Object.getOwnPropertyDescriptor(be.prototype,"sourceNode"),be.prototype),ot(be.prototype,"targetNode",[f.m],Object.getOwnPropertyDescriptor(be.prototype,"targetNode"),be.prototype),ot(be.prototype,"textPosition",[f.m],Object.getOwnPropertyDescriptor(be.prototype,"textPosition"),be.prototype),ot(be.prototype,"setProperty",[f.k],Object.getOwnPropertyDescriptor(be.prototype,"setProperty"),be.prototype),ot(be.prototype,"setProperties",[f.k],Object.getOwnPropertyDescriptor(be.prototype,"setProperties"),be.prototype),ot(be.prototype,"setStyle",[f.k],Object.getOwnPropertyDescriptor(be.prototype,"setStyle"),be.prototype),ot(be.prototype,"setStyles",[f.k],Object.getOwnPropertyDescriptor(be.prototype,"setStyles"),be.prototype),ot(be.prototype,"updateStyles",[f.k],Object.getOwnPropertyDescriptor(be.prototype,"updateStyles"),be.prototype),ot(be.prototype,"formatText",[f.k],Object.getOwnPropertyDescriptor(be.prototype,"formatText"),be.prototype),ot(be.prototype,"resetTextPosition",[f.k],Object.getOwnPropertyDescriptor(be.prototype,"resetTextPosition"),be.prototype),ot(be.prototype,"moveText",[f.k],Object.getOwnPropertyDescriptor(be.prototype,"moveText"),be.prototype),ot(be.prototype,"setText",[f.k],Object.getOwnPropertyDescriptor(be.prototype,"setText"),be.prototype),ot(be.prototype,"updateText",[f.k],Object.getOwnPropertyDescriptor(be.prototype,"updateText"),be.prototype),ot(be.prototype,"setAnchors",[f.k],Object.getOwnPropertyDescriptor(be.prototype,"setAnchors"),be.prototype),ot(be.prototype,"setSelected",[f.k],Object.getOwnPropertyDescriptor(be.prototype,"setSelected"),be.prototype),ot(be.prototype,"setHovered",[f.k],Object.getOwnPropertyDescriptor(be.prototype,"setHovered"),be.prototype),ot(be.prototype,"setHitable",[f.k],Object.getOwnPropertyDescriptor(be.prototype,"setHitable"),be.prototype),ot(be.prototype,"openEdgeAnimation",[f.k],Object.getOwnPropertyDescriptor(be.prototype,"openEdgeAnimation"),be.prototype),ot(be.prototype,"closeEdgeAnimation",[f.k],Object.getOwnPropertyDescriptor(be.prototype,"closeEdgeAnimation"),be.prototype),ot(be.prototype,"setElementState",[f.k],Object.getOwnPropertyDescriptor(be.prototype,"setElementState"),be.prototype),ot(be.prototype,"updateStartPoint",[f.k],Object.getOwnPropertyDescriptor(be.prototype,"updateStartPoint"),be.prototype),ot(be.prototype,"moveStartPoint",[f.k],Object.getOwnPropertyDescriptor(be.prototype,"moveStartPoint"),be.prototype),ot(be.prototype,"updateEndPoint",[f.k],Object.getOwnPropertyDescriptor(be.prototype,"updateEndPoint"),be.prototype),ot(be.prototype,"moveEndPoint",[f.k],Object.getOwnPropertyDescriptor(be.prototype,"moveEndPoint"),be.prototype),ot(be.prototype,"setZIndex",[f.k],Object.getOwnPropertyDescriptor(be.prototype,"setZIndex"),be.prototype),ot(be.prototype,"initPoints",[f.k],Object.getOwnPropertyDescriptor(be.prototype,"initPoints"),be.prototype),ot(be.prototype,"updateAttributes",[f.k],Object.getOwnPropertyDescriptor(be.prototype,"updateAttributes"),be.prototype),ot(be.prototype,"getAdjustStart",[f.k],Object.getOwnPropertyDescriptor(be.prototype,"getAdjustStart"),be.prototype),ot(be.prototype,"getAdjustEnd",[f.k],Object.getOwnPropertyDescriptor(be.prototype,"getAdjustEnd"),be.prototype),ot(be.prototype,"updateAfterAdjustStartAndEnd",[f.k],Object.getOwnPropertyDescriptor(be.prototype,"updateAfterAdjustStartAndEnd"),be.prototype),be),pf=df;function Ca(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ca=function(t){return typeof t}:Ca=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ca(e)}function vh(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function gh(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?vh(Object(t),!0).forEach(function(n){Oh(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):vh(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function BA(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function mh(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function LA(e,r,t){return r&&mh(e.prototype,r),t&&mh(e,t),e}function Ia(){return typeof Reflect!="undefined"&&Reflect.get?Ia=Reflect.get:Ia=function(r,t,n){var o=zA(r,t);if(!!o){var a=Object.getOwnPropertyDescriptor(o,t);return a.get?a.get.call(arguments.length<3?r:n):a.value}},Ia.apply(this,arguments)}function zA(e,r){for(;!Object.prototype.hasOwnProperty.call(e,r)&&(e=Ao(e),e!==null););return e}function FA(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&hf(e,r)}function hf(e,r){return hf=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},hf(e,r)}function _A(e){var r=GA();return function(){var n=Ao(e),o;if(r){var a=Ao(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return kA(this,o)}}function kA(e,r){if(r&&(Ca(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bh(e)}function bh(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function GA(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function Ao(e){return Ao=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Ao(e)}function Oh(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var yf=function(e){FA(t,e);var r=_A(t);function t(){var n;BA(this,t);for(var o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];return n=r.call.apply(r,[this].concat(a)),Oh(bh(n),"modelType",dt.LINE_EDGE),n}return LA(t,[{key:"getEdgeStyle",value:function(){var o=this.graphModel.theme.line,a=Ia(Ao(t.prototype),"getEdgeStyle",this).call(this);return gh(gh({},a),Ct(o))}},{key:"getTextPosition",value:function(){return{x:(this.startPoint.x+this.endPoint.x)/2,y:(this.startPoint.y+this.endPoint.y)/2}}}]),t}(pf);function ja(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ja=function(t){return typeof t}:ja=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ja(e)}var at,Eh;function UA(e,r){return WA(e)||XA(e,r)||YA(e,r)||HA()}function HA(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YA(e,r){if(!!e){if(typeof e=="string")return xh(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return xh(e,r)}}function xh(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function XA(e,r){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,s,p;try{for(t=t.call(e);!(o=(s=t.next()).done)&&(n.push(s.value),!(r&&n.length===r));o=!0);}catch(m){a=!0,p=m}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function WA(e){if(Array.isArray(e))return e}function Sh(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function Ah(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Sh(Object(t),!0).forEach(function(n){gf(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Sh(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function KA(e,r,t,n){!t||Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(n):void 0})}function VA(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Ph(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function QA(e,r,t){return r&&Ph(e.prototype,r),t&&Ph(e,t),e}function Po(){return typeof Reflect!="undefined"&&Reflect.get?Po=Reflect.get:Po=function(r,t,n){var o=JA(r,t);if(!!o){var a=Object.getOwnPropertyDescriptor(o,t);return a.get?a.get.call(arguments.length<3?r:n):a.value}},Po.apply(this,arguments)}function JA(e,r){for(;!Object.prototype.hasOwnProperty.call(e,r)&&(e=Cn(e),e!==null););return e}function ZA(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&vf(e,r)}function vf(e,r){return vf=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},vf(e,r)}function $A(e){var r=eP();return function(){var n=Cn(e),o;if(r){var a=Cn(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return qA(this,o)}}function qA(e,r){if(r&&(ja(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ci(e)}function ci(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function eP(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function Cn(e){return Cn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Cn(e)}function gf(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function ir(e,r,t,n,o){var a={};return Object.keys(n).forEach(function(s){a[s]=n[s]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=t.slice().reverse().reduce(function(s,p){return p(e,r,s)||s},a),o&&a.initializer!==void 0&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),a.initializer===void 0&&(Object.defineProperty(e,r,a),a=null),a}var mf=(at=function(e){ZA(t,e);var r=$A(t);function t(){var n;VA(this,t);for(var o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];return n=r.call.apply(r,[this].concat(a)),gf(ci(n),"modelType",dt.POLYLINE_EDGE),gf(ci(n),"draginngPointList",void 0),KA(ci(n),"dbClickPosition",Eh,ci(n)),n}return QA(t,[{key:"initEdgeData",value:function(o){this.offset=30,Po(Cn(t.prototype),"initEdgeData",this).call(this,o)}},{key:"getEdgeStyle",value:function(){var o=this.graphModel.theme.polyline,a=Po(Cn(t.prototype),"getEdgeStyle",this).call(this);return Ah(Ah({},a),Ct(o))}},{key:"getTextPosition",value:function(){var o,a=(o=this.text)===null||o===void 0?void 0:o.value;if(this.dbClickPosition&&!a){var s=this.dbClickPosition,p=s.x,m=s.y;return{x:p,y:m}}var x=To(this.points),P=bP(x),D=UA(P,2),B=D[0],G=D[1];return{x:(B.x+G.x)/2,y:(B.y+G.y)/2}}},{key:"getAfterAnchor",value:function(o,a,s){var p,m;return s.forEach(function(x){var P;o===Dt.HORIZONTAL?P=Math.abs(a.y-x.y):o===Dt.VERTICAL&&(P=Math.abs(a.x-x.x)),(!m||m>P)&&(m=P,p=x)}),p}},{key:"getCorssPoint",value:function(o,a,s){var p;return o===Dt.HORIZONTAL?p={x:s.x,y:a.y}:o===Dt.VERTICAL&&(p={x:a.x,y:s.y}),p}},{key:"removeCrossPoints",value:function(o,a,s){var p=s.map(function(Ie){return Ie});if(o===1){var m=p[o],x=p[a],P=p[o-1],D=jh(P,m,this.sourceNode);if(D){var B=Rh(m,x,this.sourceNode);if(B){var G=Bh(m,x,this.sourceNode);G&&(p[o]=G,p.splice(o-1,1),o--,a--)}}else{var J=this.sourceNode.anchors;J.forEach(function(Ie){if(Ie.x===P.x&&Ie.x===m.x||Ie.y===P.y&&Ie.y===m.y){var Ze=Kr(Ie.x,Ie.y,m.x,m.y),ke=Kr(P.x,P.y,m.x,m.y);Ze<ke&&(p[o-1]=Ie)}})}}if(a===s.length-2){var oe=p[o],ue=p[a],ae=p[a+1],Me=jh(ue,ae,this.targetNode);if(Me){var ge=Rh(oe,ue,this.targetNode);if(ge){var me=Bh(oe,ue,this.targetNode);me&&(p[a]=me,p.splice(a+1,1))}}else{var _e=this.targetNode.anchors;_e.forEach(function(Ie){if(Ie.x===ae.x&&Ie.x===ue.x||Ie.y===ae.y&&Ie.y===ue.y){var Ze=Kr(Ie.x,Ie.y,ue.x,ue.y),ke=Kr(ae.x,ae.y,ue.x,ue.y);Ze<ke&&(p[a+1]=Ie)}})}}return p}},{key:"getDragingPoints",value:function(o,a,s,p,m){var x=m.map(function(B){return B}),P=this.getAfterAnchor(o,s,p),D=this.getCorssPoint(o,s,P);return a==="start"?(x.unshift(D),x.unshift(P)):(x.push(D),x.push(P)),x}},{key:"updateCrossPoints",value:function(o){var a=o.map(function(me){return me}),s=o[0],p=o[1],m=o[a.length-2],x=o[a.length-1],P=this.sourceNode,D=this.targetNode,B=P.modelType,G=D.modelType,J=ka(s,p),oe=a[0];switch(B){case dt.RECT_NODE:if(P.radius!==0){var ue=Yp(s,P);ue||(oe=Hp(s,J,P))}break;case dt.CIRCLE_NODE:oe=sf(s,J,P);break;case dt.ELLIPSE_NODE:oe=Xp(s,J,P);break;case dt.DIAMOND_NODE:oe=Na(s,J,P);break;case dt.POLYGON_NODE:oe=Na(s,J,P);break}a[0]=oe;var ae=ka(m,x),Me=a[a.length-1];switch(G){case dt.RECT_NODE:if(D.radius!==0){var ge=Yp(x,D);ge||(Me=Hp(x,ae,D))}break;case dt.CIRCLE_NODE:Me=sf(x,ae,D);break;case dt.ELLIPSE_NODE:Me=Xp(x,ae,D);break;case dt.DIAMOND_NODE:Me=Na(x,ae,D);break;case dt.POLYGON_NODE:Me=Na(x,ae,D);break}return a[a.length-1]=Me,a}},{key:"getData",value:function(){var o=Po(Cn(t.prototype),"getData",this).call(this),a=this.pointsList.map(function(s){var p=s.x,m=s.y;return{x:p,y:m}});return Object.assign({},o,{pointsList:a})}},{key:"initPoints",value:function(){this.pointsList.length>0?this.points=this.pointsList.map(function(o){return"".concat(o.x,",").concat(o.y)}).join(" "):this.updatePoints()}},{key:"updatePoints",value:function(){var o=Ih({x:this.startPoint.x,y:this.startPoint.y},{x:this.endPoint.x,y:this.endPoint.y},this.sourceNode,this.targetNode,this.offset||0);this.pointsList=o,this.points=o.map(function(a){return"".concat(a.x,",").concat(a.y)}).join(" ")}},{key:"updateStartPoint",value:function(o){this.startPoint=o,this.updatePoints()}},{key:"moveStartPoint",value:function(o,a){this.startPoint.x+=o,this.startPoint.y+=a,this.updatePoints()}},{key:"updateEndPoint",value:function(o){this.endPoint=o,this.updatePoints()}},{key:"moveEndPoint",value:function(o,a){this.endPoint.x+=o,this.endPoint.y+=a,this.updatePoints()}},{key:"dragAppendStart",value:function(){this.draginngPointList=this.pointsList.map(function(o){return o})}},{key:"dragAppendSimple",value:function(o,a){this.isDragging=!0;var s=o.start,p=o.end,m=o.startIndex,x=o.endIndex,P=o.direction,D=this.pointsList,B=D;return P===Dt.HORIZONTAL?(D[m]={x:s.x,y:s.y+a.y},D[x]={x:p.x,y:p.y+a.y},B=this.pointsList.map(function(G){return G})):P===Dt.VERTICAL&&(D[m]={x:s.x+a.x,y:s.y},D[x]={x:p.x+a.x,y:p.y},B=this.pointsList.map(function(G){return G})),this.updatePointsAfterDrage(B),this.draginngPointList=B,this.setText(Object.assign({},this.text,this.textPosition)),{start:Object.assign({},D[m]),end:Object.assign({},D[x]),startIndex:m,endIndex:x,direction:P}}},{key:"dragAppend",value:function(o,a){this.isDragging=!0;var s=o.start,p=o.end,m=o.startIndex,x=o.endIndex,P=o.direction,D=this.pointsList;if(P===Dt.HORIZONTAL){D[m]={x:s.x,y:s.y+a.y},D[x]={x:p.x,y:p.y+a.y};var B=this.pointsList.map(function(vt){return vt});if(m!==0&&x!==this.pointsList.length-1&&(B=this.removeCrossPoints(m,x,B)),m===0){var G={x:s.x,y:s.y+a.y},J=Dn(G,this.sourceNode);if(!J){var oe=this.sourceNode.anchors;B=this.getDragingPoints(P,"start",G,oe,B)}}if(x===this.pointsList.length-1){var ue={x:p.x,y:p.y+a.y},ae=Dn(ue,this.targetNode);if(!ae){var Me=this.targetNode.anchors;B=this.getDragingPoints(P,"end",ue,Me,B)}}B=Sf(B),this.updatePointsAfterDrage(B),this.draginngPointList=B}else if(P===Dt.VERTICAL){D[m]={x:s.x+a.x,y:s.y},D[x]={x:p.x+a.x,y:p.y};var ge=this.pointsList.map(function(vt){return vt});if(m!==0&&x!==this.pointsList.length-1&&(ge=this.removeCrossPoints(m,x,ge)),m===0){var me={x:s.x+a.x,y:s.y},_e=Dn(me,this.sourceNode);if(!_e){var Ie=this.sourceNode.anchors;ge=this.getDragingPoints(P,"start",me,Ie,ge)}}if(x===this.pointsList.length-1){var Ze={x:p.x+a.x,y:p.y},ke=Dn(Ze,this.targetNode);if(!ke){var pt=this.targetNode.anchors;ge=this.getDragingPoints(P,"end",Ze,pt,ge)}}ge=Sf(ge),this.updatePointsAfterDrage(ge),this.draginngPointList=ge}return this.setText(Object.assign({},this.text,this.textPosition)),{start:Object.assign({},D[m]),end:Object.assign({},D[x]),startIndex:m,endIndex:x,direction:P}}},{key:"dragAppendEnd",value:function(){if(this.draginngPointList){var o=To(this.points);this.pointsList=o.map(function(p){return p}),this.draginngPointList=[];var a=o[0];this.startPoint=Object.assign({},a);var s=o[o.length-1];this.endPoint=Object.assign({},s)}this.isDragging=!1}},{key:"updatePointsAfterDrage",value:function(o){var a=this.updateCrossPoints(o);this.points=a.map(function(s){return"".concat(s.x,",").concat(s.y)}).join(" ")}},{key:"getAdjustStart",value:function(){return this.pointsList[0]||this.startPoint}},{key:"getAdjustEnd",value:function(){var o=this.pointsList;return o[o.length-1]||this.endPoint}},{key:"updateAfterAdjustStartAndEnd",value:function(o){var a=o.startPoint,s=o.endPoint,p=o.sourceNode,m=o.targetNode,x=Ih({x:a.x,y:a.y},{x:s.x,y:s.y},p,m,this.offset||0);this.pointsList=x,this.initPoints()}}]),t}(pf),Eh=ir(at.prototype,"dbClickPosition",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ir(at.prototype,"initPoints",[f.k],Object.getOwnPropertyDescriptor(at.prototype,"initPoints"),at.prototype),ir(at.prototype,"updatePoints",[f.k],Object.getOwnPropertyDescriptor(at.prototype,"updatePoints"),at.prototype),ir(at.prototype,"updateStartPoint",[f.k],Object.getOwnPropertyDescriptor(at.prototype,"updateStartPoint"),at.prototype),ir(at.prototype,"moveStartPoint",[f.k],Object.getOwnPropertyDescriptor(at.prototype,"moveStartPoint"),at.prototype),ir(at.prototype,"updateEndPoint",[f.k],Object.getOwnPropertyDescriptor(at.prototype,"updateEndPoint"),at.prototype),ir(at.prototype,"moveEndPoint",[f.k],Object.getOwnPropertyDescriptor(at.prototype,"moveEndPoint"),at.prototype),ir(at.prototype,"dragAppendStart",[f.k],Object.getOwnPropertyDescriptor(at.prototype,"dragAppendStart"),at.prototype),ir(at.prototype,"dragAppendSimple",[f.k],Object.getOwnPropertyDescriptor(at.prototype,"dragAppendSimple"),at.prototype),ir(at.prototype,"dragAppend",[f.k],Object.getOwnPropertyDescriptor(at.prototype,"dragAppend"),at.prototype),ir(at.prototype,"dragAppendEnd",[f.k],Object.getOwnPropertyDescriptor(at.prototype,"dragAppendEnd"),at.prototype),ir(at.prototype,"updatePointsAfterDrage",[f.k],Object.getOwnPropertyDescriptor(at.prototype,"updatePointsAfterDrage"),at.prototype),ir(at.prototype,"getAdjustStart",[f.k],Object.getOwnPropertyDescriptor(at.prototype,"getAdjustStart"),at.prototype),ir(at.prototype,"getAdjustEnd",[f.k],Object.getOwnPropertyDescriptor(at.prototype,"getAdjustEnd"),at.prototype),ir(at.prototype,"updateAfterAdjustStartAndEnd",[f.k],Object.getOwnPropertyDescriptor(at.prototype,"updateAfterAdjustStartAndEnd"),at.prototype),at),di=function(r){var t=r.start,n=r.end,o=r.offset,a=r.verticalLength,s=r.type,p={leftX:0,leftY:0,rightX:0,rightY:0},m=Math.atan((n.y-t.y)/(n.x-t.x)),x=Math.atan(o/a),P=Math.sqrt(a*a+o*o);return s==="start"?n.x>=t.x?(p.leftX=t.x+P*Math.sin(m+x),p.leftY=t.y-P*Math.cos(m+x),p.rightX=t.x-P*Math.sin(m-x),p.rightY=t.y+P*Math.cos(m-x)):(p.leftX=t.x-P*Math.sin(m+x),p.leftY=t.y+P*Math.cos(m+x),p.rightX=t.x+P*Math.sin(m-x),p.rightY=t.y-P*Math.cos(m-x)):s==="end"&&(n.x>=t.x?(p.leftX=n.x+P*Math.sin(m-x),p.leftY=n.y-P*Math.cos(m-x),p.rightX=n.x-P*Math.sin(m+x),p.rightY=n.y+P*Math.cos(m+x)):(p.leftX=n.x-P*Math.sin(m-x),p.leftY=n.y+P*Math.cos(m-x),p.rightX=n.x+P*Math.sin(m+x),p.rightY=n.y-P*Math.cos(m+x))),p};function Th(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function Ra(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Th(Object(t),!0).forEach(function(n){tP(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Th(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function tP(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function rP(e){return iP(e)||oP(e)||wh(e)||nP()}function nP(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oP(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function iP(e){if(Array.isArray(e))return Of(e)}function Ba(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ba=function(t){return typeof t}:Ba=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ba(e)}function bf(e,r){return lP(e)||uP(e,r)||wh(e,r)||aP()}function aP(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wh(e,r){if(!!e){if(typeof e=="string")return Of(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Of(e,r)}}function Of(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function uP(e,r){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,s,p;try{for(t=t.call(e);!(o=(s=t.next()).done)&&(n.push(s.value),!(r&&n.length===r));o=!0);}catch(m){a=!0,p=m}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function lP(e){if(Array.isArray(e))return e}var sP=function(r,t){return Math.abs(r.centerX-t.centerX)*2<r.width+t.width&&Math.abs(r.centerY-t.centerY)*2<r.height+t.height},Ef=function(r){var t=[],n={};return r.forEach(function(o){var a="".concat(o.x,"-").concat(o.y);o.id=a,n[a]=o}),Object.keys(n).forEach(function(o){t.push(n[o])}),t},La=function(r,t){return r.width===0&&r.height===0?r:{centerX:r.centerX,centerY:r.centerY,minX:r.minX-t,minY:r.minY-t,maxX:r.maxX+t,maxY:r.maxY+t,height:r.height+2*t,width:r.width+2*t}},fP=function(r,t){var n=Math.abs(r.x-t.centerX),o=Math.abs(r.y-t.centerY);return n/t.width>o/t.height?Dt.HORIZONTAL:Dt.VERTICAL},za=function(r,t){var n=fP(t,r);return n===Dt.HORIZONTAL?{x:t.x>r.centerX?r.maxX:r.minX,y:t.y}:{x:t.x,y:t.y>r.centerY?r.maxY:r.minY}},Mh=function(r,t){var n=Math.min(r.minX,t.minX),o=Math.min(r.minY,t.minY),a=Math.max(r.maxX,t.maxX),s=Math.max(r.maxY,t.maxY);return{centerX:(n+a)/2,centerY:(o+s)/2,minX:n,minY:o,maxX:a,maxY:s,height:s-o,width:a-n}},pi=function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=[],o=[];r.forEach(function(D){n.push(D.x),o.push(D.y)});var a=Math.min.apply(Math,n),s=Math.max.apply(Math,n),p=Math.min.apply(Math,o),m=Math.max.apply(Math,o),x=s-a,P=m-p;return t&&(x+=t,P+=t),{centerX:(a+s)/2,centerY:(p+m)/2,maxX:s,maxY:m,minX:a,minY:p,x:(a+s)/2,y:(p+m)/2,height:P,width:x}},Fa=function(r){var t=r.minX,n=r.minY,o=r.maxX,a=r.maxY;return[{x:t,y:n},{x:o,y:n},{x:o,y:a},{x:t,y:a}]},_a=function(r,t){var n=r.x,o=r.y;return n<t.minX||n>t.maxX||o<t.minY||o>t.maxY},cP=function(r,t){return t<r.minX||t>r.maxX?[]:[{x:t,y:r.minY},{x:t,y:r.maxY}]},dP=function(r,t){return t<r.minY||t>r.maxY?[]:[{x:r.minX,y:t},{x:r.maxX,y:t}]},pP=function(r,t){return cP(r,t.x).concat(dP(r,t.y))},xf=function(r,t){return Math.abs(r.x-t.x)+Math.abs(r.y-t.y)},hP=function(r,t){var n=-2,o=0;return t.forEach(function(a){a&&(r.x===a.x&&(o+=n),r.y===a.y&&(o+=n))}),o},Nh=function(r,t,n,o,a){return xf(r,t)+xf(r,n)+hP(r,[t,n,o,a])},yP=function e(r,t,n,o,a){a||(a=0),r.unshift(t[o]),n[o]&&n[o]!==o&&a<=100&&e(r,t,n,n[o],a+1)},vP=function(r,t){var n=r.indexOf(t);n>-1&&r.splice(n,1)},hi=function(r,t,n,o){var a=t.x-r.x,s=t.y-r.y,p=o.x-n.x,m=o.y-n.y,x=(-s*(r.x-n.x)+a*(r.y-n.y))/(-p*s+a*m),P=(p*(r.y-n.y)-m*(r.x-n.x))/(-p*s+a*m);return x>=0&&x<=1&&P>=0&&P<=1},Dh=function(r,t,n){if(n.width===0&&n.height===0)return!1;var o=Fa(n),a=bf(o,4),s=a[0],p=a[1],m=a[2],x=a[3];return hi(r,t,s,p)||hi(r,t,s,x)||hi(r,t,p,m)||hi(r,t,m,x)},gP=function(r,t,n,o){var a=[];return r.forEach(function(s){s!==t&&(s.x===t.x||s.y===t.y)&&!Dh(s,t,n)&&!Dh(s,t,o)&&a.push(s)}),Ef(a)},mP=function(r,t,n,o,a,s,p){var m=[],x=[t],P={},D={},B={};D[t.id]=0,B[t.id]=Nh(t,n,t);var G={};r.forEach(function(ue){G[ue.id]=ue});for(var J=function(){var ae=void 0,Me=1/0;if(x.forEach(function(me){B[me.id]<Me&&(Me=B[me.id],ae=me)}),ae===n){var ge=[];return yP(ge,G,P,n.id),{v:ge}}vP(x,ae),m.push(ae),gP(r,ae,o,a).forEach(function(me){if(m.indexOf(me)===-1){x.indexOf(me)===-1&&x.push(me);var _e=B[ae.id]+xf(ae,me);D[me.id]&&_e>=D[me.id]||(P[me.id]=ae.id,D[me.id]=_e,B[me.id]=D[me.id]+Nh(me,n,t,s,p))}})};x.length;){var oe=J();if(Ba(oe)==="object")return oe.v}return[t,n]},Ch=function(r){var t=br(r);return t},Sf=function(r){for(var t=r,n=1;n<t.length-1;){var o=t[n-1],a=t[n],s=t[n+1];o.x===a.x&&a.x===s.x||o.y===a.y&&a.y===s.y?t.splice(n,1):n++}return t},Ih=function(r,t,n,o,a){var s=Ch(n),p=Ch(o),m=La(s,a),x=La(p,a),P=za(m,r),D=za(x,t);if(sP(m,x)){var B=OP(r,t,P,D);return[r,P].concat(rP(B),[D,t])}var G=pi([P,D]),J=Mh(m,G),oe=Mh(x,G),ue=[];ue=ue.concat(Fa(J)),ue=ue.concat(Fa(oe));var ae={x:(r.x+t.x)/2,y:(r.y+t.y)/2};[G,J,oe].forEach(function(ge){ue=ue.concat(pP(ge,ae).filter(function(me){return _a(me,m)&&_a(me,x)}))}),[{x:P.x,y:D.y},{x:D.x,y:P.y}].forEach(function(ge){_a(ge,m)&&_a(ge,x)&&ue.push(ge)}),ue.unshift(P),ue.push(D),ue=Ef(ue);var Me=mP(ue,P,D,s,p,r,t);return Me.unshift(r),Me.push(t),Me.length>2&&(Me=Sf(Me)),Ef(Me)},bP=function(r){var t;if(r.length===1)t=[r[0],r[0]];else if(r.length>=2){for(var n=r[0],o=r[1],a=Kr(n.x,n.y,o.x,o.y),s=1;s<r.length-1;s++){var p=r[s],m=r[s+1],x=Kr(p.x,p.y,m.x,m.y);x>a&&(a=x,n=p,o=m)}t=[n,o]}return t},jh=function(r,t,n){var o=Dn(r,n),a=Dn(t,n);return o&&a},Rh=function(r,t,n){var o=Dn(r,n),a=Dn(t,n),s=o&&a,p=o||a;return!s&&p},Bh=function(r,t,n){for(var o,a,s=br(n),p=Fa(s),m=0;m<p.length;m++){var x=hi(r,t,p[m],p[(m+1)%p.length]);x&&(a=[p[m],p[(m+1)%p.length]])}return a&&(o=EA(r,t,a[0],a[1])),o},ka=function(r,t){var n;return r.x===t.x?n=Dt.VERTICAL:r.y===t.y&&(n=Dt.HORIZONTAL),n},To=function(r){var t=r.split(" "),n=[];return t&&t.forEach(function(o){var a=o.split(","),s=bf(a,2),p=s[0],m=s[1];n.push({x:Number(p),y:Number(m)})}),n},OP=function(r,t,n,o){var a=[],s=ka(r,n),p=ka(t,o);if(s===p)r.y===n.y?(a.push({x:n.x,y:(n.y+o.y)/2}),a.push({x:o.x,y:(n.y+o.y)/2})):(a.push({x:(n.x+o.x)/2,y:n.y}),a.push({x:(n.x+o.x)/2,y:o.y}));else{var m={x:n.x,y:o.y},x=fi(m,r,n),P=fi(m,t,o);if(x||P)m={x:o.x,y:n.y};else{var D=Lh(m,r,n),B=Lh(m,t,o);D&&B&&(m={x:o.x,y:n.y})}a.push(m)}return a},Lh=function(r,t,n){return r.x===t.x&&r.x===n.x||r.y===t.y&&r.y===n.y},zh=function(r){if(!r)return 0;for(var t=0,n=0;n<r.length;n++){var o=r.charCodeAt(n);r.match(/[A-Z]/)?t+=1.5:o>=1&&o<=126||o>=65376&&o<=65439?t+=1:t+=2}return t},EP=function(r){var t=r.start,n=r.end,o;if(t.x===n.x&&t.y===n.y)o="";else{var a={start:t,end:n,offset:10,verticalLength:5},s=di(Ra(Ra({},a),{},{type:"start"})),p=di(Ra(Ra({},a),{},{type:"end"}));o="M".concat(s.leftX," ").concat(s.leftY,` 
    L`).concat(s.rightX," ").concat(s.rightY,` 
    L`).concat(p.rightX," ").concat(p.rightY,`
    L`).concat(p.leftX," ").concat(p.leftY," z")}return{d:o,fill:"transparent",stroke:"transparent",strokeWidth:1,strokeDasharray:"4, 4"}},Fh=function(r){var t=r.start,n=r.end,o=r.sourceNode,a=r.targetNode,s=r.offset,p=br(o),m=br(a),x=La(p,s),P=La(m,s),D=za(x,t),B=za(P,n);return{sNext:D,ePre:B}},Ga=function(r){var t=r.replace(/M/g,"").replace(/C/g,",").split(","),n=Ua(t[0]),o=Ua(t[1]),a=Ua(t[2]),s=Ua(t[3]);return[n,o,a,s]},Ua=function(r){var t=r.replace(/(^\s*)/g,"").split(" "),n=bf(t,2),o=n[0],a=n[1];return{x:+o,y:+a}},xP=function(r){var t=Ga(r);return[t[2],t[3]]},_h=function(r,t){for(var n=r.x,o=r.y,a=To(t),s=Number.MAX_SAFE_INTEGER,p,m=[],x=0;x<a.length;x++)m.push({start:a[x],end:a[(x+1)%a.length]});if(m.forEach(function(G){var J=G.start,oe=G.end;if(J.x===oe.x){var ue={x:J.x,y:o},ae=fi(ue,J,oe);if(ae){var Me=Math.abs(J.x-n);Me<s&&(s=Me,p=ue)}}else if(J.y===oe.y){var ge={x:n,y:J.y},me=fi(ge,J,oe);if(me){var _e=Math.abs(J.y-o);_e<s&&(s=_e,p=ge)}}}),!p){var P=m[0],D=P.start,B=P.end;p={x:D.x+(B.x-D.x)/2,y:D.y+(B.y-D.y)/2}}return p},SP=function(r){return li(r,["id","type","sourceNodeId","sourceAnchorId","targetNodeId","targetAnchorId","pointsList","startPoint","endPoint","properties"])},kh=function(r,t){return Math.sqrt(Math.pow(r.x-t.x,2)+Math.pow(r.y-t.y,2))};i(204);function AP(){}var wo=AP;function PP(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Gh(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function TP(e,r,t){return r&&Gh(e.prototype,r),t&&Gh(e,t),e}function Ft(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var Vr=window.document,Uh=0;function Af(e){var r=e.onDragStart,t=r===void 0?wo:r,n=e.onDraging,o=n===void 0?wo:n,a=e.onDragEnd,s=a===void 0?wo:a,p=e.step,m=p===void 0?1:p,x=e.isStopPropagation,P=x===void 0?!0:x,D=!1,B=!1,G=0,J=0,oe=0,ue=0;function ae(me){if(P&&me.stopPropagation(),!!B&&(D=!0,oe+=me.clientX-G,ue+=me.clientY-J,G=me.clientX,J=me.clientY,Math.abs(oe)>m||Math.abs(ue)>m)){var _e=oe%m,Ie=ue%m,Ze=oe-_e,ke=ue-Ie;oe=_e,ue=Ie,o({deltaX:Ze,deltaY:ke,event:me})}}function Me(me){if(P&&me.stopPropagation(),B=!1,Vr.removeEventListener("mousemove",ae,!1),Vr.removeEventListener("mouseup",Me,!1),!!D)return D=!1,s({event:me})}function ge(me){if(me.button===Uh)return P&&me.stopPropagation(),B=!0,G=me.clientX,J=me.clientY,Vr.addEventListener("mousemove",ae,!1),Vr.addEventListener("mouseup",Me,!1),t({event:me})}return ge}var to=function(){function e(r){var t=this,n=r.onDragStart,o=n===void 0?wo:n,a=r.onDraging,s=a===void 0?wo:a,p=r.onDragEnd,m=p===void 0?wo:p,x=r.eventType,P=x===void 0?"":x,D=r.eventCenter,B=D===void 0?null:D,G=r.step,J=G===void 0?1:G,oe=r.isStopPropagation,ue=oe===void 0?!0:oe,ae=r.model,Me=ae===void 0?null:ae;PP(this,e),Ft(this,"onDragStart",void 0),Ft(this,"onDraging",void 0),Ft(this,"onDragEnd",void 0),Ft(this,"step",void 0),Ft(this,"isStopPropagation",void 0),Ft(this,"isDraging",!1),Ft(this,"isStartDraging",!1),Ft(this,"startX",0),Ft(this,"startY",0),Ft(this,"sumDeltaX",0),Ft(this,"sumDeltaY",0),Ft(this,"eventType",void 0),Ft(this,"eventCenter",void 0),Ft(this,"model",void 0),Ft(this,"startTime",void 0),Ft(this,"isGrag",void 0),Ft(this,"handleMouseDown",function(ge){var me,_e;if(ge.button===Uh){t.isStopPropagation&&ge.stopPropagation(),t.isStartDraging=!0,t.startX=ge.clientX,t.startY=ge.clientY,Vr.addEventListener("mousemove",t.handleMouseMove,!1),Vr.addEventListener("mouseup",t.handleMouseUp,!1);var Ie=(me=t.model)===null||me===void 0?void 0:me.getData();(_e=t.eventCenter)===null||_e===void 0||_e.emit(it["".concat(t.eventType,"_MOUSEDOWN")],{e:ge,data:Ie}),t.startTime=new Date().getTime()}}),Ft(this,"handleMouseMove",function(ge){if(t.isStopPropagation&&ge.stopPropagation(),!!t.isStartDraging&&(t.sumDeltaX+=ge.clientX-t.startX,t.sumDeltaY+=ge.clientY-t.startY,t.startX=ge.clientX,t.startY=ge.clientY,t.step<=1||Math.abs(t.sumDeltaX)>t.step||Math.abs(t.sumDeltaY)>t.step)){var me,_e=t.sumDeltaX%t.step,Ie=t.sumDeltaY%t.step,Ze=t.sumDeltaX-_e,ke=t.sumDeltaY-Ie;t.sumDeltaX=_e,t.sumDeltaY=Ie;var pt=(me=t.model)===null||me===void 0?void 0:me.getData();if(!t.isDraging){var vt;(vt=t.eventCenter)===null||vt===void 0||vt.emit(it["".concat(t.eventType,"_DRAGSTART")],{e:ge,data:pt}),t.onDragStart({event:ge})}t.isDraging=!0,Promise.resolve().then(function(){var lr,Er;t.onDraging({deltaX:Ze,deltaY:ke,event:ge}),(lr=t.eventCenter)===null||lr===void 0||lr.emit(it["".concat(t.eventType,"_MOUSEMOVE")],{e:ge,data:pt}),(Er=t.eventCenter)===null||Er===void 0||Er.emit(it["".concat(t.eventType,"_DRAG")],{e:ge,data:pt})})}}),Ft(this,"handleMouseUp",function(ge){t.isStartDraging=!1,t.isStopPropagation&&ge.stopPropagation(),Promise.resolve().then(function(){var me,_e,Ie;Vr.removeEventListener("mousemove",t.handleMouseMove,!1),Vr.removeEventListener("mouseup",t.handleMouseUp,!1);var Ze=(me=t.model)===null||me===void 0?void 0:me.getData();(_e=t.eventCenter)===null||_e===void 0||_e.emit(it["".concat(t.eventType,"_MOUSEUP")],{e:ge,data:Ze}),t.isDraging&&(t.isDraging=!1,t.onDragEnd({event:ge}),(Ie=t.eventCenter)===null||Ie===void 0||Ie.emit(it["".concat(t.eventType,"_DROP")],{e:ge,data:Ze}))})}),Ft(this,"cancelDrag",function(){Vr.removeEventListener("mousemove",t.handleMouseMove,!1),Vr.removeEventListener("mouseup",t.handleMouseUp,!1),t.isDraging=!1}),this.onDragStart=o,this.onDraging=s,this.onDragEnd=m,this.step=J,this.isStopPropagation=ue,this.eventType=P,this.eventCenter=B,this.model=Me}return TP(e,[{key:"setStep",value:function(t){this.step=t}}]),e}(),wP=function(r){return!r||typeof r=="boolean"?Ct(r===!0?MA:Vp):Bp(Ct(Vp),r)},ce,Hh,Yh,Xh,Wh,Kh,Vh,Qh,Jh,Zh,$h,qh,ey;function ty(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function Ha(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?ty(Object(t),!0).forEach(function(n){fn(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ty(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function ry(e,r){return DP(e)||NP(e,r)||ny(e,r)||MP()}function MP(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function NP(e,r){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,s,p;try{for(t=t.call(e);!(o=(s=t.next()).done)&&(n.push(s.value),!(r&&n.length===r));o=!0);}catch(m){a=!0,p=m}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function DP(e){if(Array.isArray(e))return e}function Mo(e){return jP(e)||IP(e)||ny(e)||CP()}function CP(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ny(e,r){if(!!e){if(typeof e=="string")return Pf(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Pf(e,r)}}function IP(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function jP(e){if(Array.isArray(e))return Pf(e)}function Pf(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function yi(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?yi=function(t){return typeof t}:yi=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yi(e)}function Nr(e,r,t,n){!t||Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(n):void 0})}function RP(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function oy(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function BP(e,r,t){return r&&oy(e.prototype,r),t&&oy(e,t),e}function fn(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Ve(e,r,t,n,o){var a={};return Object.keys(n).forEach(function(s){a[s]=n[s]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=t.slice().reverse().reduce(function(s,p){return p(e,r,s)||s},a),o&&a.initializer!==void 0&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),a.initializer===void 0&&(Object.defineProperty(e,r,a),a=null),a}var Ya=200,iy=(ce=function(){function e(r){RP(this,e),fn(this,"rootEl",void 0),Nr(this,"width",Hh,this),Nr(this,"height",Yh,this),fn(this,"theme",void 0),fn(this,"eventCenter",void 0),fn(this,"modelMap",new Map),fn(this,"topElement",void 0),fn(this,"animation",void 0),fn(this,"idGenerator",void 0),fn(this,"nodeMoveRules",[]),Nr(this,"edgeType",Xh,this),Nr(this,"nodes",Wh,this),Nr(this,"edges",Kh,this),Nr(this,"overlapMode",Vh,this),Nr(this,"background",Qh,this),Nr(this,"transformModel",Jh,this),Nr(this,"editConfigModel",Zh,this),Nr(this,"gridSize",$h,this),Nr(this,"partial",qh,this),Nr(this,"fakerNode",ey,this);var t=r.container,n=r.background,o=n===void 0?{}:n,a=r.grid,s=r.idGenerator,p=r.animation;this.background=o,yi(a)==="object"&&(this.gridSize=a.size),this.rootEl=t,this.editConfigModel=new lp(r),this.eventCenter=new uA,this.transformModel=new Wx(this.eventCenter),this.theme=Lp(r.style),this.edgeType=r.edgeType||"polyline",this.width=r.width,this.height=r.height,this.animation=wP(p),this.partial=r.partial,this.overlapMode=r.overlapMode||0,this.idGenerator=s,this.width=r.width||this.rootEl.getBoundingClientRect().width,this.height=r.height||this.rootEl.getBoundingClientRect().height}return BP(e,[{key:"nodesMap",get:function(){return this.nodes.reduce(function(t,n,o){return t[n.id]={index:o,model:n},t},{})}},{key:"edgesMap",get:function(){return this.edges.reduce(function(t,n,o){return t[n.id]={index:o,model:n},t},{})}},{key:"modelsMap",get:function(){return[].concat(Mo(this.nodes),Mo(this.edges)).reduce(function(t,n){return t[n.id]=n,t},{})}},{key:"sortElements",get:function(){var t=[];this.nodes.forEach(function(P){return t.push(P)}),this.edges.forEach(function(P){return t.push(P)}),t=t.sort(function(P,D){return P.zIndex-D.zIndex});for(var n=[],o=-1,a=[-Ya,-Ya],s=[this.width+Ya,this.height+Ya],p=0;p<t.length;p++){var m=t[p];m.visible&&(!this.partial||m.isSelected||this.isElementInArea(m,a,s,!1,!1))&&(m.zIndex===fp&&(o=n.length),n.push(m))}if(o!==-1){var x=n[n.length-1];n[n.length-1]=n[o],n[o]=x}return n}},{key:"textEditElement",get:function(){var t=this.nodes.find(function(o){return o.state===Et.TEXT_EDIT}),n=this.edges.find(function(o){return o.state===Et.TEXT_EDIT});return t||n}},{key:"selectElements",get:function(){var t=new Map;return this.nodes.forEach(function(n){n.isSelected&&t.set(n.id,n)}),this.edges.forEach(function(n){n.isSelected&&t.set(n.id,n)}),t}},{key:"getAreaElement",value:function(t,n){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,s=[],p=[];this.nodes.forEach(function(P){return p.push(P)}),this.edges.forEach(function(P){return p.push(P)});for(var m=0;m<p.length;m++){var x=p[m];this.isElementInArea(x,t,n,o,a)&&s.push(x)}return s}},{key:"getModel",value:function(t){return this.modelMap.get(t)}},{key:"getNodeModelById",value:function(t){var n;return this.fakerNode&&t===this.fakerNode.id?this.fakerNode:(n=this.nodesMap[t])===null||n===void 0?void 0:n.model}},{key:"getPointByClient",value:function(t){var n=t.x,o=t.y,a=this.rootEl.getBoundingClientRect(),s={x:n-a.left,y:o-a.top},p=this.transformModel.HtmlPointToCanvasPoint([s.x,s.y]),m=ry(p,2),x=m[0],P=m[1];return{domOverlayPosition:s,canvasOverlayPosition:{x,y:P}}}},{key:"isElementInArea",value:function(t,n,o){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0;if(t.BaseType===kt.NODE){t=t;for(var p=br(t),m=p.minX,x=p.minY,P=p.maxX,D=p.maxY,B=[{x:m,y:x},{x:P,y:x},{x:P,y:D},{x:m,y:D}],G=s,J=0;J<B.length;J++){var oe=B[J],ue=oe.x,ae=oe.y,Me=this.transformModel.CanvasPointToHtmlPoint([ue,ae]),ge=ry(Me,2);if(ue=ge[0],ae=ge[1],of([ue,ae],n,o)!==s){G=!s;break}}return G}if(t.BaseType===kt.EDGE){t=t;var me=t,_e=me.startPoint,Ie=me.endPoint,Ze=this.transformModel.CanvasPointToHtmlPoint([_e.x,_e.y]),ke=this.transformModel.CanvasPointToHtmlPoint([Ie.x,Ie.y]),pt=of(Ze,n,o),vt=of(ke,n,o);return a?pt&&vt:pt||vt}return!1}},{key:"graphDataToModel",value:function(t){var n=this;this.width,this.height,(!this.width||!this.height)&&this.resize(),this.nodes=Ea(t.nodes,function(o){var a=n.getModel(o.type);if(!a)throw new Error("\u627E\u4E0D\u5230".concat(o.type,"\u5BF9\u5E94\u7684\u8282\u70B9\u3002"));var s=o.x,p=o.y;return s&&p&&(o.x=So(s,n.gridSize),o.y=So(p,n.gridSize),yi(o.text)==="object"&&(o.text.x-=Fp(s,n.gridSize),o.text.y-=Fp(p,n.gridSize))),new a(o,n)}),this.edges=Ea(t.edges,function(o){var a=n.getModel(o.type);if(!a)throw new Error("\u627E\u4E0D\u5230".concat(o.type,"\u5BF9\u5E94\u7684\u8FB9\u3002"));return new a(o,n)})}},{key:"modelToGraphData",value:function(){var t=[];this.edges.forEach(function(o){var a=o.getData();a&&t.push(a)});var n=[];return this.nodes.forEach(function(o){var a=o.getData();a&&n.push(a)}),{nodes:n,edges:t}}},{key:"modelToHistoryData",value:function(){for(var t=!1,n=[],o=0;o<this.nodes.length;o++){var a=this.nodes[o];if(a.isDragging){t=!0;break}else n.push(a.getHistoryData())}if(t)return!1;for(var s=!1,p=[],m=0;m<this.edges.length;m++){var x=this.edges[m];if(x.isDragging){s=!0;break}else p.push(x.getHistoryData())}return s?!1:{nodes:n,edges:p}}},{key:"getEdgeModelById",value:function(t){var n;return(n=this.edgesMap[t])===null||n===void 0?void 0:n.model}},{key:"getElement",value:function(t){return this.modelsMap[t]}},{key:"getNodeEdges",value:function(t){for(var n=[],o=0;o<this.edges.length;o++){var a=this.edges[o],s=this.edges[o].sourceNodeId===t,p=this.edges[o].targetNodeId===t;(s||p)&&n.push(a)}return n}},{key:"getSelectElements",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,n=this.selectElements,o={nodes:[],edges:[]};return n.forEach(function(a){if(a.BaseType===kt.NODE&&o.nodes.push(a.getData()),a.BaseType===kt.EDGE){var s=a.getData(),p=n.get(s.sourceNodeId)&&n.get(s.targetNodeId);(t||p)&&o.edges.push(s)}}),o}},{key:"updateAttributes",value:function(t,n){var o=this.getElement(t);o.updateAttributes(n)}},{key:"changeNodeId",value:function(t,n){return n||(n=eo()),this.nodesMap[n]?(console.warn("\u5F53\u524D\u6D41\u7A0B\u56FE\u5DF2\u5B58\u5728\u8282\u70B9".concat(n,", \u4FEE\u6539\u5931\u8D25")),""):this.nodesMap[t]?(this.edges.forEach(function(o){o.sourceNodeId===t&&(o.sourceNodeId=n),o.targetNodeId===t&&(o.targetNodeId=n)}),this.nodesMap[t].model.id=n,n):(console.warn("\u5F53\u524D\u6D41\u7A0B\u56FE\u627E\u4E0D\u5230\u8282\u70B9".concat(n,", \u4FEE\u6539\u5931\u8D25")),"")}},{key:"changeEdgeId",value:function(t,n){return n||(n=eo()),this.edgesMap[n]?(console.warn("\u5F53\u524D\u6D41\u7A0B\u56FE\u5DF2\u5B58\u5728\u8FB9: ".concat(n,", \u4FEE\u6539\u5931\u8D25")),""):this.edgesMap[t]?(this.edges.forEach(function(o){o.id===t&&(o.id=n)}),n):(console.warn("\u5F53\u524D\u6D41\u7A0B\u56FE\u627E\u4E0D\u5230\u8FB9: ".concat(n,", \u4FEE\u6539\u5931\u8D25")),"")}},{key:"setFakerNode",value:function(t){this.fakerNode=t}},{key:"removeFakerNode",value:function(){this.fakerNode=null}},{key:"setModel",value:function(t,n){return this.modelMap.set(t,n)}},{key:"toFront",value:function(t){var n,o,a=((n=this.nodesMap[t])===null||n===void 0?void 0:n.model)||((o=this.edgesMap[t])===null||o===void 0?void 0:o.model);if(a){if(this.overlapMode===mr.DEFAULT){var s;(s=this.topElement)===null||s===void 0||s.setZIndex(),a.setZIndex(fp),this.topElement=a}this.overlapMode===mr.INCREASE&&this.setElementZIndex(t,"top")}}},{key:"setElementZIndex",value:function(t,n){var o,a,s=((o=this.nodesMap[t])===null||o===void 0?void 0:o.model)||((a=this.edgesMap[t])===null||a===void 0?void 0:a.model);if(s){var p;typeof n=="number"&&(p=n),n==="top"&&(p=cf()),n==="bottom"&&(p=IA()),s.setZIndex(p)}}},{key:"deleteNode",value:function(t){var n=this.nodesMap[t].model.getData();this.deleteEdgeBySource(t),this.deleteEdgeByTarget(t),this.nodes.splice(this.nodesMap[t].index,1),this.eventCenter.emit(it.NODE_DELETE,{data:n})}},{key:"addNode",value:function(t){var n=er(t);n.id&&this.nodesMap[t.id]&&delete n.id;var o=this.getModel(n.type);if(!o)throw new Error("\u627E\u4E0D\u5230".concat(n.type,"\u5BF9\u5E94\u7684\u8282\u70B9\uFF0C\u8BF7\u786E\u8BA4\u662F\u5426\u5DF2\u6CE8\u518C\u6B64\u7C7B\u578B\u8282\u70B9\u3002"));var a=new o(n,this);this.nodes.push(a);var s=a.getData();return this.eventCenter.emit(it.NODE_ADD,{data:s}),a}},{key:"cloneNode",value:function(t){var n=this.getNodeModelById(t),o=n.getData();o.x+=30,o.y+=30,delete o.id,o.text&&(o.text.x+=30,o.text.y+=30);var a=this.addNode(o);return a.setSelected(!0),n.setSelected(!1),a.getData()}},{key:"moveNode",value:function(t,n,o){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,s=this.nodesMap[t];if(!s){console.warn("\u4E0D\u5B58\u5728id\u4E3A".concat(t,"\u7684\u8282\u70B9"));return}var p=s.model,m=p.move(n,o,a);m&&this.moveEdge(t,n,o)}},{key:"moveNode2Coordinate",value:function(t,n,o){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,s=this.nodesMap[t];if(!s){console.warn("\u4E0D\u5B58\u5728id\u4E3A".concat(t,"\u7684\u8282\u70B9"));return}var p=s.model,m=p.x,x=p.y,P=n-m,D=o-x;this.moveNode(t,P,D,a)}},{key:"editText",value:function(t){this.setElementStateById(t,Et.TEXT_EDIT)}},{key:"addEdge",value:function(t){var n=er(t),o=n.type;o||(o=this.edgeType),n.id&&this.edgesMap[n.id]&&delete n.id;var a=this.getModel(o);if(!a)throw new Error("\u627E\u4E0D\u5230".concat(o,"\u5BF9\u5E94\u7684\u8FB9\uFF0C\u8BF7\u786E\u8BA4\u662F\u5426\u5DF2\u6CE8\u518C\u6B64\u7C7B\u578B\u8FB9\u3002"));var s=new a(Ha(Ha({},n),{},{type:o}),this),p=s.getData();return this.edges.push(s),this.eventCenter.emit(it.EDGE_ADD,{data:p}),s}},{key:"moveEdge",value:function(t,n,o){for(var a=0;a<this.edges.length;a++){var s=this.edges[a],p=s.textPosition,m=p.x,x=p.y,P=this.edges[a].sourceNodeId===t,D=this.edges[a].targetNodeId===t;if(P&&s.moveStartPoint(n,o),D&&s.moveEndPoint(n,o),P||D){var B;if(s.customTextPosition===!0)s.resetTextPosition();else if(s.modelType===dt.POLYLINE_EDGE&&(B=s.text)!==null&&B!==void 0&&B.value){var G=s.text,J=_h(G,s.points);s.moveText(J.x-G.x,J.y-G.y)}else{var oe=s.textPosition,ue=oe.x,ae=oe.y;s.moveText(ue-m,ae-x)}}}}},{key:"deleteEdgeBySourceAndTarget",value:function(t,n){for(var o=0;o<this.edges.length;o++)if(this.edges[o].sourceNodeId===t&&this.edges[o].targetNodeId===n){var a=this.edges[o].getData();this.edges.splice(o,1),o--,this.eventCenter.emit(it.EDGE_DELETE,{data:a})}}},{key:"deleteEdgeById",value:function(t){var n=this.edgesMap[t];if(!!n){var o=this.edgesMap[t].index,a=this.edgesMap[t].model.getData();this.edges.splice(o,1),this.eventCenter.emit(it.EDGE_DELETE,{data:a})}}},{key:"deleteEdgeBySource",value:function(t){for(var n=0;n<this.edges.length;n++)if(this.edges[n].sourceNodeId===t){var o=this.edges[n].getData();this.edges.splice(n,1),n--,this.eventCenter.emit(it.EDGE_DELETE,{data:o})}}},{key:"deleteEdgeByTarget",value:function(t){for(var n=0;n<this.edges.length;n++)if(this.edges[n].targetNodeId===t){var o=this.edges[n].getData();this.edges.splice(n,1),n--,this.eventCenter.emit(it.EDGE_DELETE,{data:o})}}},{key:"setElementStateById",value:function(t,n,o){this.nodes.forEach(function(a){a.id===t?a.setElementState(n,o):a.setElementState(Et.DEFAULT)}),this.edges.forEach(function(a){a.id===t?a.setElementState(n,o):a.setElementState(Et.DEFAULT)})}},{key:"updateText",value:function(t,n){this.nodes.forEach(function(o){o.id===t&&o.updateText(n)}),this.edges.forEach(function(o){o.id===t&&o.updateText(n)})}},{key:"selectNodeById",value:function(t){var n,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;o||this.clearSelectElements();var a=(n=this.nodesMap[t])===null||n===void 0?void 0:n.model;a==null||a.setSelected(!0)}},{key:"selectEdgeById",value:function(t){var n,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;o||this.clearSelectElements();var a=(n=this.edgesMap[t])===null||n===void 0?void 0:n.model;a==null||a.setSelected(!0)}},{key:"selectElementById",value:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;n||this.clearSelectElements();var o=this.getElement(t);o==null||o.setSelected(!0)}},{key:"clearSelectElements",value:function(){if(this.selectElements.forEach(function(n){n==null||n.setSelected(!1)}),this.selectElements.clear(),this.overlapMode===mr.DEFAULT){var t;(t=this.topElement)===null||t===void 0||t.setZIndex()}}},{key:"moveNodes",value:function(t,n,o){var a=this,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;t.forEach(function(p){return a.moveNode(p,n,o,s)})}},{key:"addNodeMoveRules",value:function(t){this.nodeMoveRules.includes(t)||this.nodeMoveRules.push(t)}},{key:"setDefaultEdgeType",value:function(t){this.edgeType=t}},{key:"changeNodeType",value:function(t,n){var o=this.getNodeModelById(t);if(!o){console.warn("\u627E\u4E0D\u5230id\u4E3A".concat(t,"\u7684\u8282\u70B9"));return}var a=o.getData();a.type=n;var s=this.getModel(n);if(!s)throw new Error("\u627E\u4E0D\u5230".concat(n,"\u5BF9\u5E94\u7684\u8282\u70B9\uFF0C\u8BF7\u786E\u8BA4\u662F\u5426\u5DF2\u6CE8\u518C\u6B64\u7C7B\u578B\u8282\u70B9\u3002"));var p=new s(a,this);this.nodes.splice(this.nodesMap[t].index,1,p);var m=this.getNodeEdges(t);m.forEach(function(x){if(x.sourceNodeId===t){var P=Wp(p,x.startPoint,p.width,p.height);x.updateStartPoint(P)}if(x.targetNodeId===t){var D=Wp(p,x.endPoint,p.width,p.height);x.updateEndPoint(D)}})}},{key:"changeEdgeType",value:function(t,n){var o=this.getEdgeModelById(t);if(!o){console.warn("\u627E\u4E0D\u5230id\u4E3A".concat(t,"\u7684\u8FB9"));return}if(o.type!==n){var a=o.getData();a.type=n;var s=this.getModel(n);if(!s)throw new Error("\u627E\u4E0D\u5230".concat(n,"\u5BF9\u5E94\u7684\u8282\u70B9\uFF0C\u8BF7\u786E\u8BA4\u662F\u5426\u5DF2\u6CE8\u518C\u6B64\u7C7B\u578B\u8282\u70B9\u3002"));delete a.pointsList;var p=new s(a,this);this.edges.splice(this.edgesMap[t].index,1,p)}}},{key:"getNodeIncomingEdge",value:function(t){var n=[];return this.edges.forEach(function(o){o.targetNodeId===t&&n.push(o)}),n}},{key:"getNodeOutgoingEdge",value:function(t){var n=[];return this.edges.forEach(function(o){o.sourceNodeId===t&&n.push(o)}),n}},{key:"getNodeIncomingNode",value:function(t){var n=this,o=[];return this.edges.forEach(function(a){a.targetNodeId===t&&o.push(n.nodesMap[a.sourceNodeId].model)}),o}},{key:"getNodeOutgoingNode",value:function(t){var n=this,o=[];return this.edges.forEach(function(a){a.sourceNodeId===t&&o.push(n.nodesMap[a.targetNodeId].model)}),o}},{key:"setTheme",value:function(t){this.theme=Lp(Ha(Ha({},this.theme),t))}},{key:"resize",value:function(t,n){this.width=t||this.rootEl.getBoundingClientRect().width,this.height=n||this.rootEl.getBoundingClientRect().height,(!this.width||!this.height)&&console.warn("\u6E32\u67D3\u753B\u5E03\u7684\u65F6\u5019\u65E0\u6CD5\u83B7\u53D6\u753B\u5E03\u5BBD\u9AD8\uFF0C\u8BF7\u786E\u8BA4\u5728container\u5DF2\u6302\u8F7D\u5230DOM\u3002@see https://github.com/didi/LogicFlow/issues/675")}},{key:"clearData",value:function(){this.nodes=[],this.edges=[]}},{key:"getVirtualRectSize",value:function(){var t=this.nodes,n=[],o=[];t.forEach(function(G){var J=G.x,oe=G.y,ue=G.width,ae=G.height,Me=G.getNodeStyle(),ge=Me.strokeWidth,me=ge===void 0?0:ge;n=n.concat([J+ue/2+me,J-ue/2-me]),o=o.concat([oe+ae/2+me,oe-ae/2-me])});var a=Math.min.apply(Math,Mo(n)),s=Math.max.apply(Math,Mo(n)),p=Math.min.apply(Math,Mo(o)),m=Math.max.apply(Math,Mo(o)),x=s-a||0,P=m-p||0,D=a+x/2,B=p+P/2;return{virtualRectWidth:x,virtualRectHeight:P,virtualRectCenterPositionX:D,virtualRectCenterPositionY:B}}},{key:"translateCenter",value:function(){var t=this.nodes,n=this.width,o=this.height,a=this.rootEl,s=this.transformModel;if(!!t.length){var p=n||a.clientWidth,m=o||a.clientHeight,x=this.getVirtualRectSize(),P=x.virtualRectCenterPositionX,D=x.virtualRectCenterPositionY;s.focusOn(P,D,p,m)}}},{key:"fitView",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:20,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:20,o=this.nodes,a=this.width,s=this.height,p=this.rootEl,m=this.transformModel;if(!!o.length){var x=a||p.clientWidth,P=s||p.clientHeight,D=this.getVirtualRectSize(),B=D.virtualRectWidth,G=D.virtualRectHeight,J=D.virtualRectCenterPositionX,oe=D.virtualRectCenterPositionY,ue=(B+n)/x,ae=(G+t)/P,Me=0;Me=1/Math.max(ue,ae);var ge=[x/2,P/2];m.zoom(Me,ge),m.focusOn(J,oe,x,P)}}},{key:"openEdgeAnimation",value:function(t){var n=this.getEdgeModelById(t);n.openEdgeAnimation()}},{key:"closeEdgeAnimation",value:function(t){var n=this.getEdgeModelById(t);n.closeEdgeAnimation()}}]),e}(),Hh=Ve(ce.prototype,"width",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Yh=Ve(ce.prototype,"height",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Xh=Ve(ce.prototype,"edgeType",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Wh=Ve(ce.prototype,"nodes",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Kh=Ve(ce.prototype,"edges",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Vh=Ve(ce.prototype,"overlapMode",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return mr.DEFAULT}}),Qh=Ve(ce.prototype,"background",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Jh=Ve(ce.prototype,"transformModel",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Zh=Ve(ce.prototype,"editConfigModel",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$h=Ve(ce.prototype,"gridSize",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),qh=Ve(ce.prototype,"partial",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ey=Ve(ce.prototype,"fakerNode",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ve(ce.prototype,"nodesMap",[f.m],Object.getOwnPropertyDescriptor(ce.prototype,"nodesMap"),ce.prototype),Ve(ce.prototype,"edgesMap",[f.m],Object.getOwnPropertyDescriptor(ce.prototype,"edgesMap"),ce.prototype),Ve(ce.prototype,"modelsMap",[f.m],Object.getOwnPropertyDescriptor(ce.prototype,"modelsMap"),ce.prototype),Ve(ce.prototype,"sortElements",[f.m],Object.getOwnPropertyDescriptor(ce.prototype,"sortElements"),ce.prototype),Ve(ce.prototype,"textEditElement",[f.m],Object.getOwnPropertyDescriptor(ce.prototype,"textEditElement"),ce.prototype),Ve(ce.prototype,"selectElements",[f.m],Object.getOwnPropertyDescriptor(ce.prototype,"selectElements"),ce.prototype),Ve(ce.prototype,"setFakerNode",[f.k],Object.getOwnPropertyDescriptor(ce.prototype,"setFakerNode"),ce.prototype),Ve(ce.prototype,"removeFakerNode",[f.k],Object.getOwnPropertyDescriptor(ce.prototype,"removeFakerNode"),ce.prototype),Ve(ce.prototype,"setModel",[f.k],Object.getOwnPropertyDescriptor(ce.prototype,"setModel"),ce.prototype),Ve(ce.prototype,"toFront",[f.k],Object.getOwnPropertyDescriptor(ce.prototype,"toFront"),ce.prototype),Ve(ce.prototype,"setElementZIndex",[f.k],Object.getOwnPropertyDescriptor(ce.prototype,"setElementZIndex"),ce.prototype),Ve(ce.prototype,"deleteNode",[f.k],Object.getOwnPropertyDescriptor(ce.prototype,"deleteNode"),ce.prototype),Ve(ce.prototype,"addNode",[f.k],Object.getOwnPropertyDescriptor(ce.prototype,"addNode"),ce.prototype),Ve(ce.prototype,"cloneNode",[f.k],Object.getOwnPropertyDescriptor(ce.prototype,"cloneNode"),ce.prototype),Ve(ce.prototype,"moveNode",[f.k],Object.getOwnPropertyDescriptor(ce.prototype,"moveNode"),ce.prototype),Ve(ce.prototype,"moveNode2Coordinate",[f.k],Object.getOwnPropertyDescriptor(ce.prototype,"moveNode2Coordinate"),ce.prototype),Ve(ce.prototype,"editText",[f.k],Object.getOwnPropertyDescriptor(ce.prototype,"editText"),ce.prototype),Ve(ce.prototype,"addEdge",[f.k],Object.getOwnPropertyDescriptor(ce.prototype,"addEdge"),ce.prototype),Ve(ce.prototype,"moveEdge",[f.k],Object.getOwnPropertyDescriptor(ce.prototype,"moveEdge"),ce.prototype),Ve(ce.prototype,"deleteEdgeBySourceAndTarget",[f.k],Object.getOwnPropertyDescriptor(ce.prototype,"deleteEdgeBySourceAndTarget"),ce.prototype),Ve(ce.prototype,"deleteEdgeById",[f.k],Object.getOwnPropertyDescriptor(ce.prototype,"deleteEdgeById"),ce.prototype),Ve(ce.prototype,"deleteEdgeBySource",[f.k],Object.getOwnPropertyDescriptor(ce.prototype,"deleteEdgeBySource"),ce.prototype),Ve(ce.prototype,"deleteEdgeByTarget",[f.k],Object.getOwnPropertyDescriptor(ce.prototype,"deleteEdgeByTarget"),ce.prototype),Ve(ce.prototype,"setElementStateById",[f.k],Object.getOwnPropertyDescriptor(ce.prototype,"setElementStateById"),ce.prototype),Ve(ce.prototype,"updateText",[f.k],Object.getOwnPropertyDescriptor(ce.prototype,"updateText"),ce.prototype),Ve(ce.prototype,"selectNodeById",[f.k],Object.getOwnPropertyDescriptor(ce.prototype,"selectNodeById"),ce.prototype),Ve(ce.prototype,"selectEdgeById",[f.k],Object.getOwnPropertyDescriptor(ce.prototype,"selectEdgeById"),ce.prototype),Ve(ce.prototype,"selectElementById",[f.k],Object.getOwnPropertyDescriptor(ce.prototype,"selectElementById"),ce.prototype),Ve(ce.prototype,"clearSelectElements",[f.k],Object.getOwnPropertyDescriptor(ce.prototype,"clearSelectElements"),ce.prototype),Ve(ce.prototype,"moveNodes",[f.k],Object.getOwnPropertyDescriptor(ce.prototype,"moveNodes"),ce.prototype),Ve(ce.prototype,"setDefaultEdgeType",[f.k],Object.getOwnPropertyDescriptor(ce.prototype,"setDefaultEdgeType"),ce.prototype),Ve(ce.prototype,"changeNodeType",[f.k],Object.getOwnPropertyDescriptor(ce.prototype,"changeNodeType"),ce.prototype),Ve(ce.prototype,"changeEdgeType",[f.k],Object.getOwnPropertyDescriptor(ce.prototype,"changeEdgeType"),ce.prototype),Ve(ce.prototype,"getNodeIncomingEdge",[f.k],Object.getOwnPropertyDescriptor(ce.prototype,"getNodeIncomingEdge"),ce.prototype),Ve(ce.prototype,"getNodeOutgoingEdge",[f.k],Object.getOwnPropertyDescriptor(ce.prototype,"getNodeOutgoingEdge"),ce.prototype),Ve(ce.prototype,"getNodeIncomingNode",[f.k],Object.getOwnPropertyDescriptor(ce.prototype,"getNodeIncomingNode"),ce.prototype),Ve(ce.prototype,"getNodeOutgoingNode",[f.k],Object.getOwnPropertyDescriptor(ce.prototype,"getNodeOutgoingNode"),ce.prototype),Ve(ce.prototype,"setTheme",[f.k],Object.getOwnPropertyDescriptor(ce.prototype,"setTheme"),ce.prototype),Ve(ce.prototype,"resize",[f.k],Object.getOwnPropertyDescriptor(ce.prototype,"resize"),ce.prototype),Ve(ce.prototype,"clearData",[f.k],Object.getOwnPropertyDescriptor(ce.prototype,"clearData"),ce.prototype),Ve(ce.prototype,"translateCenter",[f.k],Object.getOwnPropertyDescriptor(ce.prototype,"translateCenter"),ce.prototype),Ve(ce.prototype,"fitView",[f.k],Object.getOwnPropertyDescriptor(ce.prototype,"fitView"),ce.prototype),Ve(ce.prototype,"openEdgeAnimation",[f.k],Object.getOwnPropertyDescriptor(ce.prototype,"openEdgeAnimation"),ce.prototype),Ve(ce.prototype,"closeEdgeAnimation",[f.k],Object.getOwnPropertyDescriptor(ce.prototype,"closeEdgeAnimation"),ce.prototype),ce),LP=iy;function Xa(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Xa=function(t){return typeof t}:Xa=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xa(e)}var ay;function Tf(){return Tf=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},Tf.apply(this,arguments)}function zP(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function uy(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function FP(e,r,t){return r&&uy(e.prototype,r),t&&uy(e,t),e}function _P(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&wf(e,r)}function wf(e,r){return wf=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},wf(e,r)}function kP(e){var r=UP();return function(){var n=Wa(e),o;if(r){var a=Wa(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return GP(this,o)}}function GP(e,r){if(r&&(Xa(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Qr(e)}function Qr(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function UP(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function Wa(e){return Wa=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Wa(e)}function cn(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var HP=Ur(ay=function(e){_P(t,e);var r=kP(t);function t(n){var o;zP(this,t),o=r.call(this),cn(Qr(o),"stepDrag",void 0),cn(Qr(o),"stepScrollX",0),cn(Qr(o),"stepScrollY",0),cn(Qr(o),"onDraging",function(m){var x=m.deltaX,P=m.deltaY;o.setState({isDraging:!0});var D=o.props.graphModel,B=D.transformModel,G=D.editConfigModel;G.stopMoveGraph||B.translate(x,P)}),cn(Qr(o),"onDragEnd",function(){o.setState({isDraging:!1})}),cn(Qr(o),"zoomHandler",function(m){var x=o.props,P=x.graphModel,D=P.editConfigModel,B=P.transformModel,G=P.gridSize,J=x.graphModel,oe=m.deltaX,ue=m.deltaY;if(!D.stopScrollGraph&&m.ctrlKey!==!0){if(m.preventDefault(),o.stepScrollX+=oe,o.stepScrollY+=ue,Math.abs(o.stepScrollX)>=G){var ae=o.stepScrollX%G,Me=o.stepScrollX-ae;B.translate(-Me*B.SCALE_X,0),o.stepScrollX=ae}if(Math.abs(o.stepScrollY)>=G){var ge=o.stepScrollY%G,me=o.stepScrollY-ge;B.translate(0,-me*B.SCALE_Y),o.stepScrollY=ge}return}if(!D.stopZoomGraph){m.preventDefault();var _e=J.getPointByClient({x:m.clientX,y:m.clientY}),Ie=_e.canvasOverlayPosition,Ze=Ie.x,ke=Ie.y;B.zoom(m.deltaY<0,[Ze,ke])}}),cn(Qr(o),"clickHandler",function(m){var x=m.target;if(x.getAttribute("name")==="canvas-overlay"){var P=o.props.graphModel,D=P.selectElements;D.size>0&&P.clearSelectElements(),P.eventCenter.emit(it.BLANK_CLICK,{e:m})}}),cn(Qr(o),"handleContextMenu",function(m){var x=m.target;if(x.getAttribute("name")==="canvas-overlay"){m.preventDefault();var P=o.props.graphModel,D=P.getPointByClient({x:m.clientX,y:m.clientY});P.eventCenter.emit(it.BLANK_CONTEXTMENU,{e:m,position:D})}}),cn(Qr(o),"mouseDownHandler",function(m){var x=o.props.graphModel,P=x.eventCenter,D=x.editConfigModel,B=x.transformModel.SCALE_X,G=x.gridSize,J=m.target,oe=!D.adjustEdge&&!D.adjustNodePosition;(J.getAttribute("name")==="canvas-overlay"||oe)&&(D.stopMoveGraph?P.emit(it.BLANK_MOUSEDOWN,{e:m}):(o.stepDrag.setStep(G*B),o.stepDrag.handleMouseDown(m)),o.clickHandler(m))});var a=n.graphModel,s=a.gridSize,p=a.eventCenter;return o.stepDrag=new to({onDraging:o.onDraging,onDragEnd:o.onDragEnd,step:s,eventType:"BLANK",isStopPropagation:!1,eventCenter:p,model:null}),o.state={isDraging:!1},o}return FP(t,[{key:"render",value:function(){var o=this.props.graphModel.transformModel,a=o.getTransformStyle(),s=a.transform,p=this.props,m=p.children,x=p.dnd,P=this.state.isDraging;return Object(ne.g)("svg",Tf({xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",name:"canvas-overlay",onWheel:this.zoomHandler,onMouseDown:this.mouseDownHandler,onContextMenu:this.handleContextMenu,className:P?"lf-canvas-overlay lf-dragging":"lf-canvas-overlay lf-drag-able"},x.eventMap()),Object(ne.g)("g",{transform:s},m))}}]),t}(ne.a))||ay,YP=HP;function Ka(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ka=function(t){return typeof t}:Ka=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ka(e)}var ly;function XP(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function sy(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function WP(e,r,t){return r&&sy(e.prototype,r),t&&sy(e,t),e}function KP(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Mf(e,r)}function Mf(e,r){return Mf=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Mf(e,r)}function VP(e){var r=JP();return function(){var n=Va(e),o;if(r){var a=Va(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return QP(this,o)}}function QP(e,r){if(r&&(Ka(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fy(e)}function fy(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function JP(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function Va(e){return Va=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Va(e)}function ZP(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var $P=Ur(ly=function(e){KP(t,e);var r=VP(t);function t(){var n;XP(this,t);for(var o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];return n=r.call.apply(r,[this].concat(a)),ZP(fy(n),"setToolOverlayRef",function(p){var m=n.props.tool,x=m.getInstance();x.components.forEach(function(P){return P(x,p)}),x.components=[]}),n}return WP(t,[{key:"getTools",value:function(){var o=this.props,a=o.tool,s=o.graphModel,p=a.getTools(),m=p.map(function(x){return Object(ne.g)(x,{graphModel:s,logicFlow:a.instance})});return a.components=m,m}},{key:"render",value:function(){return Object(ne.g)("div",{className:"lf-tool-overlay",ref:this.setToolOverlayRef},this.getTools())}}]),t}(ne.a))||ly;function Qa(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Qa=function(t){return typeof t}:Qa=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qa(e)}function qP(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function cy(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function eT(e,r,t){return r&&cy(e.prototype,r),t&&cy(e,t),e}function tT(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Nf(e,r)}function Nf(e,r){return Nf=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Nf(e,r)}function rT(e){var r=iT();return function(){var n=Ja(e),o;if(r){var a=Ja(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return nT(this,o)}}function nT(e,r){if(r&&(Qa(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return oT(e)}function oT(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function iT(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function Ja(e){return Ja=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Ja(e)}var aT=function(e){tT(t,e);var r=rT(t);function t(){return qP(this,t),r.apply(this,arguments)}return eT(t,[{key:"render",value:function(){var o=this.props.background;return Object(ne.g)("div",{className:"lf-background"},Object(ne.g)("div",{style:o,className:"lf-background-area"}))}}]),t}(ne.a);function Za(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Za=function(t){return typeof t}:Za=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Za(e)}var dy;function uT(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function py(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function lT(e,r,t){return r&&py(e.prototype,r),t&&py(e,t),e}function sT(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Df(e,r)}function Df(e,r){return Df=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Df(e,r)}function fT(e){var r=dT();return function(){var n=$a(e),o;if(r){var a=$a(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return cT(this,o)}}function cT(e,r){if(r&&(Za(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hy(e)}function hy(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dT(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function $a(e){return $a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},$a(e)}function pT(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var yy=Ur(dy=function(e){sT(t,e);var r=fT(t);function t(){var n;uT(this,t);for(var o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];return n=r.call.apply(r,[this].concat(a)),pT(hy(n),"id",eo()),n}return lT(t,[{key:"renderDot",value:function(){var o=this.props,a=o.config,s=a.color,p=a.thickness,m=p===void 0?2:p,x=o.size,P=o.visible,D=Math.min(Math.max(2,m),x/2),B=1;return P||(B=0),Object(ne.g)("rect",{width:D,height:D,rx:D/2,ry:D/2,fill:s,opacity:B})}},{key:"renderMesh",value:function(){var o=this.props,a=o.config,s=a.color,p=a.thickness,m=p===void 0?1:p,x=o.size,P=o.visible,D=Math.min(Math.max(1,m),x/2),B="M ".concat(x," 0 H0 M0 0 V0 ").concat(x),G=1;return P||(G=0),Object(ne.g)("path",{d:B,stroke:s,strokeWidth:D,opacity:G})}},{key:"render",value:function(){var o=this.props,a=o.type,s=o.size,p=o.graphModel.transformModel,m=p.SCALE_X,x=p.SKEW_Y,P=p.SKEW_X,D=p.SCALE_Y,B=p.TRANSLATE_X,G=p.TRANSLATE_Y,J=[m,x,P,D,B,G].join(","),oe="matrix(".concat(J,")");return Object(ne.g)("div",{className:"lf-grid"},Object(ne.g)("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"100%",height:"100%"},Object(ne.g)("defs",null,Object(ne.g)("pattern",{id:this.id,patternUnits:"userSpaceOnUse",patternTransform:oe,x:"0",y:"0",width:s,height:s},a==="dot"&&this.renderDot(),a==="mesh"&&this.renderMesh())),Object(ne.g)("rect",{width:"100%",height:"100%",fill:"url(#".concat(this.id,")")})))}}]),t}(ne.a))||dy;yy.defaultProps={size:20,visible:!0,type:"dot",config:{color:"#ababab",thickness:1}},i(52);function qa(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?qa=function(t){return typeof t}:qa=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qa(e)}function hT(e,r){return mT(e)||gT(e,r)||vT(e,r)||yT()}function yT(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vT(e,r){if(!!e){if(typeof e=="string")return vy(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return vy(e,r)}}function vy(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function gT(e,r){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,s,p;try{for(t=t.call(e);!(o=(s=t.next()).done)&&(n.push(s.value),!(r&&n.length===r));o=!0);}catch(m){a=!0,p=m}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function mT(e){if(Array.isArray(e))return e}function bT(e){var r={x1:10,y1:10,x2:20,y2:20,stroke:"black"};return Object.entries(e).forEach(function(t){var n=hT(t,2),o=n[0],a=n[1];if(o==="style")r[o]=a;else{var s=qa(a);s!=="object"&&(r[o]=a)}}),Object(ne.g)("line",r)}var ro=bT;function eu(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?eu=function(t){return typeof t}:eu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},eu(e)}var gy;function my(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function tu(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?my(Object(t),!0).forEach(function(n){OT(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):my(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function OT(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function ET(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function by(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function xT(e,r,t){return r&&by(e.prototype,r),t&&by(e,t),e}function ST(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Cf(e,r)}function Cf(e,r){return Cf=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Cf(e,r)}function AT(e){var r=wT();return function(){var n=ru(e),o;if(r){var a=ru(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return PT(this,o)}}function PT(e,r){if(r&&(eu(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return TT(e)}function TT(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wT(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function ru(e){return ru=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},ru(e)}var MT=Ur(gy=function(e){ST(t,e);var r=AT(t);function t(){return ET(this,t),r.apply(this,arguments)}return xT(t,[{key:"render",value:function(){var o=this.props.snaplineModel,a=o.position,s=o.isShowHorizontal,p=o.isShowVertical,m=o.getStyle(),x=a.x,P=x===void 0?0:x,D=a.y,B=D===void 0?0:D,G=tu(tu({x1:-1e5,y1:B,x2:1e5,y2:B},m),{},{stroke:s?m.stroke:"none"}),J=tu(tu({x1:P,y1:-1e5,x2:P,y2:1e5},m),{},{stroke:p?m.stroke:"none"});return Object(ne.g)("g",{className:"lf-snapline"},Object(ne.g)(ro,G),Object(ne.g)(ro,J))}}]),t}(ne.a))||gy;function nu(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?nu=function(t){return typeof t}:nu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nu(e)}function NT(e,r){return jT(e)||IT(e,r)||CT(e,r)||DT()}function DT(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function CT(e,r){if(!!e){if(typeof e=="string")return Oy(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Oy(e,r)}}function Oy(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function IT(e,r){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,s,p;try{for(t=t.call(e);!(o=(s=t.next()).done)&&(n.push(s.value),!(r&&n.length===r));o=!0);}catch(m){a=!0,p=m}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function jT(e){if(Array.isArray(e))return e}function In(e){var r=e.x,t=e.y,n=e.width,o=e.height,a=e.className,s=e.radius,p=r-n/2,m=t-o/2,x={};return Object.entries(e).forEach(function(P){var D=NT(P,2),B=D[0],G=D[1],J=nu(G);J!=="object"&&(x[B]=G)}),a?x.className="lf-basic-shape ".concat(a):x.className="lf-basic-shape",s&&(x.rx=s,x.ry=s),x.x=p,x.y=m,Object(ne.g)("rect",x)}In.defaultProps={className:"",radius:""};function ou(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ou=function(t){return typeof t}:ou=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ou(e)}var Ey;function No(){return No=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},No.apply(this,arguments)}function xy(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function Sy(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?xy(Object(t),!0).forEach(function(n){RT(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):xy(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function RT(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function BT(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Ay(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function LT(e,r,t){return r&&Ay(e.prototype,r),t&&Ay(e,t),e}function zT(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&If(e,r)}function If(e,r){return If=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},If(e,r)}function FT(e){var r=GT();return function(){var n=iu(e),o;if(r){var a=iu(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return _T(this,o)}}function _T(e,r){if(r&&(ou(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kT(e)}function kT(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function GT(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function iu(e){return iu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},iu(e)}var UT=Ur(Ey=function(e){zT(t,e);var r=FT(t);function t(){return BT(this,t),r.apply(this,arguments)}return LT(t,[{key:"getNodesOutline",value:function(){var o=this.props.graphModel,a=o.nodes,s=o.editConfigModel,p=s.hoverOutline,m=s.nodeSelectedOutline,x=[];return a.forEach(function(P){if(P.isHovered||P.isSelected){var D=P.isHovered,B=P.isSelected,G=P.x,J=P.y,oe=P.width,ue=P.height;if(m&&B||p&&D){var ae=P.getOutlineStyle(),Me={};if(Object.keys(ae).forEach(function(me){me!=="hover"&&(Me[me]=ae[me])}),D){var ge=ae.hover;Me=Sy(Sy({},Me),ge)}x.push(Object(ne.g)(In,No({className:"lf-outline-node",x:G,y:J,width:oe+10,height:ue+10},Me)))}}}),x}},{key:"getEdgeOutline",value:function(){for(var o=this.props.graphModel,a=o.edges,s=o.editConfigModel,p=s.edgeSelectedOutline,m=s.hoverOutline,x=[],P=0;P<a.length;P++){var D=a[P];(p&&D.isSelected||m&&D.isHovered)&&(D.modelType===dt.LINE_EDGE?x.push(this.getLineOutline(D)):D.modelType===dt.POLYLINE_EDGE?x.push(this.getPolylineOutline(D)):D.modelType===dt.BEZIER_EDGE&&x.push(this.getBezierOutline(D)))}return x}},{key:"getLineOutline",value:function(o){var a=o.startPoint,s=o.endPoint,p=(a.x+s.x)/2,m=(a.y+s.y)/2,x=Math.abs(a.x-s.x)+10,P=Math.abs(a.y-s.y)+10,D=o.getOutlineStyle();return Object(ne.g)(In,No({className:"lf-outline-edge",x:p,y:m,width:x,height:P},D))}},{key:"getPolylineOutline",value:function(o){var a=o.points,s=To(a),p=pi(s,8),m=p.x,x=p.y,P=p.width,D=p.height,B=o.getOutlineStyle();return Object(ne.g)(In,No({className:"lf-outline",x:m,y:x,width:P,height:D},B))}},{key:"getBezierOutline",value:function(o){var a=o.path,s=Ga(a),p=pi(s,8),m=p.x,x=p.y,P=p.width,D=p.height,B=o.getOutlineStyle();return Object(ne.g)(In,No({className:"lf-outline",x:m,y:x,width:P,height:D},B))}},{key:"render",value:function(){return Object(ne.g)("g",{className:"lf-outline"},this.getNodesOutline(),this.getEdgeOutline())}}]),t}(ne.a))||Ey;function au(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?au=function(t){return typeof t}:au=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},au(e)}function HT(e,r){return KT(e)||WT(e,r)||XT(e,r)||YT()}function YT(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function XT(e,r){if(!!e){if(typeof e=="string")return Py(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Py(e,r)}}function Py(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function WT(e,r){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,s,p;try{for(t=t.call(e);!(o=(s=t.next()).done)&&(n.push(s.value),!(r&&n.length===r));o=!0);}catch(m){a=!0,p=m}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function KT(e){if(Array.isArray(e))return e}function vi(e){var r=e.x,t=r===void 0?0:r,n=e.y,o=n===void 0?0:n,a=e.r,s=a===void 0?4:a,p=e.className,m={cx:t,cy:o,r:s,fill:"transparent",fillOpacity:1,strokeWidth:"1",stroke:"#000",strokeOpacity:1};return Object.entries(e).forEach(function(x){var P=HT(x,2),D=P[0],B=P[1],G=au(B);G!=="object"&&(m[D]=B)}),p?m.className="lf-basic-shape ".concat(p):m.className="lf-basic-shape",Object(ne.g)("circle",m)}function uu(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?uu=function(t){return typeof t}:uu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uu(e)}var Ty;function VT(e,r){return $T(e)||ZT(e,r)||JT(e,r)||QT()}function QT(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JT(e,r){if(!!e){if(typeof e=="string")return wy(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return wy(e,r)}}function wy(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function ZT(e,r){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,s,p;try{for(t=t.call(e);!(o=(s=t.next()).done)&&(n.push(s.value),!(r&&n.length===r));o=!0);}catch(m){a=!0,p=m}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function $T(e){if(Array.isArray(e))return e}function gi(){return gi=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},gi.apply(this,arguments)}function My(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Ny(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Dy(e,r,t){return r&&Ny(e.prototype,r),t&&Ny(e,t),e}function Cy(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&jf(e,r)}function jf(e,r){return jf=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},jf(e,r)}function Iy(e){var r=ew();return function(){var n=su(e),o;if(r){var a=su(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return qT(this,o)}}function qT(e,r){if(r&&(uu(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lu(e)}function lu(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ew(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function su(e){return su=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},su(e)}function Rf(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var jy=function(e){Cy(t,e);var r=Iy(t);function t(){var n;return My(this,t),n=r.call(this),Rf(lu(n),"dragHandler",void 0),Rf(lu(n),"onDraging",function(o){var a=o.event,s=n.props,p=s.graphModel,m=s.bezierModel,x=s.type,P=p.getPointByClient({x:a.clientX,y:a.clientY}),D=P.canvasOverlayPosition,B=D.x,G=D.y;m.updateAdjustAnchor({x:B,y:G},x)}),Rf(lu(n),"onDragEnd",function(){var o=n.props.bezierModel;o.isDragging=!1}),n.dragHandler=new to({onDraging:n.onDraging,onDragEnd:n.onDragEnd}),n}return Dy(t,[{key:"render",value:function(){var o=this,a=this.props.position,s=a.x,p=a.y,m=this.props.bezierModel,x=m.getEdgeStyle(),P=x.adjustAnchor;return Object(ne.g)(vi,gi({className:"lf-bezier-adjust-anchor",x:s,y:p},P,{onMouseDown:function(B){o.dragHandler.handleMouseDown(B)}}))}}]),t}(ne.a),tw=Ur(Ty=function(e){Cy(t,e);var r=Iy(t);function t(){return My(this,t),r.apply(this,arguments)}return Dy(t,[{key:"getBezierAdjust",value:function(o,a){var s=o.path,p=o.id,m=Ga(s),x=VT(m,4),P=x[0],D=x[1],B=x[2],G=x[3],J=o.getEdgeStyle(),oe=J.adjustLine,ue=[];return ue.push(Object(ne.g)(ro,gi({x1:P.x,y1:P.y,x2:D.x,y2:D.y},oe))),ue.push(Object(ne.g)(jy,{position:D,bezierModel:o,graphModel:a,key:"".concat(p,"_ePre"),type:"sNext"})),ue.push(Object(ne.g)(ro,gi({x1:G.x,y1:G.y,x2:B.x,y2:B.y},oe))),ue.push(Object(ne.g)(jy,{position:B,bezierModel:o,graphModel:a,key:"".concat(p,"_sNext"),type:"ePre"})),ue}},{key:"selectedBezierEdge",value:function(){for(var o=this.props.graphModel,a=o.edges,s=[],p=0;p<a.length;p++){var m=a[p];m.isSelected&&m.modelType===dt.BEZIER_EDGE&&m.draggable&&s.push(this.getBezierAdjust(m,o))}return s}},{key:"render",value:function(){return Object(ne.g)("g",{className:"lf-bezier-adjust"},this.selectedBezierEdge())}}]),t}(ne.a))||Ty;function fu(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?fu=function(t){return typeof t}:fu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fu(e)}var Ry;function rw(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function By(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function nw(e,r,t){return r&&By(e.prototype,r),t&&By(e,t),e}function ow(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Bf(e,r)}function Bf(e,r){return Bf=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Bf(e,r)}function iw(e){var r=lw();return function(){var n=cu(e),o;if(r){var a=cu(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return aw(this,o)}}function aw(e,r){if(r&&(fu(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return uw(e)}function uw(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function lw(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function cu(e){return cu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},cu(e)}var sw=Ur(Ry=function(e){ow(t,e);var r=iw(t);function t(){return rw(this,t),r.apply(this,arguments)}return nw(t,[{key:"render",value:function(){var o=this.props.graphModel.transformModel,a=o.getTransformStyle(),s=a.transform,p=this.props.children;return Object(ne.g)("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"100%",height:"100%",className:"modification-overlay"},Object(ne.g)("g",{transform:s},p))}}]),t}(ne.a))||Ry;function du(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?du=function(t){return typeof t}:du=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},du(e)}var Ly;function Lf(){return Lf=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},Lf.apply(this,arguments)}function fw(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function zy(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function cw(e,r,t){return r&&zy(e.prototype,r),t&&zy(e,t),e}function dw(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&zf(e,r)}function zf(e,r){return zf=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},zf(e,r)}function pw(e){var r=vw();return function(){var n=pu(e),o;if(r){var a=pu(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return hw(this,o)}}function hw(e,r){if(r&&(du(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yw(e)}function yw(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vw(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function pu(e){return pu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},pu(e)}var gw=Ur(Ly=function(e){dw(t,e);var r=pw(t);function t(){return fw(this,t),r.apply(this,arguments)}return cw(t,[{key:"getComponent",value:function(o,a){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"canvas-overlay",p=this.props.getView,m=p(o.type);return Object(ne.g)(m,{key:o.id,model:o,graphModel:a,overlay:s})}},{key:"render",value:function(){var o=this,a=this.props,s=a.graphModel,p=a.tool,m=a.options,x=a.dnd,P=a.snaplineModel,D={};m.width&&(D.width="".concat(s.width,"px")),m.height&&(D.height="".concat(s.height,"px"));var B=s.fakerNode,G=s.editConfigModel,J=G.adjustEdge;return Object(ne.g)("div",{className:"lf-graph",style:D},Object(ne.g)(YP,{graphModel:s,dnd:x},Object(ne.g)("g",{className:"lf-base"},Ea(s.sortElements,function(oe){return o.getComponent(oe,s)})),B?this.getComponent(B,s):""),Object(ne.g)(sw,{graphModel:s},Object(ne.g)(UT,{graphModel:s}),J?Object(ne.g)(tw,{graphModel:s}):"",!m.isSilentMode&&m.snapline!==!1?Object(ne.g)(MT,{snaplineModel:P}):""),Object(ne.g)($P,{graphModel:s,tool:p}),m.background&&Object(ne.g)(aT,{background:m.background}),m.grid&&Object(ne.g)(yy,Lf({},m.grid,{graphModel:s})))}}]),t}(ne.a))||Ly,mw=gw;function Fy(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function hu(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Fy(Object(t),!0).forEach(function(n){dn(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Fy(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function bw(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function _y(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Ow(e,r,t){return r&&_y(e.prototype,r),t&&_y(e,t),e}function dn(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var Ew=function(){function e(r){var t=this;bw(this,e),dn(this,"nodeConfig",void 0),dn(this,"lf",void 0),dn(this,"fakerNode",void 0),dn(this,"stopDrag",function(){t.nodeConfig=null,window.document.removeEventListener("mouseup",t.stopDrag)}),dn(this,"dragEnter",function(o){!t.nodeConfig||t.fakerNode||(t.fakerNode=t.lf.createFakerNode(hu(hu({},t.nodeConfig),t.clientToLocalPoint({x:o.clientX,y:o.clientY}))))}),dn(this,"onDragOver",function(o){if(o.preventDefault(),t.fakerNode){var a=t.clientToLocalPoint({x:o.clientX,y:o.clientY}),s=a.x,p=a.y;t.fakerNode.moveTo(s,p);var m=t.fakerNode.getData();t.lf.setNodeSnapLine(m),t.lf.graphModel.eventCenter.emit(it.NODE_DND_DRAG,{data:m})}return!1}),dn(this,"onDragLeave",function(){t.fakerNode&&(t.lf.removeNodeSnapLine(),t.lf.graphModel.removeFakerNode(),t.fakerNode=null)}),dn(this,"onDrop",function(o){if(!(!t.lf.graphModel||!o||!t.nodeConfig)){var a=t.lf.addNode(hu(hu({},t.nodeConfig),t.clientToLocalPoint({x:o.clientX,y:o.clientY})));o.preventDefault(),o.stopPropagation(),t.nodeConfig=null,t.lf.removeNodeSnapLine(),t.lf.graphModel.removeFakerNode(),t.fakerNode=null;var s=a.getData();t.lf.graphModel.eventCenter.emit(it.NODE_DND_ADD,{data:s})}});var n=r.lf;this.lf=n}return Ow(e,[{key:"clientToLocalPoint",value:function(t){var n=t.x,o=t.y,a=Rd(this.lf.options,["grid","size"]),s=this.lf.graphModel.getPointByClient({x:n,y:o}),p=s.canvasOverlayPosition,m=p.x,x=p.y;return{x:So(m,a),y:So(x,a)}}},{key:"startDrag",value:function(t){this.nodeConfig=t,window.document.addEventListener("mouseup",this.stopDrag)}},{key:"eventMap",value:function(){return{onMouseEnter:this.dragEnter,onMouseOver:this.dragEnter,onMouseMove:this.onDragOver,onMouseLeave:this.onDragLeave,onMouseUp:this.onDrop}}}]),e}();function ky(e){var r=e.container,t=e.grid,n=e.width,o=e.height;if(!r)throw new Error("\u8BF7\u68C0\u67E5 container \u53C2\u6570\u662F\u5426\u6709\u6548");if(typeof n=="string"||typeof o=="string")throw new Error("width\u6216height\u4E0D\u652F\u6301\u4F20\u5165\u5B57\u7B26\u4E32\uFF0C\u8BF7\u4F20\u6570\u5B57");return t&&(e.grid=or({size:20,type:"dot",visible:!0,config:{color:"#ababab",thickness:1}},t)),or({},Gy,e)}var Gy={background:!1,grid:!1,textEdit:!0,disabledTools:[]};function yu(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?yu=function(t){return typeof t}:yu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yu(e)}var gt,Uy;function Ff(e,r){return Pw(e)||Aw(e,r)||Sw(e,r)||xw()}function xw(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Sw(e,r){if(!!e){if(typeof e=="string")return Hy(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Hy(e,r)}}function Hy(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function Aw(e,r){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,s,p;try{for(t=t.call(e);!(o=(s=t.next()).done)&&(n.push(s.value),!(r&&n.length===r));o=!0);}catch(m){a=!0,p=m}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function Pw(e){if(Array.isArray(e))return e}function Yy(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function vu(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Yy(Object(t),!0).forEach(function(n){Wy(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Yy(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function Tw(e,r,t,n){!t||Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(n):void 0})}function ww(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Xy(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Mw(e,r,t){return r&&Xy(e.prototype,r),t&&Xy(e,t),e}function Do(){return typeof Reflect!="undefined"&&Reflect.get?Do=Reflect.get:Do=function(r,t,n){var o=Nw(r,t);if(!!o){var a=Object.getOwnPropertyDescriptor(o,t);return a.get?a.get.call(arguments.length<3?r:n):a.value}},Do.apply(this,arguments)}function Nw(e,r){for(;!Object.prototype.hasOwnProperty.call(e,r)&&(e=jn(e),e!==null););return e}function Dw(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&_f(e,r)}function _f(e,r){return _f=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},_f(e,r)}function Cw(e){var r=jw();return function(){var n=jn(e),o;if(r){var a=jn(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return Iw(this,o)}}function Iw(e,r){if(r&&(yu(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gu(e)}function gu(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function jw(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function jn(e){return jn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},jn(e)}function Wy(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Lr(e,r,t,n,o){var a={};return Object.keys(n).forEach(function(s){a[s]=n[s]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=t.slice().reverse().reduce(function(s,p){return p(e,r,s)||s},a),o&&a.initializer!==void 0&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),a.initializer===void 0&&(Object.defineProperty(e,r,a),a=null),a}var kf=(gt=function(e){Dw(t,e);var r=Cw(t);function t(){var n;ww(this,t);for(var o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];return n=r.call.apply(r,[this].concat(a)),Wy(gu(n),"modelType",dt.BEZIER_EDGE),Tw(gu(n),"path",Uy,gu(n)),n}return Mw(t,[{key:"initEdgeData",value:function(o){this.offset=100,Do(jn(t.prototype),"initEdgeData",this).call(this,o)}},{key:"getEdgeStyle",value:function(){var o=this.graphModel.theme.bezier,a=Do(jn(t.prototype),"getEdgeStyle",this).call(this);return vu(vu({},a),Ct(o))}},{key:"getTextPosition",value:function(){if(this.pointsList&&this.pointsList.length>0){var o=0,a=0;return this.pointsList.forEach(function(s){var p=s.x,m=s.y;o+=p,a+=m}),{x:o/this.pointsList.length,y:a/this.pointsList.length}}return{x:(this.startPoint.x+this.endPoint.x)/2,y:(this.startPoint.y+this.endPoint.y)/2}}},{key:"getData",value:function(){var o=Do(jn(t.prototype),"getData",this).call(this),a=this.pointsList.map(function(s){var p=s.x,m=s.y;return{x:p,y:m}});return vu(vu({},o),{},{pointsList:a})}},{key:"getControls",value:function(){var o=this.startPoint,a=this.endPoint,s=Fh({start:o,end:a,sourceNode:this.sourceNode,targetNode:this.targetNode,offset:this.offset});return s}},{key:"getPath",value:function(o){var a=Ff(o,4),s=a[0],p=a[1],m=a[2],x=a[3];return"M ".concat(s.x," ").concat(s.y,`
    C `).concat(p.x," ").concat(p.y,`,
    `).concat(m.x," ").concat(m.y,`,
    `).concat(x.x," ").concat(x.y)}},{key:"initPoints",value:function(){this.pointsList.length>0?this.path=this.getPath(this.pointsList):this.updatePoints()}},{key:"updatePoints",value:function(){var o=this.getControls(),a=o.sNext,s=o.ePre;this.updatePath(a,s)}},{key:"updatePath",value:function(o,a){var s={x:this.startPoint.x,y:this.startPoint.y},p={x:this.endPoint.x,y:this.endPoint.y};if(!o||!a){var m=this.getControls();o=m.sNext,a=m.ePre}this.pointsList=[s,o,a,p],this.path=this.getPath(this.pointsList)}},{key:"updateStartPoint",value:function(o){this.startPoint=o,this.updatePoints()}},{key:"updateEndPoint",value:function(o){this.endPoint=o,this.updatePoints()}},{key:"moveStartPoint",value:function(o,a){this.startPoint.x+=o,this.startPoint.y+=a;var s=Ff(this.pointsList,3),p=s[1],m=s[2];p.x+=o,p.y+=a,this.updatePath(p,m)}},{key:"moveEndPoint",value:function(o,a){this.endPoint.x+=o,this.endPoint.y+=a;var s=Ff(this.pointsList,3),p=s[1],m=s[2];m.x+=o,m.y+=a,this.updatePath(p,m)}},{key:"updateAdjustAnchor",value:function(o,a){a==="sNext"?this.pointsList[1]=o:a==="ePre"&&(this.pointsList[2]=o),this.path=this.getPath(this.pointsList),this.setText(Object.assign({},this.text,this.textPosition))}},{key:"getAdjustStart",value:function(){return this.pointsList[0]||this.startPoint}},{key:"getAdjustEnd",value:function(){var o=this.pointsList;return o[o.length-1]||this.endPoint}},{key:"updateAfterAdjustStartAndEnd",value:function(o){var a=o.startPoint,s=o.endPoint,p=o.sourceNode,m=o.targetNode,x=Fh({start:a,end:s,sourceNode:p,targetNode:m,offset:this.offset}),P=x.sNext,D=x.ePre;this.pointsList=[a,P,D,s],this.initPoints()}}]),t}(pf),Uy=Lr(gt.prototype,"path",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Lr(gt.prototype,"initPoints",[f.k],Object.getOwnPropertyDescriptor(gt.prototype,"initPoints"),gt.prototype),Lr(gt.prototype,"updatePoints",[f.k],Object.getOwnPropertyDescriptor(gt.prototype,"updatePoints"),gt.prototype),Lr(gt.prototype,"updateStartPoint",[f.k],Object.getOwnPropertyDescriptor(gt.prototype,"updateStartPoint"),gt.prototype),Lr(gt.prototype,"updateEndPoint",[f.k],Object.getOwnPropertyDescriptor(gt.prototype,"updateEndPoint"),gt.prototype),Lr(gt.prototype,"moveStartPoint",[f.k],Object.getOwnPropertyDescriptor(gt.prototype,"moveStartPoint"),gt.prototype),Lr(gt.prototype,"moveEndPoint",[f.k],Object.getOwnPropertyDescriptor(gt.prototype,"moveEndPoint"),gt.prototype),Lr(gt.prototype,"updateAdjustAnchor",[f.k],Object.getOwnPropertyDescriptor(gt.prototype,"updateAdjustAnchor"),gt.prototype),Lr(gt.prototype,"getAdjustStart",[f.k],Object.getOwnPropertyDescriptor(gt.prototype,"getAdjustStart"),gt.prototype),Lr(gt.prototype,"getAdjustEnd",[f.k],Object.getOwnPropertyDescriptor(gt.prototype,"getAdjustEnd"),gt.prototype),Lr(gt.prototype,"updateAfterAdjustStartAndEnd",[f.k],Object.getOwnPropertyDescriptor(gt.prototype,"updateAfterAdjustStartAndEnd"),gt.prototype),gt);function Rw(e){return e==null}var Bw=Rw,je,Ky,Vy,Qy,Jy,Zy,$y,qy,ev,tv,rv,nv,ov,iv,av,uv,lv,sv,fv;function mu(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?mu=function(t){return typeof t}:mu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mu(e)}function Lw(e,r){var t=typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=zw(e))||r&&e&&typeof e.length=="number"){t&&(e=t);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(x){throw x},f:o}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a=!0,s=!1,p;return{s:function(){t=t.call(e)},n:function(){var x=t.next();return a=x.done,x},e:function(x){s=!0,p=x},f:function(){try{!a&&t.return!=null&&t.return()}finally{if(s)throw p}}}}function zw(e,r){if(!!e){if(typeof e=="string")return cv(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return cv(e,r)}}function cv(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function dv(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function ar(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?dv(Object(t),!0).forEach(function(n){Or(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):dv(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function Xt(e,r,t,n){!t||Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(n):void 0})}function Fw(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function pv(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _w(e,r,t){return r&&pv(e.prototype,r),t&&pv(e,t),e}function Or(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function ht(e,r,t,n,o){var a={};return Object.keys(n).forEach(function(s){a[s]=n[s]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=t.slice().reverse().reduce(function(s,p){return p(e,r,s)||s},a),o&&a.initializer!==void 0&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),a.initializer===void 0&&(Object.defineProperty(e,r,a),a=null),a}var pn=(je=function(){function e(r,t){Fw(this,e),Or(this,"id",eo()),Xt(this,"type",Ky,this),Xt(this,"x",Vy,this),Xt(this,"y",Qy,this),Xt(this,"text",Jy,this),Xt(this,"properties",Zy,this),Xt(this,"_width",$y,this),Xt(this,"_height",qy,this),Xt(this,"anchorsOffset",ev,this),Xt(this,"isSelected",tv,this),Xt(this,"isHovered",rv,this),Xt(this,"isDragging",nv,this),Xt(this,"isHitable",ov,this),Xt(this,"draggable",iv,this),Xt(this,"visible",av,this),Or(this,"graphModel",void 0),Xt(this,"zIndex",uv,this),Xt(this,"state",lv,this),Xt(this,"autoToFront",sv,this),Xt(this,"style",fv,this),Or(this,"BaseType",kt.NODE),Or(this,"modelType",dt.NODE),Or(this,"additionStateData",void 0),Or(this,"targetRules",[]),Or(this,"sourceRules",[]),Or(this,"moveRules",[]),Or(this,"hasSetTargetRules",!1),Or(this,"hasSetSourceRules",!1),this.graphModel=t,this.initNodeData(r),this.setAttributes()}return _w(e,[{key:"width",get:function(){return this._width},set:function(t){this._width=t}},{key:"height",get:function(){return this._height},set:function(t){this._height=t}},{key:"incoming",get:function(){return{nodes:this.graphModel.getNodeIncomingNode(this.id),edges:this.graphModel.getNodeIncomingEdge(this.id)}}},{key:"outgoing",get:function(){return{nodes:this.graphModel.getNodeOutgoingNode(this.id),edges:this.graphModel.getNodeOutgoingEdge(this.id)}}},{key:"initNodeData",value:function(t){if(t.properties||(t.properties={}),!t.id){var n=this.graphModel.idGenerator,o=n&&n(t.type);o&&(t.id=o);var a=this.createId();a&&(t.id=a)}this.formatText(t),or(this,wA(t));var s=this.graphModel.overlapMode;s===mr.INCREASE&&(this.zIndex=t.zIndex||cf())}},{key:"setAttributes",value:function(){}},{key:"createId",value:function(){return null}},{key:"formatText",value:function(t){t.text||(t.text={value:"",x:t.x,y:t.y,draggable:!1,editable:!0}),t.text&&typeof t.text=="string"?t.text={value:t.text,x:t.x,y:t.y,draggable:!1,editable:!0}:t.text&&t.text.editable===void 0&&(t.text.editable=!0)}},{key:"getData",value:function(){var t=this.text,n=t.x,o=t.y,a=t.value,s=this.properties;Object(f.x)(s)&&(s=Object(f.I)(s));var p={id:this.id,type:this.type,x:this.x,y:this.y,properties:s};return this.graphModel.overlapMode===mr.INCREASE&&(p.zIndex=this.zIndex),a&&(p.text={x:n,y:o,value:a}),p}},{key:"getHistoryData",value:function(){return this.getData()}},{key:"getProperties",value:function(){return Object(f.I)(this.properties)}},{key:"getNodeStyle",value:function(){return ar(ar({},this.graphModel.theme.baseNode),this.style)}},{key:"getTextStyle",value:function(){var t=this.graphModel.theme.nodeText;return Ct(t)}},{key:"getAnchorStyle",value:function(t){var n=this.graphModel.theme.anchor;return Ct(n)}},{key:"getAnchorLineStyle",value:function(){var t=this.graphModel.theme.anchorLine;return Ct(t)}},{key:"getOutlineStyle",value:function(){var t=this.graphModel.theme.outline;return Ct(t)}},{key:"isAllowConnectedAsSource",value:function(t,n,o){var a=this.hasSetSourceRules?this.sourceRules:this.getConnectedSourceRules();this.hasSetSourceRules=!0;for(var s=!0,p,m=0;m<a.length;m++){var x=a[m];if(!x.validate.call(this,this,t,n,o)){s=!1,p=x.message;break}}return{isAllPass:s,msg:p}}},{key:"getConnectedSourceRules",value:function(){return this.sourceRules}},{key:"isAllowConnectedAsTarget",value:function(t,n,o){var a=this.hasSetTargetRules?this.targetRules:this.getConnectedTargetRules();this.hasSetTargetRules=!0;for(var s=!0,p,m=0;m<a.length;m++){var x=a[m];if(!x.validate.call(this,t,this,n,o)){s=!1,p=x.message;break}}return{isAllPass:s,msg:p}}},{key:"isAllowMoveNode",value:function(t,n){var o=!0,a=!0,s=this.moveRules.concat(this.graphModel.nodeMoveRules),p=Lw(s),m;try{for(p.s();!(m=p.n()).done;){var x=m.value,P=x(this,t,n);if(!P)return!1;if(mu(P)==="object"){var D=P;if(D.x===!1&&D.y===!1)return!1;o=o&&D.x,a=a&&D.y}}}catch(B){p.e(B)}finally{p.f()}return{x:o,y:a}}},{key:"getConnectedTargetRules",value:function(){return this.targetRules}},{key:"getAnchorsByOffset",value:function(){var t=this.anchorsOffset,n=this.id,o=this.x,a=this.y;return t&&t.length>0?t.map(function(s,p){return s.length?(s=s,{id:"".concat(n,"_").concat(p),x:o+s[0],y:a+s[1]}):(s=s,ar(ar({},s),{},{x:o+s.x,y:a+s.y,id:s.id||"".concat(n,"_").concat(p)}))}):this.getDefaultAnchor()}},{key:"getDefaultAnchor",value:function(){return[]}},{key:"getBounds",value:function(){return{x1:this.x-this.width/2,y1:this.y-this.height/2,x2:this.x+this.width/2,y2:this.y+this.height/2}}},{key:"anchors",get:function(){return this.getAnchorsByOffset()}},{key:"getAnchorInfo",value:function(t){if(!Bw(t))for(var n=0;n<this.anchors.length;n++){var o=this.anchors[n];if(o.id===t)return o}}},{key:"addNodeMoveRules",value:function(t){this.moveRules.includes(t)||this.moveRules.push(t)}},{key:"move",value:function(t,n){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,a=!1,s=!1;if(o)a=!0,s=!0;else{var p=this.isAllowMoveNode(t,n);typeof p=="boolean"?(a=p,s=p):(a=p.x,s=p.y)}if(a){var m=this.x+t;this.x=m,this.text&&this.moveText(t,0)}if(s){var x=this.y+n;this.y=x,this.text&&this.moveText(0,n)}return a||s}},{key:"moveTo",value:function(t,n){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,a=t-this.x,s=n-this.y;return!o&&!this.isAllowMoveNode(a,s)?!1:(this.text&&this.text&&this.moveText(a,s),this.x=t,this.y=n,!0)}},{key:"moveText",value:function(t,n){var o=this.text,a=o.x,s=o.y,p=o.value,m=o.draggable,x=o.editable;this.text={value:p,editable:x,draggable:m,x:a+t,y:s+n}}},{key:"updateText",value:function(t){this.text=ar(ar({},this.text),{},{value:t})}},{key:"setSelected",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.isSelected=t}},{key:"setHovered",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.isHovered=t}},{key:"setHitable",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.isHitable=t}},{key:"setElementState",value:function(t,n){this.state=t,this.additionStateData=n}},{key:"setProperty",value:function(t,n){this.properties=ar(ar({},this.properties),{},Or({},t,er(n))),this.setAttributes()}},{key:"setProperties",value:function(t){this.properties=ar(ar({},this.properties),er(t)),this.setAttributes()}},{key:"setStyle",value:function(t,n){this.style=ar(ar({},this.style),{},Or({},t,er(n)))}},{key:"setStyles",value:function(t){this.style=ar(ar({},this.style),er(t))}},{key:"updateStyles",value:function(t){this.style=ar({},er(t))}},{key:"setZIndex",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;this.zIndex=t}},{key:"updateAttributes",value:function(t){or(this,t)}}]),e}(),Ky=ht(je.prototype,"type",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Vy=ht(je.prototype,"x",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Qy=ht(je.prototype,"y",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Jy=ht(je.prototype,"text",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{value:"",x:0,y:0,draggable:!1,editable:!0}}}),Zy=ht(je.prototype,"properties",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),$y=ht(je.prototype,"_width",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 100}}),qy=ht(je.prototype,"_height",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 80}}),ev=ht(je.prototype,"anchorsOffset",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),tv=ht(je.prototype,"isSelected",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),rv=ht(je.prototype,"isHovered",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),nv=ht(je.prototype,"isDragging",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ov=ht(je.prototype,"isHitable",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),iv=ht(je.prototype,"draggable",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),av=ht(je.prototype,"visible",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),uv=ht(je.prototype,"zIndex",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),lv=ht(je.prototype,"state",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),sv=ht(je.prototype,"autoToFront",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),fv=ht(je.prototype,"style",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),ht(je.prototype,"incoming",[f.m],Object.getOwnPropertyDescriptor(je.prototype,"incoming"),je.prototype),ht(je.prototype,"outgoing",[f.m],Object.getOwnPropertyDescriptor(je.prototype,"outgoing"),je.prototype),ht(je.prototype,"addNodeMoveRules",[f.k],Object.getOwnPropertyDescriptor(je.prototype,"addNodeMoveRules"),je.prototype),ht(je.prototype,"move",[f.k],Object.getOwnPropertyDescriptor(je.prototype,"move"),je.prototype),ht(je.prototype,"moveTo",[f.k],Object.getOwnPropertyDescriptor(je.prototype,"moveTo"),je.prototype),ht(je.prototype,"moveText",[f.k],Object.getOwnPropertyDescriptor(je.prototype,"moveText"),je.prototype),ht(je.prototype,"updateText",[f.k],Object.getOwnPropertyDescriptor(je.prototype,"updateText"),je.prototype),ht(je.prototype,"setSelected",[f.k],Object.getOwnPropertyDescriptor(je.prototype,"setSelected"),je.prototype),ht(je.prototype,"setHovered",[f.k],Object.getOwnPropertyDescriptor(je.prototype,"setHovered"),je.prototype),ht(je.prototype,"setHitable",[f.k],Object.getOwnPropertyDescriptor(je.prototype,"setHitable"),je.prototype),ht(je.prototype,"setElementState",[f.k],Object.getOwnPropertyDescriptor(je.prototype,"setElementState"),je.prototype),ht(je.prototype,"setProperty",[f.k],Object.getOwnPropertyDescriptor(je.prototype,"setProperty"),je.prototype),ht(je.prototype,"setProperties",[f.k],Object.getOwnPropertyDescriptor(je.prototype,"setProperties"),je.prototype),ht(je.prototype,"setStyle",[f.k],Object.getOwnPropertyDescriptor(je.prototype,"setStyle"),je.prototype),ht(je.prototype,"setStyles",[f.k],Object.getOwnPropertyDescriptor(je.prototype,"setStyles"),je.prototype),ht(je.prototype,"updateStyles",[f.k],Object.getOwnPropertyDescriptor(je.prototype,"updateStyles"),je.prototype),ht(je.prototype,"setZIndex",[f.k],Object.getOwnPropertyDescriptor(je.prototype,"setZIndex"),je.prototype),ht(je.prototype,"updateAttributes",[f.k],Object.getOwnPropertyDescriptor(je.prototype,"updateAttributes"),je.prototype),je);function bu(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?bu=function(t){return typeof t}:bu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bu(e)}var hn,hv;function yv(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function vv(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?yv(Object(t),!0).forEach(function(n){mv(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):yv(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function kw(e,r,t,n){!t||Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(n):void 0})}function Gw(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function gv(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Uw(e,r,t){return r&&gv(e.prototype,r),t&&gv(e,t),e}function Ou(){return typeof Reflect!="undefined"&&Reflect.get?Ou=Reflect.get:Ou=function(r,t,n){var o=Hw(r,t);if(!!o){var a=Object.getOwnPropertyDescriptor(o,t);return a.get?a.get.call(arguments.length<3?r:n):a.value}},Ou.apply(this,arguments)}function Hw(e,r){for(;!Object.prototype.hasOwnProperty.call(e,r)&&(e=Co(e),e!==null););return e}function Yw(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Gf(e,r)}function Gf(e,r){return Gf=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Gf(e,r)}function Xw(e){var r=Kw();return function(){var n=Co(e),o;if(r){var a=Co(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return Ww(this,o)}}function Ww(e,r){if(r&&(bu(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Eu(e)}function Eu(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Kw(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function Co(e){return Co=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Co(e)}function mv(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Uf(e,r,t,n,o){var a={};return Object.keys(n).forEach(function(s){a[s]=n[s]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=t.slice().reverse().reduce(function(s,p){return p(e,r,s)||s},a),o&&a.initializer!==void 0&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),a.initializer===void 0&&(Object.defineProperty(e,r,a),a=null),a}var Hf=(hn=function(e){Yw(t,e);var r=Xw(t);function t(){var n;Gw(this,t);for(var o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];return n=r.call.apply(r,[this].concat(a)),mv(Eu(n),"modelType",dt.CIRCLE_NODE),kw(Eu(n),"r",hv,Eu(n)),n}return Uw(t,[{key:"width",get:function(){return this.r*2}},{key:"height",get:function(){return this.r*2}},{key:"getNodeStyle",value:function(){var o=Ou(Co(t.prototype),"getNodeStyle",this).call(this),a=this.graphModel.theme.circle;return vv(vv({},o),Ct(a))}},{key:"getDefaultAnchor",value:function(){var o=this.x,a=this.y,s=this.r;return[{x:o,y:a-s,id:"".concat(this.id,"_0")},{x:o+s,y:a,id:"".concat(this.id,"_1")},{x:o,y:a+s,id:"".concat(this.id,"_2")},{x:o-s,y:a,id:"".concat(this.id,"_3")}]}}]),t}(pn),hv=Uf(hn.prototype,"r",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 50}}),Uf(hn.prototype,"width",[f.m],Object.getOwnPropertyDescriptor(hn.prototype,"width"),hn.prototype),Uf(hn.prototype,"height",[f.m],Object.getOwnPropertyDescriptor(hn.prototype,"height"),hn.prototype),hn);i(127);function xu(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?xu=function(t){return typeof t}:xu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xu(e)}var tr,bv,Ov;function Yf(e,r){return Zw(e)||Jw(e,r)||Qw(e,r)||Vw()}function Vw(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Qw(e,r){if(!!e){if(typeof e=="string")return Ev(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Ev(e,r)}}function Ev(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function Jw(e,r){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,s,p;try{for(t=t.call(e);!(o=(s=t.next()).done)&&(n.push(s.value),!(r&&n.length===r));o=!0);}catch(m){a=!0,p=m}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function Zw(e){if(Array.isArray(e))return e}function xv(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function Sv(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?xv(Object(t),!0).forEach(function(n){Tv(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):xv(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function Av(e,r,t,n){!t||Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(n):void 0})}function $w(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Pv(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function qw(e,r,t){return r&&Pv(e.prototype,r),t&&Pv(e,t),e}function Su(){return typeof Reflect!="undefined"&&Reflect.get?Su=Reflect.get:Su=function(r,t,n){var o=eM(r,t);if(!!o){var a=Object.getOwnPropertyDescriptor(o,t);return a.get?a.get.call(arguments.length<3?r:n):a.value}},Su.apply(this,arguments)}function eM(e,r){for(;!Object.prototype.hasOwnProperty.call(e,r)&&(e=jo(e),e!==null););return e}function tM(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Xf(e,r)}function Xf(e,r){return Xf=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Xf(e,r)}function rM(e){var r=oM();return function(){var n=jo(e),o;if(r){var a=jo(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return nM(this,o)}}function nM(e,r){if(r&&(xu(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Io(e)}function Io(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function oM(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function jo(e){return jo=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},jo(e)}function Tv(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Ro(e,r,t,n,o){var a={};return Object.keys(n).forEach(function(s){a[s]=n[s]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=t.slice().reverse().reduce(function(s,p){return p(e,r,s)||s},a),o&&a.initializer!==void 0&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),a.initializer===void 0&&(Object.defineProperty(e,r,a),a=null),a}var Wf=(tr=function(e){tM(t,e);var r=rM(t);function t(){var n;$w(this,t);for(var o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];return n=r.call.apply(r,[this].concat(a)),Tv(Io(n),"modelType",dt.DIAMOND_NODE),Av(Io(n),"rx",bv,Io(n)),Av(Io(n),"ry",Ov,Io(n)),n}return qw(t,[{key:"getNodeStyle",value:function(){var o=Su(jo(t.prototype),"getNodeStyle",this).call(this),a=this.graphModel.theme.diamond;return Sv(Sv({},o),Ct(a))}},{key:"points",get:function(){var o=this.x,a=this.y,s=this.rx,p=this.ry;return[[o,a-p],[o+s,a],[o,a+p],[o-s,a]]}},{key:"pointsPosition",get:function(){var o=this.points.map(function(a){return{x:a[0],y:a[1]}});return o}},{key:"width",get:function(){var o=Number.MAX_SAFE_INTEGER,a=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(s){var p=Yf(s,1),m=p[0];m<o&&(o=m),m>a&&(a=m)}),a-o}},{key:"height",get:function(){var o=Number.MAX_SAFE_INTEGER,a=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(s){var p=Yf(s,2),m=p[1];m<o&&(o=m),m>a&&(a=m)}),a-o}},{key:"getDefaultAnchor",value:function(){var o=this;return this.points.map(function(a,s){var p=Yf(a,2),m=p[0],x=p[1];return{x:m,y:x,id:"".concat(o.id,"_").concat(s)}})}}]),t}(pn),bv=Ro(tr.prototype,"rx",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 30}}),Ov=Ro(tr.prototype,"ry",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 50}}),Ro(tr.prototype,"points",[f.m],Object.getOwnPropertyDescriptor(tr.prototype,"points"),tr.prototype),Ro(tr.prototype,"pointsPosition",[f.m],Object.getOwnPropertyDescriptor(tr.prototype,"pointsPosition"),tr.prototype),Ro(tr.prototype,"width",[f.m],Object.getOwnPropertyDescriptor(tr.prototype,"width"),tr.prototype),Ro(tr.prototype,"height",[f.m],Object.getOwnPropertyDescriptor(tr.prototype,"height"),tr.prototype),tr);function Au(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Au=function(t){return typeof t}:Au=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Au(e)}var Jr,wv,Mv;function Nv(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function Dv(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Nv(Object(t),!0).forEach(function(n){jv(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Nv(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function Cv(e,r,t,n){!t||Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(n):void 0})}function iM(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Iv(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function aM(e,r,t){return r&&Iv(e.prototype,r),t&&Iv(e,t),e}function Pu(){return typeof Reflect!="undefined"&&Reflect.get?Pu=Reflect.get:Pu=function(r,t,n){var o=uM(r,t);if(!!o){var a=Object.getOwnPropertyDescriptor(o,t);return a.get?a.get.call(arguments.length<3?r:n):a.value}},Pu.apply(this,arguments)}function uM(e,r){for(;!Object.prototype.hasOwnProperty.call(e,r)&&(e=Lo(e),e!==null););return e}function lM(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Kf(e,r)}function Kf(e,r){return Kf=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Kf(e,r)}function sM(e){var r=cM();return function(){var n=Lo(e),o;if(r){var a=Lo(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return fM(this,o)}}function fM(e,r){if(r&&(Au(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Bo(e)}function Bo(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cM(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function Lo(e){return Lo=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Lo(e)}function jv(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Tu(e,r,t,n,o){var a={};return Object.keys(n).forEach(function(s){a[s]=n[s]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=t.slice().reverse().reduce(function(s,p){return p(e,r,s)||s},a),o&&a.initializer!==void 0&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),a.initializer===void 0&&(Object.defineProperty(e,r,a),a=null),a}var Vf=(Jr=function(e){lM(t,e);var r=sM(t);function t(){var n;iM(this,t);for(var o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];return n=r.call.apply(r,[this].concat(a)),jv(Bo(n),"modelType",dt.ELLIPSE_NODE),Cv(Bo(n),"rx",wv,Bo(n)),Cv(Bo(n),"ry",Mv,Bo(n)),n}return aM(t,[{key:"getNodeStyle",value:function(){var o=Pu(Lo(t.prototype),"getNodeStyle",this).call(this),a=this.graphModel.theme.ellipse;return Dv(Dv({},o),Ct(a))}},{key:"width",get:function(){return this.rx*2}},{key:"height",get:function(){return this.ry*2}},{key:"getDefaultAnchor",value:function(){var o=this.x,a=this.y,s=this.rx,p=this.ry;return[{x:o,y:a-p,id:"".concat(this.id,"_0")},{x:o+s,y:a,id:"".concat(this.id,"_1")},{x:o,y:a+p,id:"".concat(this.id,"_2")},{x:o-s,y:a,id:"".concat(this.id,"_3")}]}}]),t}(pn),wv=Tu(Jr.prototype,"rx",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 30}}),Mv=Tu(Jr.prototype,"ry",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 45}}),Tu(Jr.prototype,"width",[f.m],Object.getOwnPropertyDescriptor(Jr.prototype,"width"),Jr.prototype),Tu(Jr.prototype,"height",[f.m],Object.getOwnPropertyDescriptor(Jr.prototype,"height"),Jr.prototype),Jr);function wu(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?wu=function(t){return typeof t}:wu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wu(e)}var Dr,Rv;function Qf(e,r){return yM(e)||hM(e,r)||pM(e,r)||dM()}function dM(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pM(e,r){if(!!e){if(typeof e=="string")return Bv(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Bv(e,r)}}function Bv(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function hM(e,r){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,s,p;try{for(t=t.call(e);!(o=(s=t.next()).done)&&(n.push(s.value),!(r&&n.length===r));o=!0);}catch(m){a=!0,p=m}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function yM(e){if(Array.isArray(e))return e}function Lv(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function zv(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Lv(Object(t),!0).forEach(function(n){_v(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Lv(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function vM(e,r,t,n){!t||Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(n):void 0})}function gM(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Fv(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function mM(e,r,t){return r&&Fv(e.prototype,r),t&&Fv(e,t),e}function Mu(){return typeof Reflect!="undefined"&&Reflect.get?Mu=Reflect.get:Mu=function(r,t,n){var o=bM(r,t);if(!!o){var a=Object.getOwnPropertyDescriptor(o,t);return a.get?a.get.call(arguments.length<3?r:n):a.value}},Mu.apply(this,arguments)}function bM(e,r){for(;!Object.prototype.hasOwnProperty.call(e,r)&&(e=zo(e),e!==null););return e}function OM(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Jf(e,r)}function Jf(e,r){return Jf=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Jf(e,r)}function EM(e){var r=SM();return function(){var n=zo(e),o;if(r){var a=zo(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return xM(this,o)}}function xM(e,r){if(r&&(wu(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Nu(e)}function Nu(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function SM(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function zo(e){return zo=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},zo(e)}function _v(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Du(e,r,t,n,o){var a={};return Object.keys(n).forEach(function(s){a[s]=n[s]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=t.slice().reverse().reduce(function(s,p){return p(e,r,s)||s},a),o&&a.initializer!==void 0&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),a.initializer===void 0&&(Object.defineProperty(e,r,a),a=null),a}var Zf=(Dr=function(e){OM(t,e);var r=EM(t);function t(){var n;gM(this,t);for(var o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];return n=r.call.apply(r,[this].concat(a)),_v(Nu(n),"modelType",dt.POLYGON_NODE),vM(Nu(n),"points",Rv,Nu(n)),n}return mM(t,[{key:"getNodeStyle",value:function(){var o=Mu(zo(t.prototype),"getNodeStyle",this).call(this),a=this.graphModel.theme.polygon;return zv(zv({},o),Ct(a))}},{key:"pointsPosition",get:function(){var o=this.x,a=this.y,s=this.width,p=this.height,m=this.points.map(function(x){return{x:x[0]+o-s/2,y:x[1]+a-p/2}});return m}},{key:"width",get:function(){var o=Number.MAX_SAFE_INTEGER,a=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(s){var p=Qf(s,1),m=p[0];m<o&&(o=m),m>a&&(a=m)}),a-o}},{key:"height",get:function(){var o=Number.MAX_SAFE_INTEGER,a=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(s){var p=Qf(s,2),m=p[1];m<o&&(o=m),m>a&&(a=m)}),a-o}},{key:"getDefaultAnchor",value:function(){var o=this,a=this.x,s=this.y,p=this.width,m=this.height,x=this.points;return x.map(function(P,D){var B=Qf(P,2),G=B[0],J=B[1];return{x:a+G-p/2,y:s+J-m/2,id:"".concat(o.id,"_").concat(D)}})}}]),t}(pn),Rv=Du(Dr.prototype,"points",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[[50,0],[100,50],[50,100],[0,50]]}}),Du(Dr.prototype,"pointsPosition",[f.m],Object.getOwnPropertyDescriptor(Dr.prototype,"pointsPosition"),Dr.prototype),Du(Dr.prototype,"width",[f.m],Object.getOwnPropertyDescriptor(Dr.prototype,"width"),Dr.prototype),Du(Dr.prototype,"height",[f.m],Object.getOwnPropertyDescriptor(Dr.prototype,"height"),Dr.prototype),Dr);function Cu(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Cu=function(t){return typeof t}:Cu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cu(e)}var $f,kv;function Gv(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function Uv(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Gv(Object(t),!0).forEach(function(n){Yv(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Gv(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function AM(e,r,t,n){!t||Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(n):void 0})}function PM(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Hv(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function TM(e,r,t){return r&&Hv(e.prototype,r),t&&Hv(e,t),e}function Iu(){return typeof Reflect!="undefined"&&Reflect.get?Iu=Reflect.get:Iu=function(r,t,n){var o=wM(r,t);if(!!o){var a=Object.getOwnPropertyDescriptor(o,t);return a.get?a.get.call(arguments.length<3?r:n):a.value}},Iu.apply(this,arguments)}function wM(e,r){for(;!Object.prototype.hasOwnProperty.call(e,r)&&(e=Fo(e),e!==null););return e}function MM(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&qf(e,r)}function qf(e,r){return qf=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},qf(e,r)}function NM(e){var r=CM();return function(){var n=Fo(e),o;if(r){var a=Fo(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return DM(this,o)}}function DM(e,r){if(r&&(Cu(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ju(e)}function ju(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function CM(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function Fo(e){return Fo=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Fo(e)}function Yv(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function IM(e,r,t,n,o){var a={};return Object.keys(n).forEach(function(s){a[s]=n[s]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=t.slice().reverse().reduce(function(s,p){return p(e,r,s)||s},a),o&&a.initializer!==void 0&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),a.initializer===void 0&&(Object.defineProperty(e,r,a),a=null),a}var ec=($f=function(e){MM(t,e);var r=NM(t);function t(){var n;PM(this,t);for(var o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];return n=r.call.apply(r,[this].concat(a)),Yv(ju(n),"modelType",dt.RECT_NODE),AM(ju(n),"radius",kv,ju(n)),n}return TM(t,[{key:"getDefaultAnchor",value:function(){var o=this.x,a=this.y,s=this.width,p=this.height;return[{x:o,y:a-p/2,id:"".concat(this.id,"_0")},{x:o+s/2,y:a,id:"".concat(this.id,"_1")},{x:o,y:a+p/2,id:"".concat(this.id,"_2")},{x:o-s/2,y:a,id:"".concat(this.id,"_3")}]}},{key:"getNodeStyle",value:function(){var o=Iu(Fo(t.prototype),"getNodeStyle",this).call(this),a=this.graphModel.theme.rect;return Uv(Uv({},o),Ct(a))}}]),t}(pn),kv=IM($f.prototype,"radius",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),$f);function Ru(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ru=function(t){return typeof t}:Ru=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ru(e)}var Rn;function Xv(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function Wv(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Xv(Object(t),!0).forEach(function(n){Qv(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Xv(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function jM(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Kv(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function RM(e,r,t){return r&&Kv(e.prototype,r),t&&Kv(e,t),e}function Bu(){return typeof Reflect!="undefined"&&Reflect.get?Bu=Reflect.get:Bu=function(r,t,n){var o=BM(r,t);if(!!o){var a=Object.getOwnPropertyDescriptor(o,t);return a.get?a.get.call(arguments.length<3?r:n):a.value}},Bu.apply(this,arguments)}function BM(e,r){for(;!Object.prototype.hasOwnProperty.call(e,r)&&(e=_o(e),e!==null););return e}function LM(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&tc(e,r)}function tc(e,r){return tc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},tc(e,r)}function zM(e){var r=_M();return function(){var n=_o(e),o;if(r){var a=_o(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return FM(this,o)}}function FM(e,r){if(r&&(Ru(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Vv(e)}function Vv(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _M(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function _o(e){return _o=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},_o(e)}function Qv(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Jv(e,r,t,n,o){var a={};return Object.keys(n).forEach(function(s){a[s]=n[s]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=t.slice().reverse().reduce(function(s,p){return p(e,r,s)||s},a),o&&a.initializer!==void 0&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),a.initializer===void 0&&(Object.defineProperty(e,r,a),a=null),a}var rc=(Rn=function(e){LM(t,e);var r=zM(t);function t(){var n;jM(this,t);for(var o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];return n=r.call.apply(r,[this].concat(a)),Qv(Vv(n),"modelType",dt.TEXT_NODE),n}return RM(t,[{key:"getTextStyle",value:function(){var o=Bu(_o(t.prototype),"getTextStyle",this).call(this),a=this.graphModel.theme.text;return Wv(Wv({},o),Ct(a))}},{key:"width",get:function(){var o=String(this.text.value).split(/[\r\n]/g),a=this.getTextStyle(),s=a.fontSize,p=ff({rows:o,fontSize:s,rowsLength:o.length}),m=p.width;return m}},{key:"height",get:function(){var o=String(this.text.value).split(/[\r\n]/g),a=this.getTextStyle(),s=a.fontSize,p=ff({rows:o,fontSize:s,rowsLength:o.length}),m=p.height;return m}}]),t}(pn),Jv(Rn.prototype,"width",[f.m],Object.getOwnPropertyDescriptor(Rn.prototype,"width"),Rn.prototype),Jv(Rn.prototype,"height",[f.m],Object.getOwnPropertyDescriptor(Rn.prototype,"height"),Rn.prototype),Rn);function Lu(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Lu=function(t){return typeof t}:Lu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lu(e)}function kM(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Zv(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function GM(e,r,t){return r&&Zv(e.prototype,r),t&&Zv(e,t),e}function UM(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&nc(e,r)}function nc(e,r){return nc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},nc(e,r)}function HM(e){var r=XM();return function(){var n=zu(e),o;if(r){var a=zu(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return YM(this,o)}}function YM(e,r){if(r&&(Lu(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $v(e)}function $v(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function XM(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function zu(e){return zu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},zu(e)}function WM(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var oc=function(e){UM(t,e);var r=HM(t);function t(){var n;kM(this,t);for(var o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];return n=r.call.apply(r,[this].concat(a)),WM($v(n),"modelType",dt.HTML_NODE),n}return GM(t,[{key:"getDefaultAnchor",value:function(){var o=this.x,a=this.y,s=this.width,p=this.height;return[{x:o,y:a-p/2,id:"".concat(this.id,"_0")},{x:o+s/2,y:a,id:"".concat(this.id,"_1")},{x:o,y:a+p/2,id:"".concat(this.id,"_2")},{x:o-s/2,y:a,id:"".concat(this.id,"_3")}]}}]),t}(pn),zr,qv,eg,tg;function rg(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function KM(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?rg(Object(t),!0).forEach(function(n){og(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):rg(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function ic(e,r,t,n){!t||Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(n):void 0})}function VM(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function ng(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function QM(e,r,t){return r&&ng(e.prototype,r),t&&ng(e,t),e}function og(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function mi(e,r,t,n,o){var a={};return Object.keys(n).forEach(function(s){a[s]=n[s]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=t.slice().reverse().reduce(function(s,p){return p(e,r,s)||s},a),o&&a.initializer!==void 0&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),a.initializer===void 0&&(Object.defineProperty(e,r,a),a=null),a}var ig=(zr=function(){function e(r){VM(this,e),og(this,"graphModel",void 0),ic(this,"isShowHorizontal",qv,this),ic(this,"isShowVertical",eg,this),ic(this,"position",tg,this),this.isShowHorizontal=!1,this.isShowVertical=!1,this.position={x:0,y:0},this.graphModel=r}return QM(e,[{key:"getStyle",value:function(){return KM({},this.graphModel.theme.snapline)}},{key:"getCenterSnapLine",value:function(t,n){for(var o=t.x,a=t.y,s=!1,p=!1,m=0;m<n.length;m++){var x=n[m];if(x.id!==t.id&&(o===x.x&&(s=!0),a===x.y&&(p=!0),s&&p))break}return{isShowVertical:s,isShowHorizontal:p,position:{x:o,y:a}}}},{key:"getHorizontalSnapline",value:function(t,n){var o=!1,a,s=t.id,p;if(s){var m=this.graphModel.fakerNode;if(m&&m.id===s)p=br(m);else{var x=this.graphModel.getNodeModelById(s);p=br(x)}}for(var P=0;P<n.length;P++){var D=n[P];if(D.id!==t.id){var B=br(D);if(B.minY===p.minY||B.maxY===p.minY){o=!0,a=p.minY;break}if(B.minY===p.maxY||B.maxY===p.maxY){o=!0,a=p.maxY;break}}}return or({isShowHorizontal:o,position:{y:a}})}},{key:"getVerticalSnapline",value:function(t,n){var o=!1,a,s=t.id,p;if(s){var m=this.graphModel.fakerNode;if(m&&m.id===s)p=br(m);else{var x=this.graphModel.getNodeModelById(s);p=br(x)}}for(var P=0;P<n.length;P++){var D=n[P];if(D.id!==t.id){var B=br(D);if(B.minX===p.minX||B.maxX===p.minX){o=!0,a=p.minX;break}if(B.minX===p.maxX||B.maxX===p.maxX){o=!0,a=p.maxX;break}}}return or({isShowVertical:o,position:{x:a}})}},{key:"getSnapLinePosition",value:function(t,n){var o=this.getCenterSnapLine(t,n),a=o.isShowHorizontal,s=o.isShowVertical;if(!a){var p=this.getHorizontalSnapline(t,n);p.isShowHorizontal&&(o.isShowHorizontal=p.isShowHorizontal,o.position.y=p.position.y)}if(!s){var m=this.getVerticalSnapline(t,n);m.isShowVertical&&(o.isShowVertical=m.isShowVertical,o.position.x=m.position.x)}return o}},{key:"setSnaplineInfo",value:function(t){var n=t.isShowHorizontal,o=t.isShowVertical,a=t.position;this.position=a,this.isShowHorizontal=n,this.isShowVertical=o}},{key:"clearSnapline",value:function(){this.position={x:0,y:0},this.isShowHorizontal=!1,this.isShowVertical=!1}},{key:"setNodeSnapLine",value:function(t){var n=this.graphModel.nodes,o=this.getSnapLinePosition(t,n);this.setSnaplineInfo(o)}}]),e}(),qv=mi(zr.prototype,"isShowHorizontal",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),eg=mi(zr.prototype,"isShowVertical",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),tg=mi(zr.prototype,"position",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),mi(zr.prototype,"clearSnapline",[f.k],Object.getOwnPropertyDescriptor(zr.prototype,"clearSnapline"),zr.prototype),mi(zr.prototype,"setNodeSnapLine",[f.k],Object.getOwnPropertyDescriptor(zr.prototype,"setNodeSnapLine"),zr.prototype),zr),bi=new Map,ag=function(r){var t=eo();function n(){r();var a=bi.get(t);if(a){var s=window.requestAnimationFrame(n);bi.set(t,s)}}var o=window.requestAnimationFrame(n);return bi.set(t,o),t},ac=function(r){var t=bi.get(r);t&&(window.cancelAnimationFrame(t),bi.delete(r))};function Fu(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Fu=function(t){return typeof t}:Fu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fu(e)}function Oi(){return Oi=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},Oi.apply(this,arguments)}function ug(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function lg(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?ug(Object(t),!0).forEach(function(n){$r(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ug(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function JM(e,r){return e1(e)||qM(e,r)||$M(e,r)||ZM()}function ZM(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $M(e,r){if(!!e){if(typeof e=="string")return sg(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return sg(e,r)}}function sg(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function qM(e,r){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,s,p;try{for(t=t.call(e);!(o=(s=t.next()).done)&&(n.push(s.value),!(r&&n.length===r));o=!0);}catch(m){a=!0,p=m}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function e1(e){if(Array.isArray(e))return e}function t1(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function fg(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function r1(e,r,t){return r&&fg(e.prototype,r),t&&fg(e,t),e}function n1(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&uc(e,r)}function uc(e,r){return uc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},uc(e,r)}function o1(e){var r=a1();return function(){var n=_u(e),o;if(r){var a=_u(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return i1(this,o)}}function i1(e,r){if(r&&(Fu(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Zr(e)}function Zr(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function a1(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function _u(e){return _u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},_u(e)}function $r(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var u1=function(e){n1(t,e);var r=o1(t);function t(){var n;return t1(this,t),n=r.call(this),$r(Zr(n),"preTargetNode",void 0),$r(Zr(n),"sourceRuleResults",void 0),$r(Zr(n),"targetRuleResults",void 0),$r(Zr(n),"dragHandler",void 0),$r(Zr(n),"t",void 0),$r(Zr(n),"onDragStart",function(o){var a=o.event,s=n.props,p=s.anchorData,m=s.nodeModel,x=s.graphModel,P=x.overlapMode;x.selectNodeById(m.id),P!==mr.INCREASE&&m.autoToFront&&x.toFront(m.id),x.eventCenter.emit(it.ANCHOR_DRAGSTART,{data:p,e:a,nodeModel:m}),n.setState({startX:p.x,startY:p.y,endX:p.x,endY:p.y})}),$r(Zr(n),"onDraging",function(o){var a=o.event,s=n.props,p=s.graphModel,m=s.nodeModel,x=s.anchorData,P=p.transformModel,D=p.eventCenter,B=p.width,G=p.height,J=p.editConfigModel,oe=J.autoExpand,ue=J.stopMoveGraph,ae=a.clientX,Me=a.clientY,ge=p.getPointByClient({x:ae,y:Me}),me=ge.domOverlayPosition,_e=me.x,Ie=me.y,Ze=ge.canvasOverlayPosition,ke=Ze.x,pt=Ze.y;n.t&&ac(n.t);var vt=[],lr=10;_e<10?vt=[lr,0]:_e+10>B?vt=[-lr,0]:Ie<10?vt=[0,lr]:Ie+10>G&&(vt=[0,-lr]),n.setState({endX:ke,endY:pt,draging:!0}),n.moveAnchorEnd(ke,pt),vt.length>0&&!ue&&oe&&(n.t=ag(function(){var Er=vt,nn=JM(Er,2),zn=nn[0],ao=nn[1];P.translate(zn,ao);var Ho=n.state,Fn=Ho.endX,Yo=Ho.endY;n.setState({endX:Fn-zn,endY:Yo-ao}),n.moveAnchorEnd(Fn-zn,Yo-ao)})),D.emit(it.ANCHOR_DRAG,{data:x,e:a,nodeModel:m})}),$r(Zr(n),"onDragEnd",function(o){n.t&&clearInterval(n.t),n.checkEnd(o),n.setState({startX:0,startY:0,endX:0,endY:0,draging:!1}),n.sourceRuleResults.clear(),n.targetRuleResults.clear()}),$r(Zr(n),"checkEnd",function(o){var a=n.props,s=a.graphModel,p=a.nodeModel,m=a.anchorData,x=m.x,P=m.y,D=m.id,B=s.edgeType,G=n.state,J=G.endX,oe=G.endY,ue=G.draging,ae=Ma({x:J,y:oe},s);if(n.preTargetNode&&n.preTargetNode.state!==Et.DEFAULT&&n.preTargetNode.setElementState(Et.DEFAULT),!!ue&&ae&&ae.node){var Me=ae.node,ge=ae.anchor.id,me="".concat(p.id,"_").concat(Me.id,"_").concat(ge,"_").concat(D),_e=n.sourceRuleResults.get(me)||{},Ie=_e.isAllPass,Ze=_e.msg,ke=n.targetRuleResults.get(me)||{},pt=ke.isAllPass,vt=ke.msg;if(Ie&&pt){Me.setElementState(Et.DEFAULT);var lr=s.addEdge({type:B,sourceNodeId:p.id,sourceAnchorId:D,startPoint:{x,y:P},targetNodeId:ae.node.id,targetAnchorId:ae.anchor.id,endPoint:{x:ae.anchor.x,y:ae.anchor.y}}),Er=n.props.anchorData;s.eventCenter.emit(it.ANCHOR_DROP,{data:Er,e:o,nodeModel:p,edgeModel:lr})}else{var nn=Me.getData();s.eventCenter.emit(it.CONNECTION_NOT_ALLOWED,{data:nn,msg:vt||Ze})}}}),n.sourceRuleResults=new Map,n.targetRuleResults=new Map,n.state={startX:0,startY:0,endX:0,endY:0,draging:!1},n.dragHandler=new to({onDragStart:n.onDragStart,onDraging:n.onDraging,onDragEnd:n.onDragEnd}),n}return r1(t,[{key:"getAnchorShape",value:function(){var o=this.props,a=o.anchorData,s=o.style,p=o.node,m=p.getAnchorShape(a);if(m)return m;var x=a.x,P=a.y,D=lg(lg({},s),s.hover);return Object(ne.g)("g",null,Object(ne.g)(vi,Oi({className:"lf-node-anchor-hover"},D,{x,y:P})),Object(ne.g)(vi,Oi({className:"lf-node-anchor"},s,{x,y:P})))}},{key:"moveAnchorEnd",value:function(o,a){var s=this.props,p=s.graphModel,m=s.nodeModel,x=s.anchorData,P=Ma({x:o,y:a},p);if(P){var D=P.node,B=P.anchor.id;if(this.preTargetNode&&this.preTargetNode!==P.node&&this.preTargetNode.setElementState(Et.DEFAULT),x.id===B)return;this.preTargetNode=D;var G="".concat(m.id,"_").concat(D.id,"_").concat(B,"_").concat(x.id);if(!this.targetRuleResults.has(G)){var J=P.anchor,oe=m.isAllowConnectedAsSource(D,x,J),ue=D.isAllowConnectedAsTarget(m,x,J);this.sourceRuleResults.set(G,Da(oe)),this.targetRuleResults.set(G,Da(ue))}var ae=this.sourceRuleResults.get(G),Me=ae.isAllPass,ge=this.targetRuleResults.get(G),me=ge.isAllPass;Me&&me?D.setElementState(Et.ALLOW_CONNECT):D.setElementState(Et.NOT_ALLOW_CONNECT)}else this.preTargetNode&&this.preTargetNode.state!==Et.DEFAULT&&this.preTargetNode.setElementState(Et.DEFAULT)}},{key:"isShowLine",value:function(){var o=this.state,a=o.startX,s=o.startY,p=o.endX,m=o.endY,x=Kr(a,s,p,m);return x>10}},{key:"render",value:function(){var o=this,a=this.state,s=a.startX,p=a.startY,m=a.endX,x=a.endY,P=this.props,D=P.anchorData.edgeAddable,B=P.edgeStyle;return Object(ne.g)("g",{className:"lf-anchor"},Object(ne.g)("g",{onMouseDown:function(J){D!==!1&&o.dragHandler.handleMouseDown(J)}},this.getAnchorShape()),this.isShowLine()&&Object(ne.g)(ro,Oi({x1:s,y1:p,x2:m,y2:x},B,{"pointer-events":"none"})))}}]),t}(ne.a),l1=u1;i(63);function cg(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function s1(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?cg(Object(t),!0).forEach(function(n){f1(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):cg(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function f1(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function ku(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ku=function(t){return typeof t}:ku=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ku(e)}function c1(e,r){return y1(e)||h1(e,r)||p1(e,r)||d1()}function d1(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function p1(e,r){if(!!e){if(typeof e=="string")return dg(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return dg(e,r)}}function dg(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function h1(e,r){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,s,p;try{for(t=t.call(e);!(o=(s=t.next()).done)&&(n.push(s.value),!(r&&n.length===r));o=!0);}catch(m){a=!0,p=m}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function y1(e){if(Array.isArray(e))return e}function pg(e){var r=e.x,t=r===void 0?0:r,n=e.y,o=n===void 0?0:n,a=e.value,s=e.fontSize,p=e.fill,m=p===void 0?"currentColor":p,x=e.overflowMode,P=x===void 0?"default":x,D=e.textWidth,B=D===void 0?"":D,G=e.model,J={textAnchor:"middle","dominant-baseline":"middle",x:t,y:o,fill:m};if(Object.entries(e).forEach(function(me){var _e=c1(me,2),Ie=_e[0],Ze=_e[1],ke=ku(Ze);ke!=="object"&&(J[Ie]=Ze)}),a){var oe=String(a).split(/[\r\n]/g),ue=oe.length;if(P!=="default"){var ae=G.BaseType,Me=G.modelType;if(ae===kt.NODE&&Me!==dt.TEXT_NODE||ae===kt.EDGE&&B)return v1(e)}if(ue>1){var ge=oe.map(function(me,_e){var Ie=s+2,Ze=(_e-(ue-1)/2)*Ie;return Object(ne.g)("tspan",{className:"lf-text-tspan",x:t,y:o+Ze},me)});return Object(ne.g)("text",J,ge)}return Object(ne.g)("text",J,a)}}function v1(e){var r=e.value,t=e.fontSize,n=e.model,o=e.fontFamily,a=o===void 0?"":o,s=e.lineHeight,p=e.wrapPadding,m=p===void 0?"0, 0":p,x=e.overflowMode,P=e.x,D=e.y,B=n.width,G=n.textHeight,J=e.textWidth||B,oe=String(r).split(/[\r\n]/g),ue=oe.length,ae=Kp({rows:oe,style:{fontSize:"".concat(t,"px"),width:"".concat(J,"px"),fontFamily:a,lineHeight:s,padding:m},rowsLength:ue,className:"lf-get-text-height"}),Me=n.height>ae?n.height:ae;G&&(Me=G);var ge=x==="ellipsis";return Object(ne.g)("g",null,Object(ne.g)("foreignObject",{width:J,height:Me,x:P-J/2,y:D-Me/2},Object(ne.g)("div",{className:"lf-node-text-auto-wrap",style:{minHeight:Me,width:J,padding:m}},Object(ne.g)("div",{className:ge?"lf-node-text-ellipsis-content":"lf-node-text-auto-wrap-content",style:s1({},e)},oe.map(function(me){return Object(ne.g)("div",{className:"lf-node-text--auto-wrap-inner"},me)})))))}function Gu(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Gu=function(t){return typeof t}:Gu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gu(e)}function lc(){return lc=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},lc.apply(this,arguments)}function g1(e,r){return E1(e)||O1(e,r)||b1(e,r)||m1()}function m1(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function b1(e,r){if(!!e){if(typeof e=="string")return hg(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return hg(e,r)}}function hg(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function O1(e,r){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,s,p;try{for(t=t.call(e);!(o=(s=t.next()).done)&&(n.push(s.value),!(r&&n.length===r));o=!0);}catch(m){a=!0,p=m}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function E1(e){if(Array.isArray(e))return e}function x1(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function yg(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function S1(e,r,t){return r&&yg(e.prototype,r),t&&yg(e,t),e}function A1(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&sc(e,r)}function sc(e,r){return sc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},sc(e,r)}function P1(e){var r=w1();return function(){var n=Uu(e),o;if(r){var a=Uu(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return T1(this,o)}}function T1(e,r){if(r&&(Gu(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Bn(e)}function Bn(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w1(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function Uu(e){return Uu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Uu(e)}function no(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var vg=function(e){A1(t,e);var r=P1(t);function t(n){var o;x1(this,t),o=r.call(this),no(Bn(o),"dragHandler",void 0),no(Bn(o),"sumDeltaX",0),no(Bn(o),"sumDeltaY",0),no(Bn(o),"stepDrag",void 0),no(Bn(o),"onDraging",function(p){var m=p.deltaX,x=p.deltaY,P=o.props,D=P.model,B=P.graphModel.transformModel,G=B.fixDeltaXY(m,x),J=g1(G,2),oe=J[0],ue=J[1];D.moveText(oe,ue)}),no(Bn(o),"dblClickHandler",function(){var p=o.props.editable;if(p){var m=o.props.model;m.setElementState(Et.TEXT_EDIT)}}),no(Bn(o),"mouseDownHandle",function(p){var m=o.props,x=m.draggable,P=m.graphModel.editConfigModel.nodeTextDraggable;(x||P)&&o.stepDrag.handleMouseDown(p)});var a=n.model,s=n.draggable;return o.stepDrag=new to({onDraging:o.onDraging,step:1,model:a,isStopPropagation:s}),o}return S1(t,[{key:"getShape",value:function(){var o=this.props,a=o.model,s=o.graphModel,p=a.text,m=s.editConfigModel,x=p.value,P=p.x,D=p.y,B=p.editable,G=p.draggable,J={x:P,y:D,className:"",value:x};B?J.className="lf-element-text":G||m.nodeTextDraggable?J.className="lf-text-draggable":J.className="lf-text-disabled";var oe=a.getTextStyle();return Object(ne.g)(pg,lc({},J,oe,{model:a}))}},{key:"render",value:function(){var o=this.props.model.text;if(o)return Object(ne.g)("g",{onMouseDown:this.mouseDownHandle,onDblClick:this.dblClickHandler},this.getShape())}}]),t}(ne.a),M1=window.navigator.userAgent.match(/MSIE|Trident/)!==null;function Hu(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Hu=function(t){return typeof t}:Hu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hu(e)}function Yu(e,r){return I1(e)||C1(e,r)||D1(e,r)||N1()}function N1(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function D1(e,r){if(!!e){if(typeof e=="string")return gg(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return gg(e,r)}}function gg(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function C1(e,r){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,s,p;try{for(t=t.call(e);!(o=(s=t.next()).done)&&(n.push(s.value),!(r&&n.length===r));o=!0);}catch(m){a=!0,p=m}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function I1(e){if(Array.isArray(e))return e}function j1(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function mg(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function R1(e,r,t){return r&&mg(e.prototype,r),t&&mg(e,t),e}function B1(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&fc(e,r)}function fc(e,r){return fc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},fc(e,r)}function L1(e){var r=F1();return function(){var n=Xu(e),o;if(r){var a=Xu(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return z1(this,o)}}function z1(e,r){if(r&&(Hu(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rr(e)}function rr(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function F1(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function Xu(e){return Xu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Xu(e)}function ur(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var yn=function(e){B1(t,e);var r=L1(t);function t(n){var o;j1(this,t),o=r.call(this),ur(rr(o),"t",void 0),ur(rr(o),"moveOffset",void 0),ur(rr(o),"stepDrag",void 0),ur(rr(o),"contextMenuTime",void 0),ur(rr(o),"startTime",void 0),ur(rr(o),"clickTimer",void 0),ur(rr(o),"onDragStart",function(x){var P=x.event,D=P.clientX,B=P.clientY,G=o.props,J=G.model,oe=G.graphModel,ue=oe.getPointByClient({x:D,y:B}),ae=ue.canvasOverlayPosition,Me=ae.x,ge=ae.y;o.moveOffset={x:J.x-Me,y:J.y-ge}}),ur(rr(o),"onDraging",function(x){var P=x.event,D=o.props,B=D.model,G=D.graphModel,J=G.editConfigModel,oe=J.stopMoveGraph,ue=J.autoExpand,ae=G.transformModel,Me=G.width,ge=G.height,me=G.gridSize;B.isDragging=!0;var _e=P.clientX,Ie=P.clientY,Ze=G.getPointByClient({x:_e,y:Ie}),ke=Ze.canvasOverlayPosition,pt=ke.x,vt=ke.y,lr=ae.CanvasPointToHtmlPoint([pt,vt]),Er=Yu(lr,2),nn=Er[0],zn=Er[1];if(pt=pt+o.moveOffset.x,vt=vt+o.moveOffset.y,pt=So(pt,me),vt=So(vt,me),!Me||!ge){G.moveNode2Coordinate(B.id,pt,vt);return}var ao=nn<0||zn<0||nn>Me||zn>ge;if(!(ue&&!oe&&ao)){var Ho=ae.CanvasPointToHtmlPoint([pt-B.width/2,vt-B.height/2]),Fn=Yu(Ho,2),Yo=Fn[0],ed=Fn[1],PI=ae.CanvasPointToHtmlPoint([pt+B.width/2,vt+B.height/2]),Om=Yu(PI,2),TI=Om[0],wI=Om[1],zl=Math.max(me,20),Xo=[];Yo<0?Xo=[zl,0]:TI>G.width?Xo=[-zl,0]:ed<0?Xo=[0,zl]:wI>G.height&&(Xo=[0,-zl]),o.t&&ac(o.t),Xo.length>0&&!oe&&ue?o.t=ag(function(){var MI=Xo,Em=Yu(MI,2),xm=Em[0],Sm=Em[1];ae.translate(xm,Sm),G.moveNode(B.id,-xm/ae.SCALE_X,-Sm/ae.SCALE_X)}):G.moveNode2Coordinate(B.id,pt,vt)}}),ur(rr(o),"onDragEnd",function(){o.t&&ac(o.t);var x=o.props.model;x.isDragging=!1}),ur(rr(o),"handleClick",function(x){if(!!o.startTime){var P=new Date().getTime()-o.startTime;if(!(P>200)){var D=o.props,B=D.model,G=D.graphModel,J=B.getData(),oe=G.getPointByClient({x:x.clientX,y:x.clientY}),ue={data:J,e:x,position:oe},ae=x.button===2,Me=x.detail===2;if(!ae){var ge=G.editConfigModel;G.selectNodeById(B.id,kp(x,ge)),o.toFront(),Me?(ge.nodeTextEdit&&B.text.editable&&(B.setSelected(!1),G.setElementStateById(B.id,Et.TEXT_EDIT)),G.eventCenter.emit(it.NODE_DBCLICK,ue)):(G.eventCenter.emit(it.ELEMENT_CLICK,ue),G.eventCenter.emit(it.NODE_CLICK,ue))}}}}),ur(rr(o),"handleContextMenu",function(x){x.preventDefault();var P=o.props,D=P.model,B=P.graphModel,G=D.getData(),J=B.getPointByClient({x:x.clientX,y:x.clientY});B.setElementStateById(D.id,Et.SHOW_MENU,J.domOverlayPosition),B.selectNodeById(D.id),B.eventCenter.emit(it.NODE_CONTEXTMENU,{data:G,e:x,position:J}),o.toFront()}),ur(rr(o),"handleMouseDown",function(x){var P=o.props,D=P.model,B=P.graphModel;o.toFront(),o.startTime=new Date().getTime();var G=B.editConfigModel;G.adjustNodePosition&&D.draggable&&o.stepDrag&&o.stepDrag.handleMouseDown(x)}),ur(rr(o),"setHoverON",function(x){var P=o.state.isHovered;if(!P){o.setState({isHovered:!0});var D=o.props,B=D.model,G=D.graphModel,J=B.getData();B.setHovered(!0),G.eventCenter.emit(it.NODE_MOUSEENTER,{data:J,e:x})}}),ur(rr(o),"setHoverOFF",function(x){o.setState({isHovered:!1});var P=o.props,D=P.model,B=P.graphModel,G=D.getData();D.setHovered(!1),B.eventCenter.emit(it.NODE_MOUSELEAVE,{data:G,e:x})}),ur(rr(o),"onMouseOut",function(x){M1&&o.setHoverOFF(x)});var a=n.graphModel,s=a.gridSize,p=a.eventCenter,m=n.model;return o.stepDrag=new to({onDragStart:o.onDragStart,onDraging:o.onDraging,onDragEnd:o.onDragEnd,step:s,eventType:"NODE",isStopPropagation:!1,eventCenter:p,model:m}),o.state={isHovered:!1},o}return R1(t,[{key:"getAnchorShape",value:function(o){return null}},{key:"getAnchors",value:function(){var o=this,a=this.props,s=a.model,p=a.graphModel,m=s.isSelected,x=s.isHitable,P=s.isDragging,D=this.state.isHovered;if(x&&(m||D)&&!P){var B=s.getAnchorLineStyle();return Ea(s.anchors,function(G,J){var oe=s.getAnchorStyle(G);return Object(ne.g)(l1,{anchorData:G,node:o,style:oe,edgeStyle:B,anchorIndex:J,nodeModel:s,graphModel:p,setHoverOFF:o.setHoverOFF})})}return[]}},{key:"getText",value:function(){var o=this.props,a=o.model,s=o.graphModel;if(a.state===Et.TEXT_EDIT)return"";if(a.text){var p=s.editConfigModel,m=!1;return(a.text.draggable||p.nodeTextDraggable)&&(m=!0),Object(ne.g)(vg,{editable:p.nodeTextEdit&&a.text.editable,model:a,graphModel:s,draggable:m})}}},{key:"getStateClassName",value:function(){var o=this.props.model,a=o.state,s=o.isDraging,p=o.isSelected,m="lf-node";switch(a){case Et.ALLOW_CONNECT:m+=" lf-node-allow";break;case Et.NOT_ALLOW_CONNECT:m+=" lf-node-not-allow";break;default:m+=" lf-node-default";break}return s&&(m+=" lf-isDragging"),p&&(m+=" lf-node-selected"),m}},{key:"toFront",value:function(){var o=this.props,a=o.model,s=o.graphModel,p=s.overlapMode;p!==mr.INCREASE&&a.autoToFront&&s.toFront(a.id)}},{key:"render",value:function(){var o=this.props,a=o.model,s=o.graphModel,p=s.editConfigModel,m=p.hideAnchors,x=p.adjustNodePosition,P=s.gridSize,D=s.transformModel.SCALE_X,B=a.isHitable,G=a.draggable,J=Object(ne.g)("g",{className:"lf-node-content"},this.getShape(),this.getText(),m?null:this.getAnchors()),oe;return B?(x&&G&&this.stepDrag.setStep(P*D),oe=Object(ne.g)("g",{className:this.getStateClassName(),onMouseDown:this.handleMouseDown,onMouseUp:this.handleClick,onMouseEnter:this.setHoverON,onMouseOver:this.setHoverON,onMouseLeave:this.setHoverOFF,onMouseOut:this.onMouseOut,onContextMenu:this.handleContextMenu},J)):oe=Object(ne.g)("g",{className:this.getStateClassName()},J),oe}}],[{key:"getModel",value:function(o){return o}}]),t}(ne.a);function Wu(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Wu=function(t){return typeof t}:Wu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wu(e)}function cc(){return cc=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},cc.apply(this,arguments)}function _1(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function bg(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function k1(e,r,t){return r&&bg(e.prototype,r),t&&bg(e,t),e}function G1(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&dc(e,r)}function dc(e,r){return dc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},dc(e,r)}function U1(e){var r=X1();return function(){var n=Ku(e),o;if(r){var a=Ku(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return H1(this,o)}}function H1(e,r){if(r&&(Wu(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Y1(e)}function Y1(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function X1(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function Ku(e){return Ku=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Ku(e)}var pc=function(e){G1(t,e);var r=U1(t);function t(){return _1(this,t),r.apply(this,arguments)}return k1(t,[{key:"getShape",value:function(){var o=this.props.model,a=o.getNodeStyle();return Object(ne.g)(In,cc({},a,{x:o.x,y:o.y,width:o.width,height:o.height,radius:o.radius}))}}]),t}(yn);function Vu(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Vu=function(t){return typeof t}:Vu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vu(e)}function hc(){return hc=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},hc.apply(this,arguments)}function W1(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Og(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function K1(e,r,t){return r&&Og(e.prototype,r),t&&Og(e,t),e}function V1(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&yc(e,r)}function yc(e,r){return yc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},yc(e,r)}function Q1(e){var r=$1();return function(){var n=Qu(e),o;if(r){var a=Qu(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return J1(this,o)}}function J1(e,r){if(r&&(Vu(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Z1(e)}function Z1(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $1(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function Qu(e){return Qu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Qu(e)}var vc=function(e){V1(t,e);var r=Q1(t);function t(){return W1(this,t),r.apply(this,arguments)}return K1(t,[{key:"getShape",value:function(){var o=this.props.model,a=o.x,s=o.y,p=o.r,m=o.getNodeStyle();return Object(ne.g)(vi,hc({},m,{x:a,y:s,r:p}))}}]),t}(yn);function Ju(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ju=function(t){return typeof t}:Ju=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ju(e)}function q1(e,r){return nN(e)||rN(e,r)||tN(e,r)||eN()}function eN(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tN(e,r){if(!!e){if(typeof e=="string")return Eg(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Eg(e,r)}}function Eg(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function rN(e,r){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,s,p;try{for(t=t.call(e);!(o=(s=t.next()).done)&&(n.push(s.value),!(r&&n.length===r));o=!0);}catch(m){a=!0,p=m}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function nN(e){if(Array.isArray(e))return e}function xg(e){var r=e.points,t=e.className,n={fill:"transparent",fillOpacity:1,strokeWidth:1,stroke:"#000",strokeOpacity:1,points:""};return Object.entries(e).forEach(function(o){var a=q1(o,2),s=a[0],p=a[1],m=Ju(p);m!=="object"&&(n[s]=p)}),t?n.className="lf-basic-shape ".concat(t):n.className="lf-basic-shape",n.points=r.map(function(o){return o.join(",")}).join(" "),Object(ne.g)("polygon",n)}function Zu(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Zu=function(t){return typeof t}:Zu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zu(e)}function gc(){return gc=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},gc.apply(this,arguments)}function oN(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Sg(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function iN(e,r,t){return r&&Sg(e.prototype,r),t&&Sg(e,t),e}function aN(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&mc(e,r)}function mc(e,r){return mc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},mc(e,r)}function uN(e){var r=fN();return function(){var n=$u(e),o;if(r){var a=$u(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return lN(this,o)}}function lN(e,r){if(r&&(Zu(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sN(e)}function sN(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fN(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function $u(e){return $u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},$u(e)}var bc=function(e){aN(t,e);var r=uN(t);function t(){return oN(this,t),r.apply(this,arguments)}return iN(t,[{key:"getShape",value:function(){var o=this.props.model,a=o.x,s=o.y,p=o.width,m=o.height,x=o.points,P=o.getNodeStyle(),D={transform:"matrix(1 0 0 1 ".concat(a-p/2," ").concat(s-m/2,")")};return Object(ne.g)("g",D,Object(ne.g)(xg,gc({},P,{points:x,x:a,y:s})))}}]),t}(yn);function qu(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?qu=function(t){return typeof t}:qu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qu(e)}function Oc(){return Oc=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},Oc.apply(this,arguments)}function cN(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Ag(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function dN(e,r,t){return r&&Ag(e.prototype,r),t&&Ag(e,t),e}function pN(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Ec(e,r)}function Ec(e,r){return Ec=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Ec(e,r)}function hN(e){var r=gN();return function(){var n=el(e),o;if(r){var a=el(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return yN(this,o)}}function yN(e,r){if(r&&(qu(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vN(e)}function vN(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function gN(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function el(e){return el=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},el(e)}var xc=function(e){pN(t,e);var r=hN(t);function t(){return cN(this,t),r.apply(this,arguments)}return dN(t,[{key:"getShape",value:function(){var o=this.props.model,a=o.getNodeStyle();return Object(ne.g)("g",null,Object(ne.g)(xg,Oc({},a,{points:o.points,x:o.x,y:o.y})))}}]),t}(yn);function tl(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?tl=function(t){return typeof t}:tl=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tl(e)}function mN(e,r){return xN(e)||EN(e,r)||ON(e,r)||bN()}function bN(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ON(e,r){if(!!e){if(typeof e=="string")return Pg(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Pg(e,r)}}function Pg(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function EN(e,r){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,s,p;try{for(t=t.call(e);!(o=(s=t.next()).done)&&(n.push(s.value),!(r&&n.length===r));o=!0);}catch(m){a=!0,p=m}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function xN(e){if(Array.isArray(e))return e}function SN(e){var r=e.x,t=r===void 0?0:r,n=e.y,o=n===void 0?0:n,a=e.rx,s=a===void 0?4:a,p=e.ry,m=p===void 0?4:p,x=e.className,P={cx:t,cy:o,rx:s,ry:m,fill:"transparent",fillOpacity:1,strokeWidth:"1",stroke:"#000",strokeOpacity:1};return Object.entries(e).forEach(function(D){var B=mN(D,2),G=B[0],J=B[1],oe=tl(J);oe!=="object"&&(P[G]=J)}),x?P.className="lf-basic-shape ".concat(x):P.className="lf-basic-shape",Object(ne.g)("ellipse",P)}function rl(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?rl=function(t){return typeof t}:rl=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rl(e)}function Sc(){return Sc=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},Sc.apply(this,arguments)}function AN(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Tg(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function PN(e,r,t){return r&&Tg(e.prototype,r),t&&Tg(e,t),e}function TN(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Ac(e,r)}function Ac(e,r){return Ac=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Ac(e,r)}function wN(e){var r=DN();return function(){var n=nl(e),o;if(r){var a=nl(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return MN(this,o)}}function MN(e,r){if(r&&(rl(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return NN(e)}function NN(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function DN(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function nl(e){return nl=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},nl(e)}var Pc=function(e){TN(t,e);var r=wN(t);function t(){return AN(this,t),r.apply(this,arguments)}return PN(t,[{key:"getShape",value:function(){var o=this.props.model,a=o.getNodeStyle();return Object(ne.g)(SN,Sc({},a,{x:o.x,y:o.y,rx:o.rx,ry:o.ry}))}}]),t}(yn);function ol(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ol=function(t){return typeof t}:ol=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ol(e)}function wg(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function Mg(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?wg(Object(t),!0).forEach(function(n){CN(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):wg(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function CN(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function IN(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Ng(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function jN(e,r,t){return r&&Ng(e.prototype,r),t&&Ng(e,t),e}function RN(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Tc(e,r)}function Tc(e,r){return Tc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Tc(e,r)}function BN(e){var r=FN();return function(){var n=il(e),o;if(r){var a=il(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return LN(this,o)}}function LN(e,r){if(r&&(ol(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zN(e)}function zN(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function FN(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function il(e){return il=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},il(e)}var wc=function(e){RN(t,e);var r=BN(t);function t(){return IN(this,t),r.apply(this,arguments)}return jN(t,[{key:"getBackgroud",value:function(){var o=this.props.model,a=o.getTextStyle(),s=o.text;if(s&&s.value&&a.background&&a.background.fill!=="transparnet"){var p=s.x,m=s.y,x=o.width,P=o.height,D=Mg(Mg({},a.background),{},{x:p,y:m-1,width:x,height:P});return Object(ne.g)(In,D)}}},{key:"getShape",value:function(){return Object(ne.g)("g",null,this.getBackgroud())}}]),t}(yn);function al(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?al=function(t){return typeof t}:al=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},al(e)}function Mc(){return Mc=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},Mc.apply(this,arguments)}function _N(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Dg(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function kN(e,r,t){return r&&Dg(e.prototype,r),t&&Dg(e,t),e}function GN(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Nc(e,r)}function Nc(e,r){return Nc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Nc(e,r)}function UN(e){var r=YN();return function(){var n=ul(e),o;if(r){var a=ul(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return HN(this,o)}}function HN(e,r){if(r&&(al(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ei(e)}function Ei(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function YN(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function ul(e){return ul=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},ul(e)}function ll(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var Dc=function(e){GN(t,e);var r=UN(t);function t(){var n;_N(this,t);for(var o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];return n=r.call.apply(r,[this].concat(a)),ll(Ei(n),"ref",void 0),ll(Ei(n),"currrentProperties",void 0),ll(Ei(n),"preProperties",void 0),ll(Ei(n),"setRef",function(p){n.ref=p}),n}return kN(t,[{key:"rootEl",get:function(){return this.ref}},{key:"setHtml",value:function(o){o.appendChild(document.createElement("div"))}},{key:"shouldUpdate",value:function(){if(!(this.preProperties&&this.preProperties===this.currrentProperties))return this.preProperties=this.currrentProperties,!0}},{key:"componentDidMount",value:function(){this.shouldUpdate()&&this.setHtml(this.rootEl)}},{key:"componentDidUpdate",value:function(){this.shouldUpdate()&&this.setHtml(this.rootEl)}},{key:"getShape",value:function(){var o=this.props.model,a=o.x,s=o.y,p=o.height,m=o.width,x=o.getNodeStyle();return this.currrentProperties=JSON.stringify(o.properties),Object(ne.g)("foreignObject",Mc({},x,{x:a-m/2,y:s-p/2,width:m,height:p,ref:this.setRef}))}}]),t}(yn);function sl(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?sl=function(t){return typeof t}:sl=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sl(e)}function Cc(){return Cc=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},Cc.apply(this,arguments)}function Cg(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function oo(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Cg(Object(t),!0).forEach(function(n){Rc(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Cg(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function XN(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Ig(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function WN(e,r,t){return r&&Ig(e.prototype,r),t&&Ig(e,t),e}function KN(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Ic(e,r)}function Ic(e,r){return Ic=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Ic(e,r)}function VN(e){var r=JN();return function(){var n=fl(e),o;if(r){var a=fl(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return QN(this,o)}}function QN(e,r){if(r&&(sl(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jc(e)}function jc(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function JN(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function fl(e){return fl=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},fl(e)}function Rc(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var ZN=function(e){KN(t,e);var r=VN(t);function t(n){var o;return XN(this,t),o=r.call(this,n),Rc(jc(o),"setHoverON",function(){o.setState({isHoverd:!0})}),Rc(jc(o),"setHoverOFF",function(){o.setState({isHoverd:!1})}),o.state={isHoverd:!1},o}return WN(t,[{key:"getBackgroud",value:function(){var o=this.props.model,a=o.getTextStyle(),s=o.text,p=a.background||{},m=this.state.isHoverd;if(m&&a.hover&&a.hover.background&&(p=oo(oo({},p),a.hover.background)),s&&s.value&&p.fill!=="transparent"){var x=a.fontSize,P=a.overflowMode,D=a.lineHeight,B=a.wrapPadding,G=a.textWidth,J=s.value,oe=s.x,ue=s.y,ae=String(J).split(/[\r\n]/g),Me=ae.length,ge;if(P==="autoWrap"&&G){var me=Kp({rows:ae,style:{fontSize:"".concat(x,"px"),width:"".concat(G,"px"),lineHeight:D,padding:B},rowsLength:Me,className:"lf-get-text-height"});ge=oo(oo({},p),{},{x:oe-1,y:ue-1,width:G,height:me})}else{ae&&ae.forEach(function(pt){zh(pt)});var _e=ff({rows:ae,fontSize:x,rowsLength:Me}),Ie=_e.width,Ze=_e.height;if(typeof p.wrapPadding=="string"){var ke=p.wrapPadding.split(",").filter(function(pt){return pt.trim()}).map(function(pt){return parseFloat(pt.trim())});ke.length>0&&ke.length<=4&&(ke.length===1?ke=[ke[0],ke[0],ke[0],ke[0]]:ke.length===2?ke=[ke[0],ke[1],ke[0],ke[1]]:ke.length===3&&(ke=[ke[0],ke[1],ke[2],ke[1]]),Ie+=ke[1]+ke[3],Ze+=ke[0]+ke[2],oe=oe+(ke[1]-ke[3])/2,ue=ue+(ke[2]-ke[0])/2)}ge=oo(oo({},p),{},{x:oe-1,y:ue-1,width:Ie,height:Ze})}return Object(ne.g)(In,ge)}}},{key:"getShape",value:function(){var o=this.props.model,a=o.text,s=a.value,p=a.x,m=a.y;if(!!s){var x=o.getTextStyle(),P=oo({x:p,y:m,className:"lf-element-text",value:s},x);return Object(ne.g)("g",{className:"lf-line-text",onMouseEnter:this.setHoverON,onMouseLeave:this.setHoverOFF},this.getBackgroud(),Object(ne.g)(pg,Cc({},P,{model:o})))}}}]),t}(vg);function cl(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?cl=function(t){return typeof t}:cl=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cl(e)}function Bc(){return Bc=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},Bc.apply(this,arguments)}function jg(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function vn(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?jg(Object(t),!0).forEach(function(n){_r(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):jg(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function $N(e,r){return rD(e)||tD(e,r)||eD(e,r)||qN()}function qN(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eD(e,r){if(!!e){if(typeof e=="string")return Rg(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Rg(e,r)}}function Rg(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function tD(e,r){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,s,p;try{for(t=t.call(e);!(o=(s=t.next()).done)&&(n.push(s.value),!(r&&n.length===r));o=!0);}catch(m){a=!0,p=m}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function rD(e){if(Array.isArray(e))return e}function nD(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Bg(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function oD(e,r,t){return r&&Bg(e.prototype,r),t&&Bg(e,t),e}function iD(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Lc(e,r)}function Lc(e,r){return Lc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Lc(e,r)}function aD(e){var r=lD();return function(){var n=dl(e),o;if(r){var a=dl(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return uD(this,o)}}function uD(e,r){if(r&&(cl(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Fr(e)}function Fr(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function lD(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function dl(e){return dl=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},dl(e)}function _r(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var qr;(function(e){e.SOURCE="SOURCE",e.TARGET="TARGET"})(qr||(qr={}));var Lg=function(e){iD(t,e);var r=aD(t);function t(){var n;return nD(this,t),n=r.call(this),_r(Fr(n),"dragHandler",void 0),_r(Fr(n),"oldEdge",void 0),_r(Fr(n),"preTargetNode",void 0),_r(Fr(n),"targetRuleResults",void 0),_r(Fr(n),"sourceRuleResults",void 0),_r(Fr(n),"onDragStart",function(){var o=n.props,a=o.x,s=o.y,p=o.edgeModel,m=p.startPoint,x=p.endPoint,P=p.pointsList;n.oldEdge={startPoint:m,endPoint:x,pointsList:P},n.setState({endX:a,endY:s,draging:!0}),p.isHitable=!1}),_r(Fr(n),"onDraging",function(o){var a=o.deltaX,s=o.deltaY,p=n.state,m=p.endX,x=p.endY,P=n.props,D=P.graphModel,B=P.type,G=D.transformModel,J=G.moveCanvasPointByHtml([m,x],a,s),oe=$N(J,2),ue=oe[0],ae=oe[1];n.setState({endX:ue,endY:ae,draging:!0});var Me=n.props.edgeModel,ge=Ma({x:m,y:x},D);if(ge&&ge.node&&n.isAllowAdjust(ge)){var me,_e=Me.startPoint,Ie=Me.endPoint,Ze=Me.sourceNode,ke=Me.targetNode;B===qr.SOURCE?me={startPoint:{x:ge.anchor.x,y:ge.anchor.y},endPoint:{x:Ie.x,y:Ie.y},sourceNode:ge.node,targetNode:ke}:B===qr.TARGET&&(me={startPoint:{x:_e.x,y:_e.y},endPoint:{x:ge.anchor.x,y:ge.anchor.y},sourceNode:Ze,targetNode:ge.node}),Me.updateAfterAdjustStartAndEnd(me)}else B===qr.SOURCE?Me.updateStartPoint({x:ue,y:ae}):B===qr.TARGET&&Me.updateEndPoint({x:ue,y:ae})}),_r(Fr(n),"onDragEnd",function(){var o;n.setState({draging:!1});var a=n.props,s=a.graphModel,p=a.edgeModel,m=a.type;p.isHitable=!0;var x=n.state,P=x.endX,D=x.endY,B=x.draging,G=Ma({x:P,y:D},s);if(!!B){if(G&&G.node&&n.isAllowAdjust(G)){var J,oe=p.getData(),ue=vn(vn({},oe),{},{sourceAnchorId:"",targetAnchorId:"",text:(oe==null||(J=oe.text)===null||J===void 0?void 0:J.value)||""});m===qr.SOURCE?ue=vn(vn({},ue),{},{sourceNodeId:G.node.id,sourceAnchorId:G.anchor.id,startPoint:{x:G.anchor.x,y:G.anchor.y},targetNodeId:p.targetNodeId,endPoint:vn({},p.endPoint)}):m===qr.TARGET&&(ue=vn(vn({},ue),{},{sourceNodeId:p.sourceNodeId,startPoint:vn({},p.startPoint),targetNodeId:G.node.id,targetAnchorId:G.anchor.id,endPoint:{x:G.anchor.x,y:G.anchor.y}})),s.deleteEdgeById(p.id);var ae=s.addEdge(vn({},ue));s.eventCenter.emit(it.EDGE_EXCHANGE_NODE,{data:{newEdge:ae.getData(),oldEdge:p.getData()}})}else n.recoveryEdge();(o=n.preTargetNode)===null||o===void 0||o.setElementState(Et.DEFAULT)}}),_r(Fr(n),"recoveryEdge",function(){var o=n.props.edgeModel,a=n.oldEdge,s=a.startPoint,p=a.endPoint,m=a.pointsList;o.updateStartPoint(s),o.updateEndPoint(p),o.modelType!==dt.LINE_EDGE&&(o.pointsList=m,o.initPoints())}),_r(Fr(n),"getAdjustPointStyle",function(){var o=n.props.graphModel.theme,a=o.edgeAdjust;return a}),n.state={draging:!1,endX:0,endY:0},n.targetRuleResults=new Map,n.sourceRuleResults=new Map,n.dragHandler=Af({onDragStart:n.onDragStart,onDraging:n.onDraging,onDragEnd:n.onDragEnd}),n}return oD(t,[{key:"isAllowAdjust",value:function(o){var a=this.props,s=a.edgeModel;s.id;var p=s.sourceNode,m=s.targetNode,x=s.sourceAnchorId,P=s.targetAnchorId,D=a.type,B=null,G=null,J=null,oe=null;if(D===qr.SOURCE?(B=o.node,G=m,J=o.anchor,oe=m.getAnchorInfo(P)):(B=p,G=o.node,oe=o.anchor,J=p.getAnchorInfo(x)),this.preTargetNode&&this.preTargetNode!==o.node&&this.preTargetNode.setElementState(Et.DEFAULT),this.preTargetNode=o.node,oe.id===J.id)return!1;var ue="".concat(B.id,"_").concat(G.id,"_").concat(J.id,"_").concat(oe.id);if(!this.targetRuleResults.has(ue)){var ae=B.isAllowConnectedAsSource(G,J,oe),Me=G.isAllowConnectedAsTarget(B,J,oe);this.sourceRuleResults.set(ue,Da(ae)),this.targetRuleResults.set(ue,Da(Me))}var ge=this.sourceRuleResults.get(ue),me=ge.isAllPass,_e=this.targetRuleResults.get(ue),Ie=_e.isAllPass,Ze=me&&Ie?Et.ALLOW_CONNECT:Et.NOT_ALLOW_CONNECT;return D===qr.SOURCE?B.setElementState(Ze):G.setElementState(Ze),me&&Ie}},{key:"render",value:function(){var o=this.props,a=o.x,s=o.y,p=this.state.draging,m=this.getAdjustPointStyle();return Object(ne.g)("g",null,Object(ne.g)(vi,Bc({className:"lf-edge-adjust-point"},m,{x:a,y:s,onMouseDown:this.dragHandler,"pointer-events":p?"none":""})))}}]),t}(ne.a);function pl(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?pl=function(t){return typeof t}:pl=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pl(e)}function hl(){return hl=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},hl.apply(this,arguments)}function zg(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function Fg(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?zg(Object(t),!0).forEach(function(n){Gr(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):zg(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function sD(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function _g(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function fD(e,r,t){return r&&_g(e.prototype,r),t&&_g(e,t),e}function cD(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&zc(e,r)}function zc(e,r){return zc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},zc(e,r)}function dD(e){var r=hD();return function(){var n=yl(e),o;if(r){var a=yl(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return pD(this,o)}}function pD(e,r){if(r&&(pl(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kr(e)}function kr(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hD(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function yl(e){return yl=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},yl(e)}function Gr(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var xi=function(e){cD(t,e);var r=dD(t);function t(){var n;sD(this,t);for(var o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];return n=r.call.apply(r,[this].concat(a)),Gr(kr(n),"startTime",void 0),Gr(kr(n),"contextMenuTime",void 0),Gr(kr(n),"clickTimer",void 0),Gr(kr(n),"handleHover",function(p,m){var x=n.props,P=x.model,D=x.graphModel.eventCenter;P.setHovered(p);var B=p?it.EDGE_MOUSEENTER:it.EDGE_MOUSELEAVE,G=P.getData();D.emit(B,{data:G,e:m})}),Gr(kr(n),"setHoverON",function(p){var m=n.props.model.isHovered;m||n.handleHover(!0,p)}),Gr(kr(n),"setHoverOFF",function(p){n.handleHover(!1,p)}),Gr(kr(n),"handleContextMenu",function(p){p.preventDefault(),n.contextMenuTime=new Date().getTime(),n.clickTimer&&clearTimeout(n.clickTimer);var m=n.props,x=m.model,P=m.graphModel,D=P.getPointByClient({x:p.clientX,y:p.clientY});P.setElementStateById(x.id,Et.SHOW_MENU,D.domOverlayPosition),n.toFront(),P.selectEdgeById(x.id);var B=x==null?void 0:x.getData();P.eventCenter.emit(it.EDGE_CONTEXTMENU,{data:B,e:p,position:D})}),Gr(kr(n),"handleMouseDown",function(p){p.stopPropagation(),n.startTime=new Date().getTime()}),Gr(kr(n),"handleMouseUp",function(p){if(!!n.startTime){var m=new Date().getTime()-n.startTime;if(!(m>200)){var x=p.button===2;if(!x){var P=p.detail===2,D=n.props,B=D.model,G=D.graphModel,J=B==null?void 0:B.getData(),oe=G.getPointByClient({x:p.clientX,y:p.clientY});if(P){var ue=G.editConfigModel,ae=G.textEditElement;if(ae&&ae.id===B.id&&G.setElementStateById(B.id,Et.DEFAULT),ue.edgeTextEdit&&B.text.editable&&G.setElementStateById(B.id,Et.TEXT_EDIT),B.modelType===dt.POLYLINE_EDGE){var Me=B,ge=G.getPointByClient({x:p.x,y:p.y}),me=ge.canvasOverlayPosition,_e=me.x,Ie=me.y,Ze=_h({x:_e,y:Ie},Me.points);Me.dbClickPosition=Ze}G.eventCenter.emit(it.EDGE_DBCLICK,{data:J,e:p,position:oe})}else G.eventCenter.emit(it.ELEMENT_CLICK,{data:J,e:p,position:oe}),G.eventCenter.emit(it.EDGE_CLICK,{data:J,e:p,position:oe});var ke=G.editConfigModel;G.selectEdgeById(B.id,kp(p,ke)),n.toFront()}}}}),Gr(kr(n),"getIsDraging",function(){return!1}),n}return fD(t,[{key:"getShape",value:function(){}},{key:"getTextStyle",value:function(){}},{key:"getText",value:function(){var o=this.props,a=o.model,s=o.graphModel;if(a.state===Et.TEXT_EDIT)return"";var p=!1,m=s.editConfigModel;return(a.text.draggable||m.edgeTextDraggable)&&(p=!0),Object(ne.g)(ZN,{editable:m.edgeTextEdit&&a.text.editable,model:a,graphModel:s,draggable:p})}},{key:"getArrowInfo",value:function(){var o=this.props.model,a=o.startPoint,s=o.endPoint,p=o.isSelected,m=this.state,x=m.hover;return{start:a,end:s,hover:x,isSelected:p}}},{key:"getArrowStyle",value:function(){var o=this.props,a=o.model,s=o.graphModel,p=a.getEdgeStyle(),m=a.getEdgeAnimationStyle(),x=s.theme.arrow,P=a.isAnimation?m.stroke:p.stroke;return Fg(Fg({},p),{},{fill:P,stroke:P},x)}},{key:"getArrow",value:function(){return Object(ne.g)("g",null,Object(ne.g)("defs",null,this.getStartArrow(),this.getEndArrow()))}},{key:"getStartArrow",value:function(){var o=this.props,a=o.model,s=o.graphModel,p=a.id,m=s.theme.arrow,x=m.offset,P=m.verticalLength,D=this.getArrowStyle(),B=D.stroke,G=D.strokeWidth;return Object(ne.g)("marker",{id:"marker-start-".concat(p),refX:"-1",overflow:"visible",orient:"auto",markerUnits:"userSpaceOnUse"},Object(ne.g)("path",{stroke:B,fill:B,strokeWidth:G,d:"M 0 0 L ".concat(x," -").concat(P," L ").concat(x," ").concat(P," Z")}))}},{key:"getEndArrow",value:function(){var o=this.props,a=o.model,s=o.graphModel,p=a.id,m=s.theme.arrow,x=m.offset,P=m.verticalLength,D=this.getArrowStyle(),B=D.stroke,G=D.strokeWidth;return Object(ne.g)("marker",{id:"marker-end-".concat(p),refX:"-1",overflow:"visible",orient:"auto",markerUnits:"userSpaceOnUse"},Object(ne.g)("path",{stroke:B,fill:B,strokeWidth:G,transform:"rotate(180)",d:"M 0 0 L ".concat(x," -").concat(P," L ").concat(x," ").concat(P," Z")}))}},{key:"getAdjustPoints",value:function(){var o=this.props,a=o.model,s=o.graphModel,p=a.getAdjustStart(),m=a.getAdjustEnd();return Object(ne.g)("g",null,Object(ne.g)(Lg,hl({type:"SOURCE"},p,{edgeModel:a,graphModel:s})),Object(ne.g)(Lg,hl({type:"TARGET"},m,{edgeModel:a,graphModel:s})))}},{key:"getAnimation",value:function(){}},{key:"getAppendWidth",value:function(){return Object(ne.g)("g",null)}},{key:"getAppend",value:function(){return Object(ne.g)("g",{className:"lf-edge-append"},this.getAppendWidth())}},{key:"toFront",value:function(){var o=this.props,a=o.graphModel,s=o.model,p=a.overlapMode;p!==mr.INCREASE&&a.toFront(s.id)}},{key:"render",value:function(){var o=this.props,a=o.model,s=a.isSelected,p=a.isHitable,m=o.graphModel,x=this.getIsDraging(),P=m.editConfigModel.adjustEdgeStartAndEnd,D=m.animation,B=s&&D.edge&&m.getSelectElements().edges.length===1;return Object(ne.g)("g",null,Object(ne.g)("g",{className:["lf-edge",!p&&"pointer-none",s&&"lf-edge-selected"].filter(Boolean).join(" "),onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,onContextMenu:this.handleContextMenu,onMouseOver:this.setHoverON,onMouseEnter:this.setHoverON,onMouseLeave:this.setHoverOFF},this.getShape(),this.getAppend(),B&&this.getAnimation(),this.getText(),this.getArrow()),P&&s&&!x?this.getAdjustPoints():"")}}]),t}(ne.a);function vl(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?vl=function(t){return typeof t}:vl=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vl(e)}function yD(e,r){return bD(e)||mD(e,r)||gD(e,r)||vD()}function vD(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gD(e,r){if(!!e){if(typeof e=="string")return kg(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return kg(e,r)}}function kg(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function mD(e,r){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,s,p;try{for(t=t.call(e);!(o=(s=t.next()).done)&&(n.push(s.value),!(r&&n.length===r));o=!0);}catch(m){a=!0,p=m}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function bD(e){if(Array.isArray(e))return e}function OD(e){var r={d:""};return Object.entries(e).forEach(function(t){var n=yD(t,2),o=n[0],a=n[1],s=vl(a);(o==="style"||s!=="object")&&(r[o]=a)}),Object(ne.g)("path",r)}var ko=OD;function gl(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?gl=function(t){return typeof t}:gl=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gl(e)}function ml(){return ml=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},ml.apply(this,arguments)}function ED(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Gg(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function xD(e,r,t){return r&&Gg(e.prototype,r),t&&Gg(e,t),e}function SD(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Fc(e,r)}function Fc(e,r){return Fc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Fc(e,r)}function AD(e){var r=wD();return function(){var n=bl(e),o;if(r){var a=bl(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return PD(this,o)}}function PD(e,r){if(r&&(gl(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return TD(e)}function TD(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wD(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function bl(e){return bl=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},bl(e)}var _c=function(e){SD(t,e);var r=AD(t);function t(){return ED(this,t),r.apply(this,arguments)}return xD(t,[{key:"getEdge",value:function(){var o=this.props.model,a=o.startPoint,s=o.endPoint,p=o.isAnimation,m=o.arrowConfig,x=o.getEdgeStyle(),P=o.getEdgeAnimationStyle(),D=P.strokeDasharray,B=P.stroke,G=P.strokeDashoffset,J=P.animationName,oe=P.animationDuration,ue=P.animationIterationCount,ae=P.animationTimingFunction,Me=P.animationDirection;return Object(ne.g)(ro,ml({},x,{x1:a.x,y1:a.y,x2:s.x,y2:s.y},m,p?{strokeDasharray:D,stroke:B,style:{strokeDashoffset:G,animationName:J,animationDuration:oe,animationIterationCount:ue,animationTimingFunction:ae,animationDirection:Me}}:{}))}},{key:"getShape",value:function(){return Object(ne.g)("g",null,this.getEdge())}},{key:"getAnimation",value:function(){var o=this.props.model,a=o.getAnimation(),s=a.stroke,p=a.className,m=a.strokeDasharray,x=o.startPoint,P=o.endPoint,D=o.getEdgeStyle();return Object(ne.g)("g",null,Object(ne.g)(ro,ml({},D,{x1:x.x,y1:x.y,x2:P.x,y2:P.y,className:p,strokeDasharray:m,stroke:s})))}},{key:"getAppendWidth",value:function(){var o=this.props.model,a=o.startPoint,s=o.endPoint,p={start:a,end:s},m=EP(p),x=m.d,P=m.strokeWidth,D=m.fill,B=m.strokeDasharray,G=m.stroke;return Object(ne.g)(ko,{d:x,fill:D,strokeWidth:P,stroke:G,strokeDasharray:B})}}]),t}(xi);function Ol(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ol=function(t){return typeof t}:Ol=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ol(e)}function MD(e,r){return ID(e)||CD(e,r)||DD(e,r)||ND()}function ND(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function DD(e,r){if(!!e){if(typeof e=="string")return Ug(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Ug(e,r)}}function Ug(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function CD(e,r){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,s,p;try{for(t=t.call(e);!(o=(s=t.next()).done)&&(n.push(s.value),!(r&&n.length===r));o=!0);}catch(m){a=!0,p=m}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function ID(e){if(Array.isArray(e))return e}function jD(e){var r={points:"",fill:"none"};return Object.entries(e).forEach(function(t){var n=MD(t,2),o=n[0],a=n[1];if(o==="style")r[o]=a;else{var s=Ol(a);s!=="object"&&(r[o]=a)}}),Object(ne.g)("polyline",r)}var Hg=jD;function El(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?El=function(t){return typeof t}:El=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},El(e)}function Yg(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function xl(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Yg(Object(t),!0).forEach(function(n){tn(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Yg(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function Sl(){return Sl=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},Sl.apply(this,arguments)}function RD(e,r){return FD(e)||zD(e,r)||LD(e,r)||BD()}function BD(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LD(e,r){if(!!e){if(typeof e=="string")return Xg(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Xg(e,r)}}function Xg(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function zD(e,r){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,s,p;try{for(t=t.call(e);!(o=(s=t.next()).done)&&(n.push(s.value),!(r&&n.length===r));o=!0);}catch(m){a=!0,p=m}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function FD(e){if(Array.isArray(e))return e}function _D(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Wg(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function kD(e,r,t){return r&&Wg(e.prototype,r),t&&Wg(e,t),e}function GD(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&kc(e,r)}function kc(e,r){return kc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},kc(e,r)}function UD(e){var r=YD();return function(){var n=Al(e),o;if(r){var a=Al(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return HD(this,o)}}function HD(e,r){if(r&&(El(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return en(e)}function en(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function YD(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function Al(e){return Al=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Al(e)}function tn(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var Gc=function(e){GD(t,e);var r=UD(t);function t(){var n;return _D(this,t),n=r.call(this),tn(en(n),"drag",void 0),tn(en(n),"isDraging",void 0),tn(en(n),"appendInfo",void 0),tn(en(n),"dragHandler",void 0),tn(en(n),"onDragStart",function(){var o=n.props.model;o.dragAppendStart()}),tn(en(n),"onDraging",function(o){var a=o.deltaX,s=o.deltaY,p=n.props,m=p.model,x=p.graphModel;n.isDraging=!0;var P=x.transformModel,D=x.editConfigModel,B=P.fixDeltaXY(a,s),G=RD(B,2),J=G[0],oe=G[1],ue=m,ae=D.adjustEdgeMiddle;ae?n.appendInfo=ue.dragAppendSimple(n.appendInfo,{x:J,y:oe}):n.appendInfo=ue.dragAppend(n.appendInfo,{x:J,y:oe})}),tn(en(n),"onDragEnd",function(){var o=n.props,a=o.model,s=o.graphModel.eventCenter,p=a;p.dragAppendEnd(),n.isDraging=!1,n.appendInfo=void 0,s.emit(it.EDGE_ADJUST,{data:p.getData()})}),tn(en(n),"beforeDragStart",function(o,a){a.dragAble&&n.dragHandler(o),n.appendInfo=a}),tn(en(n),"getIsDraging",function(){return n.isDraging}),n.drag=Af({onDragStart:n.onDragStart,onDraging:n.onDraging,onDragEnd:n.onDragEnd,isStopPropagation:!1}),n}return kD(t,[{key:"getEdge",value:function(){var o=this.props.model,a=o.points,s=o.isAnimation,p=o.arrowConfig,m=o.getEdgeStyle(),x=o.getEdgeAnimationStyle(),P=x.strokeDasharray,D=x.stroke,B=x.strokeDashoffset,G=x.animationName,J=x.animationDuration,oe=x.animationIterationCount,ue=x.animationTimingFunction,ae=x.animationDirection;return Object(ne.g)(Hg,Sl({points:a},m,p,s?{strokeDasharray:P,stroke:D,style:{strokeDashoffset:B,animationName:G,animationDuration:J,animationIterationCount:oe,animationTimingFunction:ue,animationDirection:ae}}:{}))}},{key:"getShape",value:function(){return Object(ne.g)("g",null,this.getEdge())}},{key:"getAnimation",value:function(){var o=this.props.model,a=o.getAnimation(),s=a.stroke,p=a.className,m=a.strokeDasharray,x=o.getEdgeStyle();return Object(ne.g)("g",null,Object(ne.g)(Hg,Sl({points:o.points},x,{className:p,strokeDasharray:m,stroke:s})))}},{key:"getArrowInfo",value:function(){var o=this.props.model,a=o.points,s=o.isSelected,p=this.state,m=p.hover,x={start:null,end:null,hover:m,isSelected:s},P=To(a);return P.length>=2&&(x.start=P[P.length-2],x.end=P[P.length-1]),x}},{key:"getAppendAttributes",value:function(o){var a=o.start,s=o.end,p;if(a.x===s.x&&a.y===s.y)p="";else{var m={start:a,end:s,offset:10,verticalLength:5},x=di(xl(xl({},m),{},{type:"start"})),P=di(xl(xl({},m),{},{type:"end"}));p="M".concat(x.leftX," ").concat(x.leftY,` 
      L`).concat(x.rightX," ").concat(x.rightY,` 
      L`).concat(P.rightX," ").concat(P.rightY,`
      L`).concat(P.leftX," ").concat(P.leftY," z")}return{d:p,fill:"transparent",stroke:"transparent",strokeWidth:1,strokeDasharray:"4, 4"}}},{key:"getAppendShape",value:function(o){var a=this.getAppendAttributes(o),s=a.d,p=a.strokeWidth,m=a.fill,x=a.strokeDasharray,P=a.stroke;return Object(ne.g)(ko,{d:s,fill:m,strokeWidth:p,stroke:P,strokeDasharray:x})}},{key:"getAppendWidth",value:function(){for(var o=this,a=this.props,s=a.model,p=a.graphModel,m=s.pointsList,x=s.draggable,P=[],D=m.length,B=function(oe){var ue="lf-polyline-append",ae={start:{x:m[oe].x,y:m[oe].y},end:{x:m[oe+1].x,y:m[oe+1].y},startIndex:oe,endIndex:oe+1,direction:"",dragAble:!0},Me=Object(ne.g)("g",{className:ue},o.getAppendShape(ae)),ge=p.editConfigModel,me=ge.adjustEdge,_e=ge.adjustEdgeMiddle;if(!me||!x)o.dragHandler=function(){};else{o.dragHandler=o.drag;var Ie=ae.startIndex,Ze=ae.endIndex,ke=_e&&(Ie===0||Ze===D-1);ae.dragAble=!ke,ae.start.x===ae.end.x?(ae.dragAble&&(ue+="-ew-resize"),ae.direction=Dt.VERTICAL):ae.start.y===ae.end.y&&(ae.dragAble&&(ue+="-ns-resize"),ae.direction=Dt.HORIZONTAL),Me=Object(ne.g)("g",{className:o.isDraging?"lf-dragging":"lf-drag-able",onMouseDown:function(vt){return o.beforeDragStart(vt,ae)}},Object(ne.g)("g",{className:ue},o.getAppendShape(ae)))}P.push(Me)},G=0;G<D-1;G++)B(G);return Object(ne.g)("g",null,P)}}]),t}(xi);function Pl(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Pl=function(t){return typeof t}:Pl=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pl(e)}function XD(e,r){return QD(e)||VD(e,r)||KD(e,r)||WD()}function WD(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function KD(e,r){if(!!e){if(typeof e=="string")return Kg(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Kg(e,r)}}function Kg(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function VD(e,r){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,s,p;try{for(t=t.call(e);!(o=(s=t.next()).done)&&(n.push(s.value),!(r&&n.length===r));o=!0);}catch(m){a=!0,p=m}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function QD(e){if(Array.isArray(e))return e}function Tl(){return Tl=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},Tl.apply(this,arguments)}function JD(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Vg(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ZD(e,r,t){return r&&Vg(e.prototype,r),t&&Vg(e,t),e}function $D(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Uc(e,r)}function Uc(e,r){return Uc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Uc(e,r)}function qD(e){var r=rC();return function(){var n=wl(e),o;if(r){var a=wl(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return eC(this,o)}}function eC(e,r){if(r&&(Pl(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tC(e)}function tC(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rC(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function wl(e){return wl=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},wl(e)}var Hc=function(e){$D(t,e);var r=qD(t);function t(){return JD(this,t),r.apply(this,arguments)}return ZD(t,[{key:"getEdge",value:function(){var o=this.props.model,a=o.getEdgeStyle(),s=o.path,p=o.isAnimation,m=o.arrowConfig,x=o.getEdgeAnimationStyle(),P=x.strokeDasharray,D=x.stroke,B=x.strokeDashoffset,G=x.animationName,J=x.animationDuration,oe=x.animationIterationCount,ue=x.animationTimingFunction,ae=x.animationDirection;return Object(ne.g)(ko,Tl({d:s},a,m,p?{strokeDasharray:P,stroke:D,style:{strokeDashoffset:B,animationName:G,animationDuration:J,animationIterationCount:oe,animationTimingFunction:ue,animationDirection:ae}}:{}))}},{key:"getShape",value:function(){return Object(ne.g)("g",null,this.getEdge())}},{key:"getAnimation",value:function(){var o=this.props.model,a=o.getAnimation(),s=a.stroke,p=a.className,m=a.strokeDasharray,x=o.getEdgeStyle();return Object(ne.g)("g",null,Object(ne.g)(ko,Tl({d:o.path},x,{className:p,strokeDasharray:m,stroke:s})))}},{key:"getAppendWidth",value:function(){var o=this.props.model.path;return Object(ne.g)(ko,{d:o,strokeWidth:10,stroke:"transparent",fill:"none"})}},{key:"getArrowInfo",value:function(){var o=this.props.model,a=this.state,s=a.hover,p=o,m=p.path,x=p.isSelected,P=xP(m),D=XD(P,2),B=D[0],G=D[1],J={start:B,end:G,hover:s,isSelected:x};return J}}]),t}(xi);function Ml(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ml=function(t){return typeof t}:Ml=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ml(e)}function Qg(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function nC(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Qg(Object(t),!0).forEach(function(n){oC(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Qg(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function oC(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function iC(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Jg(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function aC(e,r,t){return r&&Jg(e.prototype,r),t&&Jg(e,t),e}function uC(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Yc(e,r)}function Yc(e,r){return Yc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Yc(e,r)}function lC(e){var r=cC();return function(){var n=Nl(e),o;if(r){var a=Nl(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return sC(this,o)}}function sC(e,r){if(r&&(Ml(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fC(e)}function fC(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cC(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function Nl(e){return Nl=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Nl(e)}var dC=function(e){uC(t,e);var r=lC(t);function t(){return iC(this,t),r.apply(this,arguments)}return aC(t,[{key:"getArrowAttributes",value:function(){var o=this.props,a=o.arrowInfo,s=o.style,p=a.start,m=a.end,x={start:p,end:m,offset:s.offset,verticalLength:s.verticalLength,type:"end"},P=di(x),D=P.leftX,B=P.leftY,G=P.rightX,J=P.rightY;return nC({d:"M".concat(D," ").concat(B," L").concat(m.x," ").concat(m.y," L").concat(G," ").concat(J," z")},s)}},{key:"getShape",value:function(){var o=this.getArrowAttributes(),a=o.d,s=o.strokeWidth,p=o.stroke,m=o.fill;return Object(ne.g)(ko,{d:a,fill:m,strokeWidth:s,stroke:p})}},{key:"render",value:function(){return Object(ne.g)("g",{className:"lf-arrow"},this.getShape())}}]),t}(ne.a);function pC(e,r){return Xs(e,r)}var Zg=pC;function hC(e){var r=e==null?0:e.length;return r?e[r-1]:void 0}var yC=hC,vC=function(){return Sr.a.Date.now()},Xc=vC,gC=/\s/;function mC(e){for(var r=e.length;r--&&gC.test(e.charAt(r)););return r}var bC=mC,OC=/^\s+/;function EC(e){return e&&e.slice(0,bC(e)+1).replace(OC,"")}var xC=EC,$g=0/0,SC=/^[-+]0x[0-9a-f]+$/i,AC=/^0b[01]+$/i,PC=/^0o[0-7]+$/i,TC=parseInt;function wC(e){if(typeof e=="number")return e;if(ba(e))return $g;if(Pt(e)){var r=typeof e.valueOf=="function"?e.valueOf():e;e=Pt(r)?r+"":r}if(typeof e!="string")return e===0?e:+e;e=xC(e);var t=AC.test(e);return t||PC.test(e)?TC(e.slice(2),t?2:8):SC.test(e)?$g:+e}var qg=wC,MC="Expected a function",NC=Math.max,DC=Math.min;function CC(e,r,t){var n,o,a,s,p,m,x=0,P=!1,D=!1,B=!0;if(typeof e!="function")throw new TypeError(MC);r=qg(r)||0,Pt(t)&&(P=!!t.leading,D="maxWait"in t,a=D?NC(qg(t.maxWait)||0,r):a,B="trailing"in t?!!t.trailing:B);function G(Ie){var Ze=n,ke=o;return n=o=void 0,x=Ie,s=e.apply(ke,Ze),s}function J(Ie){return x=Ie,p=setTimeout(ae,r),P?G(Ie):s}function oe(Ie){var Ze=Ie-m,ke=Ie-x,pt=r-Ze;return D?DC(pt,a-ke):pt}function ue(Ie){var Ze=Ie-m,ke=Ie-x;return m===void 0||Ze>=r||Ze<0||D&&ke>=a}function ae(){var Ie=Xc();if(ue(Ie))return Me(Ie);p=setTimeout(ae,oe(Ie))}function Me(Ie){return p=void 0,B&&n?G(Ie):(n=o=void 0,s)}function ge(){p!==void 0&&clearTimeout(p),x=0,n=m=o=p=void 0}function me(){return p===void 0?s:Me(Xc())}function _e(){var Ie=Xc(),Ze=ue(Ie);if(n=arguments,o=this,m=Ie,Ze){if(p===void 0)return J(m);if(D)return clearTimeout(p),p=setTimeout(ae,r),G(m)}return p===void 0&&(p=setTimeout(ae,r)),s}return _e.cancel=ge,_e.flush=me,_e}var IC=CC,jC=i(166);function RC(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function em(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function BC(e,r,t){return r&&em(e.prototype,r),t&&em(e,t),e}function Ln(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var LC=function(){function e(r){RC(this,e),Ln(this,"undos",[]),Ln(this,"redos",[]),Ln(this,"callbacks",[]),Ln(this,"stopWatch",null),Ln(this,"curData",null),Ln(this,"maxSize",50),Ln(this,"waitTime",100),Ln(this,"eventCenter",void 0),this.eventCenter=r}return BC(e,[{key:"add",value:function(t){Zg(yC(this.undos),t)||(this.undos.push(t),Zg(this.curData,t)||(this.redos=[]),this.eventCenter.emit(it.HISTORY_CHANGE,{data:{undos:this.undos,redos:this.redos,undoAble:this.undos.length>1,redoAble:this.redos.length>0}}),this.undos.length>this.maxSize&&this.undos.shift())}},{key:"undoAble",value:function(){return this.undos.length>1}},{key:"undo",value:function(){if(!!this.undoAble()){var t=this.undos.pop();this.redos.push(t);var n=this.undos.pop();return this.curData=Ct(n),n}}},{key:"redoAble",value:function(){return this.redos.length>0}},{key:"redo",value:function(){if(!!this.redoAble()){var t=this.redos.pop();return this.curData=Ct(t),t}}},{key:"watch",value:function(t){var n=this;this.stopWatch&&this.stopWatch(),this.undos.push(t.modelToGraphData()),this.stopWatch=Object(jC.a)(t,IC(function(){var o=t.modelToHistoryData();o&&n.add(o)},this.waitTime))}}]),e}(),zC=LC;function Dl(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Dl=function(t){return typeof t}:Dl=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dl(e)}var tm,rm,nm;function FC(e,r){return UC(e)||GC(e,r)||kC(e,r)||_C()}function _C(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kC(e,r){if(!!e){if(typeof e=="string")return om(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return om(e,r)}}function om(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function GC(e,r){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,s,p;try{for(t=t.call(e);!(o=(s=t.next()).done)&&(n.push(s.value),!(r&&n.length===r));o=!0);}catch(m){a=!0,p=m}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function UC(e){if(Array.isArray(e))return e}function im(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function Go(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?im(Object(t),!0).forEach(function(n){io(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):im(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function HC(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function am(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function YC(e,r,t){return r&&am(e.prototype,r),t&&am(e,t),e}function XC(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Wc(e,r)}function Wc(e,r){return Wc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Wc(e,r)}function WC(e){var r=VC();return function(){var n=Cl(e),o;if(r){var a=Cl(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return KC(this,o)}}function KC(e,r){if(r&&(Dl(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Uo(e)}function Uo(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function VC(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function Cl(e){return Cl=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Cl(e)}function io(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var Kc=Ur(tm=(nm=rm=function(e){XC(t,e);var r=WC(t);function t(){var n;return HC(this,t),n=r.call(this),io(Uo(n),"ref",Object(ne.f)()),io(Uo(n),"__prevText",{type:"",text:"",id:""}),io(Uo(n),"keyupHandler",function(o){var a=n.props.graphModel.textEditElement;o.key==="Enter"&&o.altKey&&a.setElementState(0)}),io(Uo(n),"inputHandler",function(o){var a=o.target,s=a.innerText,p=n.props.graphModel.textEditElement;n.__prevText={type:p.type,text:s.replace(/(\r\n)+$|(\n)+$/,""),id:p.id}}),io(Uo(n),"keydownHandler",function(o){o.stopPropagation()}),n.state={style:{left:0,top:0}},n}return YC(t,[{key:"componentDidMount",value:function(){this.ref.current&&(this.ref.current.focus(),this.placeCaretAtEnd(this.ref.current));var o=this.props.graphModel,a=o.eventCenter,s=o.editConfigModel,p=s.edgeTextEdit,m=s.nodeTextEdit;(p||m)&&a.on("".concat(it.GRAPH_TRANSFORM,",").concat(it.NODE_CLICK,",").concat(it.BLANK_CLICK," "),function(){o.textEditElement&&o.textEditElement.setElementState(Et.DEFAULT)})}},{key:"componentDidUpdate",value:function(){var o=this.props.graphModel;if(this.ref.current&&(this.ref.current.focus(),this.placeCaretAtEnd(this.ref.current)),this.__prevText.id!==""){var a=this.__prevText,s=a.text,p=a.id;o.updateText(p,s),o.eventCenter.emit(it.TEXT_UPDATE,Go({},this.__prevText)),this.__prevText.id="",this.__prevText.text="",this.__prevText.type=""}}},{key:"placeCaretAtEnd",value:function(o){if(window.getSelection!==void 0&&document.createRange!==void 0){var a=document.createRange();a.selectNodeContents(o),a.collapse(!1);var s=window.getSelection();s.removeAllRanges(),s.addRange(a)}}},{key:"render",value:function(){var o,a=this.props.graphModel.textEditElement,s=this.state.style;return a?Object(ne.g)("div",{contentEditable:!0,className:"lf-text-input",style:s,ref:this.ref,key:a.id,onKeyUp:this.keyupHandler,onKeyDown:this.keydownHandler,onInput:this.inputHandler},(o=a.text)===null||o===void 0?void 0:o.value):null}}],[{key:"getDerivedStateFromProps",value:function(o){var a=o.graphModel,s=a.transformModel,p=a.theme,m=a.textEditElement,x;if(m){var P;if(!((P=m.text)!==null&&P!==void 0&&P.value))if(m.BaseType===kt.EDGE){m=m;var D=m.text,B=m.textPosition,G=B.x,J=B.y;D.x=G,D.y=J,m.setText(D)}else m=m;var oe={resize:"auto",whiteSpace:"normal",wordBreak:"break-all"};if(m.BaseType===kt.EDGE){var ue=p.edgeText,ae=ue.overflowMode,Me=ue.lineHeight,ge=ue.wrapPadding,me=ue.textWidth;me&&ae==="autoWrap"&&(x=Go(Go({},oe),{},{width:me,minWidth:me,lineHeight:Me,padding:ge}))}else if(m.BaseType===kt.NODE){var _e=p.nodeText,Ie=_e.overflowMode,Ze=_e.lineHeight,ke=_e.wrapPadding,pt=_e.textWidth,vt=m,lr=vt.width,Er=vt.modelType;(Er!==dt.TEXT_NODE&&Ie==="autoWrap"||Er===dt.TEXT_NODE&&pt)&&(x=Go(Go({},oe),{},{width:pt||lr,minWidth:pt||lr,lineHeight:Ze,padding:ke}))}var nn=m.text,zn=nn.x,ao=nn.y,Ho=s.CanvasPointToHtmlPoint([zn,ao]),Fn=FC(Ho,2),Yo=Fn[0],ed=Fn[1];return{style:Go({left:Yo,top:ed},x)}}}}]),t}(ne.a),io(rm,"toolName","textEdit"),nm))||tm,QC=function(r){var t=r.x,n=r.y,o=r.width,a=r.height;return{x:t-o/2,y:n-a/2,x1:t+o/2,y1:n+a/2}},JC=function(r){var t=r.startPoint,n=r.endPoint,o=(t.x+n.x)/2,a=(t.y+n.y)/2,s=Math.abs(t.x-n.x)+10,p=Math.abs(t.y-n.y)+10;return{x:o-s/2,y:a-p/2,x1:o+s/2,y1:a+p/2}},ZC=function(r){var t=r.points,n=To(t),o=pi(n,8),a=o.x,s=o.y,p=o.width,m=o.height;return{x:a-p/2,y:s-m/2,x1:a+p/2,y1:s+m/2}},$C=function(r){var t=r.path,n=Ga(t),o=pi(n,8),a=o.x,s=o.y,p=o.width,m=o.height;return{x:a-p/2,y:s-m/2,x1:a+p/2,y1:s+m/2}},qC=function(r){if(r.modelType===dt.LINE_EDGE)return JC(r);if(r.modelType===dt.POLYLINE_EDGE)return ZC(r);if(r.modelType===dt.BEZIER_EDGE)return $C(r)};function Il(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Il=function(t){return typeof t}:Il=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Il(e)}var um,lm,sm;function fm(e,r){return rI(e)||tI(e,r)||cm(e,r)||eI()}function eI(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tI(e,r){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,s,p;try{for(t=t.call(e);!(o=(s=t.next()).done)&&(n.push(s.value),!(r&&n.length===r));o=!0);}catch(m){a=!0,p=m}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function rI(e){if(Array.isArray(e))return e}function nI(e){return aI(e)||iI(e)||cm(e)||oI()}function oI(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cm(e,r){if(!!e){if(typeof e=="string")return Vc(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Vc(e,r)}}function iI(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function aI(e){if(Array.isArray(e))return Vc(e)}function Vc(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function uI(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function dm(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function lI(e,r,t){return r&&dm(e.prototype,r),t&&dm(e,t),e}function sI(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Qc(e,r)}function Qc(e,r){return Qc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Qc(e,r)}function fI(e){var r=dI();return function(){var n=jl(e),o;if(r){var a=jl(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return cI(this,o)}}function cI(e,r){if(r&&(Il(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Si(e)}function Si(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dI(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function jl(e){return jl=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},jl(e)}function Ai(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var Jc=Ur(um=(sm=lm=function(e){sI(t,e);var r=fI(t);function t(n){var o;uI(this,t),o=r.call(this),Ai(Si(o),"stepDrag",void 0),Ai(Si(o),"handleMouseDown",function(m){o.stepDrag.handleMouseDown(m)}),Ai(Si(o),"onDraging",function(m){var x=m.deltaX,P=m.deltaY,D=o.props.graphModel,B=D.getSelectElements(!0);D.moveNodes(B.nodes.map(function(G){return G.id}),x,P)}),Ai(Si(o),"handleContextMenu",function(m){m.preventDefault();var x=o.props,P=x.graphModel,D=x.graphModel,B=D.eventCenter,G=D.selectElements,J=P.getPointByClient({x:m.clientX,y:m.clientY}),oe={nodes:[],edges:[]},ue=nI(G.values());ue.forEach(function(ae){ae.BaseType===kt.NODE&&oe.nodes.push(ae.getData()),ae.BaseType===kt.EDGE&&oe.edges.push(ae.getData())}),B.emit(it.SELECTION_CONTEXTMENU,{data:oe,e:m,position:J})});var a=n.graphModel,s=a.gridSize,p=a.eventCenter;return o.stepDrag=new to({onDraging:o.onDraging,step:s,eventType:"SELECTION",eventCenter:p}),o}return lI(t,[{key:"render",value:function(){var o=this.props.graphModel,a=o.selectElements,s=o.transformModel;if(!(a.size<=1)){var p=Number.MAX_SAFE_INTEGER,m=Number.MAX_SAFE_INTEGER,x=Number.MIN_SAFE_INTEGER,P=Number.MIN_SAFE_INTEGER;a.forEach(function(ue){var ae={x:0,y:0,x1:0,y1:0};ue.BaseType===kt.NODE&&(ae=QC(ue)),ue.BaseType===kt.EDGE&&(ae=qC(ue)),p=Math.min(p,ae.x),m=Math.min(m,ae.y),x=Math.max(x,ae.x1),P=Math.max(P,ae.y1)});var D=s.CanvasPointToHtmlPoint([p,m]),B=fm(D,2);p=B[0],m=B[1];var G=s.CanvasPointToHtmlPoint([x,P]),J=fm(G,2);x=J[0],P=J[1];var oe={left:"".concat(p-10,"px"),top:"".concat(m-10,"px"),width:"".concat(x-p+20,"px"),height:"".concat(P-m+20,"px")};return Object(ne.g)("div",{className:"lf-multiple-select",style:oe,onMouseDown:this.handleMouseDown,onContextMenu:this.handleContextMenu})}}}]),t}(ne.a),Ai(lm,"toolName","multipleSelect"),sm))||um;function pI(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function pm(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function hI(e,r,t){return r&&pm(e.prototype,r),t&&pm(e,t),e}function Rl(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var yI=function(){function e(r){pI(this,e),Rl(this,"tools",void 0),Rl(this,"components",void 0),Rl(this,"toolMap",new Map),Rl(this,"instance",void 0),this.instance=r,this.isDisabledTool(Kc.toolName)||this.registerTool(Kc.toolName,Kc),this.isDisabledTool(Jc.toolName)||this.registerTool(Jc.toolName,Jc)}return hI(e,[{key:"isDisabledTool",value:function(t){return this.instance.options.disabledTools.indexOf(t)!==-1}},{key:"registerTool",value:function(t,n){this.toolMap.set(t,n)}},{key:"getTools",value:function(){return Array.from(this.toolMap.values())}},{key:"getInstance",value:function(){return this.instance}}]),e}(),vI=i(167),gI=i.n(vI);function mI(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function hm(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function bI(e,r,t){return r&&hm(e.prototype,r),t&&hm(e,t),e}function Zc(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var ym=function(){function e(r){mI(this,e),Zc(this,"mousetrap",void 0),Zc(this,"options",void 0),Zc(this,"target",void 0),r.keyboard||(r.keyboard={enabled:!1}),this.options=r;var t=r.lf;this.target=t.container,this.mousetrap=new gI.a(this.target),r.keyboard.enabled&&this.enable(!0)}return bI(e,[{key:"initShortcuts",value:function(){var t=this,n=this.options.keyboard.shortcuts;if(n)if(d(n))n.forEach(function(p){var m=p.keys,x=p.callback,P=p.action;return t.on(m,x,P)});else{var o=n.keys,a=n.callback,s=n.action;this.on(o,a,s)}}},{key:"on",value:function(t,n,o){this.mousetrap.bind(this.getKeys(t),n,o)}},{key:"disabled",get:function(){return this.options.keyboard.enabled!==!0}},{key:"off",value:function(t,n){this.mousetrap.unbind(this.getKeys(t),n)}},{key:"enable",value:function(t){(this.disabled||t)&&(this.options.keyboard.enabled=!0,this.target instanceof HTMLElement&&(this.target.setAttribute("tabindex","-1"),this.target.style.outline="none"))}},{key:"disable",value:function(){this.disabled||(this.options.keyboard.enabled=!1,this.target instanceof HTMLElement&&this.target.removeAttribute("tabindex"))}},{key:"getKeys",value:function(t){var n=this;return(Array.isArray(t)?t:[t]).map(function(o){return n.formatkey(o)})}},{key:"formatkey",value:function(t){var n=t.toLowerCase().replace(/\s/g,"").replace("delete","del").replace("cmd","command");return n}}]),e}(),OI=ym,rn=null;function vm(e,r){return e.x+=r,e.y+=r,e.text&&(e.text.x+=r,e.text.y+=r),e}function gm(e,r){return e.startPoint&&(e.startPoint.x+=r,e.startPoint.y+=r),e.endPoint&&(e.endPoint.x+=r,e.endPoint.y+=r),e.pointsList&&e.pointsList.length>0&&e.pointsList.forEach(function(t){t.x+=r,t.y+=r}),e.text&&(e.text.x+=r,e.text.y+=r),e}var Bl=40;function EI(e,r){var t=e.keyboard,n=t.options.keyboard;t.on(["cmd + c","ctrl + c"],function(){if(!!n.enabled&&!r.textEditElement){var o=e.options.guards,a=r.getSelectElements(!1),s=o&&o.beforeClone?o.beforeClone(a):!0;return s?(rn=a,rn.nodes.forEach(function(p){return vm(p,Bl)}),rn.edges.forEach(function(p){return gm(p,Bl)}),!1):(rn=null,!1)}}),t.on(["cmd + v","ctrl + v"],function(){if(!!n.enabled&&!r.textEditElement){if(rn&&(rn.nodes||rn.edges)){e.clearSelectElements();var o=e.addElements(rn);if(!o)return;o.nodes.forEach(function(a){return e.selectElementById(a.id,!0)}),o.edges.forEach(function(a){return e.selectElementById(a.id,!0)}),rn.nodes.forEach(function(a){return vm(a,Bl)}),rn.edges.forEach(function(a){return gm(a,Bl)})}return!1}}),t.on(["cmd + z","ctrl + z"],function(){if(!!n.enabled&&!r.textEditElement)return e.undo(),!1}),t.on(["cmd + y","ctrl + y"],function(){if(!!n.enabled&&!r.textEditElement)return e.redo(),!1}),t.on(["backspace"],function(){if(!!n.enabled&&!r.textEditElement){var o=r.getSelectElements(!0);return e.clearSelectElements(),o.edges.forEach(function(a){return e.deleteEdge(a.id)}),o.nodes.forEach(function(a){return e.deleteNode(a.id)}),!1}})}function xI(e,r){e.on("node:mousemove",function(t){var n=t.data;r.setNodeSnapLine(n)}),e.on("node:mouseup",function(){r.clearSnapline()})}function Ll(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ll=function(t){return typeof t}:Ll=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ll(e)}function mm(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function $c(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?mm(Object(t),!0).forEach(function(n){zt(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):mm(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function SI(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function bm(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function AI(e,r,t){return r&&bm(e.prototype,r),t&&bm(e,t),e}function zt(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var qc=function(){function e(r){var t=this;SI(this,e),zt(this,"container",void 0),zt(this,"width",void 0),zt(this,"height",void 0),zt(this,"graphModel",void 0),zt(this,"history",void 0),zt(this,"viewMap",new Map),zt(this,"tool",void 0),zt(this,"keyboard",void 0),zt(this,"dnd",void 0),zt(this,"options",void 0),zt(this,"snaplineModel",void 0),zt(this,"components",[]),zt(this,"plugins",void 0),zt(this,"extension",{}),zt(this,"adapterIn",void 0),zt(this,"adapterOut",void 0),zt(this,"getView",function(n){return t.viewMap.get(n)}),r=ky(r),this.options=r,this.container=r.container,this.plugins=r.plugins,this.graphModel=new LP($c({},r)),this.tool=new yI(this),this.history=new zC(this.graphModel.eventCenter),this.dnd=new Ew({lf:this}),this.keyboard=new OI({lf:this,keyboard:r.keyboard}),!r.isSilentMode&&r.snapline!==!1&&(this.snaplineModel=new ig(this.graphModel),xI(this.graphModel.eventCenter,this.snaplineModel)),EI(this,this.graphModel),this.keyboard.initShortcuts(),this.defaultRegister(),this.installPlugins(r.disabledPlugins)}return AI(e,[{key:"register",value:function(t,n){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(typeof t!="string"){this.registerElement(t);return}var a={BaseEdge:xi,BaseEdgeModel:df,BaseNode:yn,BaseNodeModel:pn,RectNode:pc,RectNodeModel:ec,CircleNode:vc,CircleNodeModel:Hf,PolygonNode:bc,PolygonNodeModel:Zf,TextNode:wc,TextNodeModel:rc,LineEdge:_c,LineEdgeModel:yf,DiamondNode:xc,DiamondNodeModel:Wf,PolylineEdge:Gc,PolylineEdgeModel:mf,BezierEdge:Hc,BezierEdgeModel:kf,EllipseNode:Pc,EllipseNodeModel:Vf,HtmlNode:Dc,HtmlNodeModel:oc,h:ne.g,type:t};this.viewMap.forEach(function(P){var D=P.extendKey;D&&(a[D]=P)}),this.graphModel.modelMap.forEach(function(P){var D=P.extendKey;D&&(a[D]=P)});var s=n(a),p=s.view,m=s.model,x=p;o&&!x.isObervered&&(x.isObervered=!0,x=bt(x)),this.setView(t,x),this.graphModel.setModel(t,m)}},{key:"registerElement",value:function(t){var n=t.view;t.isObserverView!==!1&&!n.isObervered&&(n.isObervered=!0,n=bt(n)),this.setView(t.type,n),this.graphModel.setModel(t.type,t.model)}},{key:"batchRegister",value:function(){var t=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];n.forEach(function(o){t.registerElement(o)})}},{key:"defaultRegister",value:function(){this.registerElement({view:pc,model:ec,type:"rect"}),this.registerElement({type:"circle",view:vc,model:Hf}),this.registerElement({type:"polygon",view:bc,model:Zf}),this.registerElement({type:"line",view:_c,model:yf}),this.registerElement({type:"polyline",view:Gc,model:mf}),this.registerElement({type:"bezier",view:Hc,model:kf}),this.registerElement({type:"text",view:wc,model:rc}),this.registerElement({type:"ellipse",view:Pc,model:Vf}),this.registerElement({type:"diamond",view:xc,model:Wf}),this.registerElement({type:"html",view:Dc,model:oc})}},{key:"selectElementById",value:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;this.graphModel.selectElementById(t,n),n||this.graphModel.toFront(t)}},{key:"focusOn",value:function(t){var n=this.graphModel.transformModel,o=t.coordinate,a=t.id;if(!o){var s=this.getNodeModelById(a);s&&(o=s.getData());var p=this.getEdgeModelById(a);p&&(o=p.textPosition)}var m=o,x=m.x,P=m.y;n.focusOn(x,P,this.graphModel.width,this.graphModel.height)}},{key:"setTheme",value:function(t){this.graphModel.setTheme(t)}},{key:"resize",value:function(t,n){this.graphModel.resize(t,n),this.options.width=this.graphModel.width,this.options.height=this.graphModel.height}},{key:"setDefaultEdgeType",value:function(t){this.graphModel.setDefaultEdgeType(t)}},{key:"updateText",value:function(t,n){this.graphModel.updateText(t,n)}},{key:"deleteElement",value:function(t){var n,o,a,s=this.getModelById(t);if(!s)return!1;var p=(n={},zt(n,kt.NODE,this.deleteNode),zt(n,kt.EDGE,this.deleteEdge),n),m=s.BaseType;return(o=(a=p[m])===null||a===void 0?void 0:a.call(this,t))!==null&&o!==void 0?o:!1}},{key:"getModelById",value:function(t){return this.graphModel.getElement(t)}},{key:"getDataById",value:function(t){return this.graphModel.getElement(t).getData()}},{key:"changeNodeType",value:function(t,n){this.graphModel.changeNodeType(t,n)}},{key:"changeEdgeType",value:function(t,n){this.graphModel.changeEdgeType(t,n)}},{key:"getNodeEdges",value:function(t){return this.graphModel.getNodeEdges(t)}},{key:"addNode",value:function(t){return this.graphModel.addNode(t)}},{key:"deleteNode",value:function(t){var n=this.graphModel.getNodeModelById(t);if(!n)return!1;var o=n.getData(),a=this.options.guards,s=a&&a.beforeDelete?a.beforeDelete(o):!0;return s&&this.graphModel.deleteNode(t),s}},{key:"cloneNode",value:function(t){var n=this.graphModel.getNodeModelById(t),o=n.getData(),a=this.options.guards,s=a&&a.beforeClone?a.beforeClone(o):!0;if(s)return this.graphModel.cloneNode(t)}},{key:"changeNodeId",value:function(t,n){return this.graphModel.changeNodeId(t,n)}},{key:"getNodeModelById",value:function(t){return this.graphModel.getNodeModelById(t)}},{key:"getNodeDataById",value:function(t){return this.graphModel.getNodeModelById(t).getData()}},{key:"addEdge",value:function(t){return this.graphModel.addEdge(t)}},{key:"deleteEdge",value:function(t){var n=this.options.guards,o=this.graphModel.edgesMap[t];if(!o)return!1;var a=o.model.getData(),s=n&&n.beforeDelete?n.beforeDelete(a):!0;return s&&this.graphModel.deleteEdgeById(t),s}},{key:"deleteEdgeByNodeId",value:function(t){var n=t.sourceNodeId,o=t.targetNodeId;n&&o?this.graphModel.deleteEdgeBySourceAndTarget(n,o):n?this.graphModel.deleteEdgeBySource(n):o&&this.graphModel.deleteEdgeByTarget(o)}},{key:"changeEdgeId",value:function(t,n){return this.graphModel.changeEdgeId(t,n)}},{key:"getEdgeModelById",value:function(t){var n,o=this.graphModel.edgesMap;return(n=o[t])===null||n===void 0?void 0:n.model}},{key:"getEdgeModels",value:function(t){var n=this.graphModel.edges,o=t.sourceNodeId,a=t.targetNodeId;if(o&&a){var s=[];return n.forEach(function(x){x.sourceNodeId===o&&x.targetNodeId===a&&s.push(x)}),s}if(o){var p=[];return n.forEach(function(x){x.sourceNodeId===o&&p.push(x)}),p}if(a){var m=[];return n.forEach(function(x){x.targetNodeId===a&&m.push(x)}),m}return[]}},{key:"getEdgeDataById",value:function(t){var n;return(n=this.getEdgeModelById(t))===null||n===void 0?void 0:n.getData()}},{key:"getNodeIncomingEdge",value:function(t){return this.graphModel.getNodeIncomingEdge(t)}},{key:"getNodeOutgoingEdge",value:function(t){return this.graphModel.getNodeOutgoingEdge(t)}},{key:"getNodeIncomingNode",value:function(t){return this.graphModel.getNodeIncomingNode(t)}},{key:"getNodeOutgoingNode",value:function(t){return this.graphModel.getNodeOutgoingNode(t)}},{key:"editText",value:function(t){this.graphModel.editText(t)}},{key:"setProperties",value:function(t,n){var o;(o=this.graphModel.getElement(t))===null||o===void 0||o.setProperties(er(n))}},{key:"getProperties",value:function(t){var n;return(n=this.graphModel.getElement(t))===null||n===void 0?void 0:n.getProperties()}},{key:"toFront",value:function(t){this.graphModel.toFront(t)}},{key:"setElementZIndex",value:function(t,n){return this.graphModel.setElementZIndex(t,n)}},{key:"addElements",value:function(t){for(var n=this,o=t.nodes,a=t.edges,s={},p={nodes:[],edges:[]},m=0;m<o.length;m++){var x=o[m],P=x.id,D=this.addNode(x);if(!D)return;P&&(s[P]=D.id),p.nodes.push(D)}return a.forEach(function(B){var G=B.sourceNodeId,J=B.targetNodeId;s[G]&&(B.sourceNodeId=s[G]),s[J]&&(B.targetNodeId=s[J]);var oe=n.graphModel.addEdge(B);p.edges.push(oe)}),p}},{key:"getAreaElement",value:function(t,n){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;return this.graphModel.getAreaElement(t,n,o,a).map(function(s){return s.getData()})}},{key:"getSelectElements",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return this.graphModel.getSelectElements(t)}},{key:"clearSelectElements",value:function(){this.graphModel.clearSelectElements()}},{key:"getGraphData",value:function(){var t=this.graphModel.modelToGraphData();return this.adapterOut?this.adapterOut(t):t}},{key:"getGraphRawData",value:function(){return this.graphModel.modelToGraphData()}},{key:"clearData",value:function(){this.graphModel.clearData()}},{key:"updateEditConfig",value:function(t){this.graphModel.editConfigModel.updateEditConfig(t)}},{key:"getEditConfig",value:function(){return this.graphModel.editConfigModel.getConfig()}},{key:"getPointByClient",value:function(t,n){return this.graphModel.getPointByClient({x:t,y:n})}},{key:"undo",value:function(){if(!!this.history.undoAble()){var t=er(this.history.undo());this.clearSelectElements(),this.graphModel.graphDataToModel(t)}}},{key:"redo",value:function(){if(!!this.history.redoAble()){var t=er(this.history.redo());this.clearSelectElements(),this.graphModel.graphDataToModel(t)}}},{key:"zoom",value:function(t,n){var o=this.graphModel.transformModel;return o.zoom(t,n)}},{key:"resetZoom",value:function(){var t=this.graphModel.transformModel;t.resetZoom()}},{key:"setZoomMiniSize",value:function(t){var n=this.graphModel.transformModel;n.setZoomMiniSize(t)}},{key:"setZoomMaxSize",value:function(t){var n=this.graphModel.transformModel;n.setZoomMaxSize(t)}},{key:"getTransform",value:function(){var t=this.graphModel.transformModel,n=t.SCALE_X,o=t.SCALE_Y,a=t.TRANSLATE_X,s=t.TRANSLATE_Y;return{SCALE_X:n,SCALE_Y:o,TRANSLATE_X:a,TRANSLATE_Y:s}}},{key:"translate",value:function(t,n){var o=this.graphModel.transformModel;o.translate(t,n)}},{key:"resetTranslate",value:function(){var t=this.graphModel.transformModel,n=t.TRANSLATE_X,o=t.TRANSLATE_Y;this.translate(-n,-o)}},{key:"translateCenter",value:function(){this.graphModel.translateCenter()}},{key:"fitView",value:function(t,n){n===void 0&&(n=t),this.graphModel.fitView(t,n)}},{key:"openEdgeAnimation",value:function(t){this.graphModel.openEdgeAnimation(t)}},{key:"closeEdgeAnimation",value:function(t){this.graphModel.closeEdgeAnimation(t)}},{key:"on",value:function(t,n){this.graphModel.eventCenter.on(t,n)}},{key:"off",value:function(t,n){this.graphModel.eventCenter.off(t,n)}},{key:"once",value:function(t,n){this.graphModel.eventCenter.once(t,n)}},{key:"emit",value:function(t,n){this.graphModel.eventCenter.emit(t,n)}},{key:"installPlugins",value:function(){var t,n=this,o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],a=(t=this.plugins)!==null&&t!==void 0?t:e.extensions;a.forEach(function(s){var p=s.pluginName||s.name;o.indexOf(p)===-1&&n.installPlugin(s)})}},{key:"installPlugin",value:function(t){if(Ll(t)==="object"){var n=t.install,o=t.render;n&&n.call(t,this,e),o&&this.components.push(o.bind(t)),this.extension[t.pluginName]=t;return}var a=t,s=new a({lf:this,LogicFlow:e});s.render&&this.components.push(s.render.bind(s)),this.extension[a.pluginName]=s}},{key:"updateAttributes",value:function(t,n){this.graphModel.updateAttributes(t,n)}},{key:"createFakerNode",value:function(t){var n=this.graphModel.modelMap.get(t.type);if(!n){console.warn("\u4E0D\u5B58\u5728\u4E3A".concat(t.type,"\u7C7B\u578B\u7684\u8282\u70B9"));return}var o=new n($c($c({},t),{},{virtual:!0}),this.graphModel);return this.graphModel.setFakerNode(o),o}},{key:"removeFakerNode",value:function(){this.graphModel.removeFakerNode()}},{key:"setNodeSnapLine",value:function(t){this.snaplineModel&&this.snaplineModel.setNodeSnapLine(t)}},{key:"removeNodeSnapLine",value:function(){this.snaplineModel&&this.snaplineModel.clearSnapline()}},{key:"setView",value:function(t,n){this.viewMap.set(t,n)}},{key:"renderRawData",value:function(t){this.graphModel.graphDataToModel(er(t)),!this.options.isSilentMode&&this.options.history!==!1&&this.history.watch(this.graphModel),Object(ne.j)(Object(ne.g)(mw,{getView:this.getView,tool:this.tool,options:this.options,dnd:this.dnd,snaplineModel:this.snaplineModel,graphModel:this.graphModel}),this.container),this.emit(it.GRAPH_RENDERED,this.graphModel.modelToGraphData())}},{key:"render",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.adapterIn&&(t=this.adapterIn(t)),this.renderRawData(t)}}],[{key:"use",value:function(t){var n=t.pluginName;n||(console.warn("\u8BF7\u7ED9\u63D2\u4EF6".concat(t.name||t.constructor.name,"\u6307\u5B9ApluginName!")),n=t.name);var o=this.extensions.get(n);o&&o.destroy&&o.destroy(),this.extensions.set(n,t)}}]),e}();zt(qc,"extensions",new Map);function Ur(e){return bt(e)}c.default=qc}])})})(Ke,Ke.exports);var Wo=YI(Ke.exports);function lj(g,y){return y={exports:{}},g(y,y.exports),y.exports}var sj=lj(function(g){var y=g.exports=function(u,c){if(c||(c=16),u===void 0&&(u=128),u<=0)return"0";for(var i=Math.log(Math.pow(2,u))/Math.log(c),l=2;i===1/0;l*=2)i=Math.log(Math.pow(2,u/l))/Math.log(c)*l;for(var f=i-Math.floor(i),v="",l=0;l<Math.floor(i);l++){var b=Math.floor(Math.random()*c).toString(c);v=b+v}if(f){var E=Math.pow(c,f),b=Math.floor(Math.random()*E).toString(c);v=b+v}var S=parseInt(v,c);return S!==1/0&&S>=Math.pow(2,u)?y(u,c):v};y.rack=function(u,c,i){var l=function(v){var b=0;do{if(b++>10)if(i)u+=i;else throw new Error("too many ID collisions, use more bits");var E=y(u,c)}while(Object.hasOwnProperty.call(f,E));return f[E]=v,E},f=l.hats={};return l.get=function(v){return l.hats[v]},l.set=function(v,b){return l.hats[v]=b,l},l.bits=u||128,l.base=c||16,l}});function on(g){if(!(this instanceof on))return new on(g);g=g||[128,36,1],this._seed=g.length?sj.rack(g[0],g[1],g[2]):g}on.prototype.next=function(g){return this._seed(g||!0)};on.prototype.nextPrefixed=function(g,y){var u;do u=g+this.next(!0);while(this.assigned(u));return this.claim(u,y),u};on.prototype.claim=function(g,y){this._seed.set(g,y||!0)};on.prototype.assigned=function(g){return this._seed.get(g)||!1};on.prototype.unclaim=function(g){delete this._seed.hats[g]};on.prototype.clear=function(){var g=this._seed.hats,y;for(y in g)this.unclaim(y)};var fj=new on([32,32,1]);function Jo(){return fj.next()}var rb=globalThis&&globalThis.__extends||function(){var g=function(y,u){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,i){c.__proto__=i}||function(c,i){for(var l in i)i.hasOwnProperty(l)&&(c[l]=i[l])},g(y,u)};return function(y,u){g(y,u);function c(){this.constructor=y}y.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}(),cj=function(g){rb(y,g);function y(u,c){var i=this;return u.id||(u.id="Event_"+Jo()),u.text||(u.text=""),u.text&&typeof u.text=="string"&&(u.text={value:u.text,x:u.x,y:u.y+40}),i=g.call(this,u,c)||this,i}return y.prototype.setAttributes=function(){this.r=18},y.prototype.getConnectedTargetRules=function(){var u=g.prototype.getConnectedTargetRules.call(this),c={message:"\u8D77\u59CB\u8282\u70B9\u4E0D\u80FD\u4F5C\u4E3A\u8FB9\u7684\u7EC8\u70B9",validate:function(){return!1}};return u.push(c),u},y.extendKey="StartEventModel",y}(Ke.exports.CircleNodeModel),dj=function(g){rb(y,g);function y(){return g!==null&&g.apply(this,arguments)||this}return y.extendKey="StartEventNode",y}(Ke.exports.CircleNode),pj={type:"bpmn:startEvent",view:dj,model:cj},nb=globalThis&&globalThis.__extends||function(){var g=function(y,u){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,i){c.__proto__=i}||function(c,i){for(var l in i)i.hasOwnProperty(l)&&(c[l]=i[l])},g(y,u)};return function(y,u){g(y,u);function c(){this.constructor=y}y.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}(),Yl=globalThis&&globalThis.__assign||function(){return Yl=Object.assign||function(g){for(var y,u=1,c=arguments.length;u<c;u++){y=arguments[u];for(var i in y)Object.prototype.hasOwnProperty.call(y,i)&&(g[i]=y[i])}return g},Yl.apply(this,arguments)},hj=function(g){nb(y,g);function y(u,c){var i=this;return u.id||(u.id="Event_"+Jo()),u.text||(u.text=""),u.text&&typeof u.text=="string"&&(u.text={value:u.text,x:u.x,y:u.y+40}),i=g.call(this,u,c)||this,i}return y.prototype.setAttributes=function(){this.r=18},y.prototype.getConnectedSourceRules=function(){var u=g.prototype.getConnectedSourceRules.call(this),c={message:"\u7ED3\u675F\u8282\u70B9\u4E0D\u80FD\u4F5C\u4E3A\u8FB9\u7684\u8D77\u70B9",validate:function(){return!1}};return u.push(c),u},y.extendKey="EndEventModel",y}(Ke.exports.CircleNodeModel),yj=function(g){nb(y,g);function y(){return g!==null&&g.apply(this,arguments)||this}return y.prototype.getAnchorStyle=function(){return{visibility:"hidden"}},y.prototype.getShape=function(){var u=this.props.model,c=u.getNodeStyle(),i=u.x,l=u.y,f=u.r,v=g.prototype.getShape.call(this);return Ke.exports.h("g",{},v,Ke.exports.h("circle",Yl(Yl({},c),{cx:i,cy:l,r:f-5})))},y.extendKey="EndEventView",y}(Ke.exports.CircleNode),vj={type:"bpmn:endEvent",view:yj,model:hj},ob=globalThis&&globalThis.__extends||function(){var g=function(y,u){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,i){c.__proto__=i}||function(c,i){for(var l in i)i.hasOwnProperty(l)&&(c[l]=i[l])},g(y,u)};return function(y,u){g(y,u);function c(){this.constructor=y}y.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}(),Di=globalThis&&globalThis.__assign||function(){return Di=Object.assign||function(g){for(var y,u=1,c=arguments.length;u<c;u++){y=arguments[u];for(var i in y)Object.prototype.hasOwnProperty.call(y,i)&&(g[i]=y[i])}return g},Di.apply(this,arguments)},gj=function(g){ob(y,g);function y(u,c){var i=this;return u.id||(u.id="Gateway_"+Jo()),u.text||(u.text=""),u.text&&typeof u.text=="string"&&(u.text={value:u.text,x:u.x,y:u.y+40}),i=g.call(this,u,c)||this,i.points=[[25,0],[50,25],[25,50],[0,25]],i}return y.extendKey="ExclusiveGatewayModel",y}(Ke.exports.PolygonNodeModel),mj=function(g){ob(y,g);function y(){return g!==null&&g.apply(this,arguments)||this}return y.prototype.getShape=function(){var u=this.props.model,c=u.x,i=u.y,l=u.width,f=u.height,v=u.points,b=u.getNodeStyle();return Ke.exports.h("g",{transform:"matrix(1 0 0 1 "+(c-l/2)+" "+(i-f/2)+")"},Ke.exports.h("polygon",Di(Di({},b),{x:c,y:i,points:v})),Ke.exports.h("path",Di({d:"m 16,15 7.42857142857143,9.714285714285715 -7.42857142857143,9.714285714285715 3.428571428571429,0 5.714285714285715,-7.464228571428572 5.714285714285715,7.464228571428572 3.428571428571429,0 -7.42857142857143,-9.714285714285715 7.42857142857143,-9.714285714285715 -3.428571428571429,0 -5.714285714285715,7.464228571428572 -5.714285714285715,-7.464228571428572 -3.428571428571429,0 z"},b)))},y.extendKey="ExclusiveGatewayNode",y}(Ke.exports.PolygonNode),bj={type:"bpmn:exclusiveGateway",view:mj,model:gj},ib=globalThis&&globalThis.__extends||function(){var g=function(y,u){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,i){c.__proto__=i}||function(c,i){for(var l in i)i.hasOwnProperty(l)&&(c[l]=i[l])},g(y,u)};return function(y,u){g(y,u);function c(){this.constructor=y}y.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}(),Xl=globalThis&&globalThis.__assign||function(){return Xl=Object.assign||function(g){for(var y,u=1,c=arguments.length;u<c;u++){y=arguments[u];for(var i in y)Object.prototype.hasOwnProperty.call(y,i)&&(g[i]=y[i])}return g},Xl.apply(this,arguments)},Oj=function(g){ib(y,g);function y(u,c){var i=this;return u.id||(u.id="Activity_"+Jo()),i=g.call(this,u,c)||this,i}return y.extendKey="UserTaskModel",y}(Ke.exports.RectNodeModel),Ej=function(g){ib(y,g);function y(){return g!==null&&g.apply(this,arguments)||this}return y.prototype.getLabelShape=function(){var u=this.props.model,c=u.x,i=u.y,l=u.width,f=u.height,v=u.getNodeStyle();return Ke.exports.h("svg",{x:c-l/2+5,y:i-f/2+5,width:25,height:25,viewBox:"0 0 1274 1024"},Ke.exports.h("path",{fill:v.stroke,d:"M655.807326 287.35973m-223.989415 0a218.879 218.879 0 1 0 447.978829 0 218.879 218.879 0 1 0-447.978829 0ZM1039.955839 895.482975c-0.490184-212.177424-172.287821-384.030443-384.148513-384.030443-211.862739 0-383.660376 171.85302-384.15056 384.030443L1039.955839 895.482975z"}))},y.prototype.getShape=function(){var u=this.props.model,c=u.x,i=u.y,l=u.width,f=u.height,v=u.radius,b=u.getNodeStyle();return Ke.exports.h("g",{},[Ke.exports.h("rect",Xl(Xl({},b),{x:c-l/2,y:i-f/2,rx:v,ry:v,width:l,height:f})),this.getLabelShape()])},y.extendKey="UserTaskNode",y}(Ke.exports.RectNode),xj={type:"bpmn:userTask",view:Ej,model:Oj},ab=globalThis&&globalThis.__extends||function(){var g=function(y,u){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,i){c.__proto__=i}||function(c,i){for(var l in i)i.hasOwnProperty(l)&&(c[l]=i[l])},g(y,u)};return function(y,u){g(y,u);function c(){this.constructor=y}y.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}(),od=globalThis&&globalThis.__assign||function(){return od=Object.assign||function(g){for(var y,u=1,c=arguments.length;u<c;u++){y=arguments[u];for(var i in y)Object.prototype.hasOwnProperty.call(y,i)&&(g[i]=y[i])}return g},od.apply(this,arguments)},Sj=function(g){ab(y,g);function y(u,c){var i=this;return u.id||(u.id="Activity_"+Jo()),i=g.call(this,u,c)||this,i}return y.extendKey="ServiceTaskModel",y}(Ke.exports.RectNodeModel),Aj=function(g){ab(y,g);function y(){return g!==null&&g.apply(this,arguments)||this}return y.prototype.getLabelShape=function(){var u=this.props.model,c=u.x,i=u.y,l=u.width,f=u.height,v=u.getNodeStyle();return Ke.exports.h("svg",{x:c-l/2+5,y:i-f/2+5,width:30,height:30,viewBox:"0 0 1274 1024"},Ke.exports.h("path",{fill:v.stroke,d:"M882.527918 434.149934c-2.234901-5.303796-7.311523-8.853645-13.059434-9.138124l-61.390185-3.009544c-6.635117-20.973684-15.521508-41.175795-26.513864-60.282968l42.051745-47.743374c4.308119-4.889357 4.955872-12.004405 1.602498-17.59268-46.384423-77.30362-103.969956-101.422947-106.400309-102.410438-5.332449-2.170432-11.432377-1.090844-15.693424 2.77009L654.674467 240.664222c-17.004279-8.654101-35.092239-15.756869-53.995775-21.210068l-3.26537-66.490344c-0.280386-5.747911-3.833305-10.824533-9.134031-13.059434-1.683339-0.709151-30.193673-12.391215-76.866668-12.051477-46.672996-0.339738-75.18333 11.342326-76.866668 12.051477-5.300726 2.234901-8.853645 7.311523-9.134031 13.059434l-3.26537 66.490344c-18.903535 5.453199-36.991496 12.555967-53.995775 21.210068l-48.450479-43.922349c-4.261047-3.860934-10.360975-4.940522-15.693424-2.77009-2.430352 0.98749-60.015885 25.106818-106.400309 102.410438-3.353374 5.588275-2.705622 12.703323 1.602498 17.59268l42.051745 47.743374c-10.992355 19.107173-19.878746 39.309284-26.513864 60.282968l-61.390185 3.009544c-5.747911 0.284479-10.824533 3.834328-13.059434 9.138124-1.01512 2.415003-24.687262 60.190871-2.822278 147.651828 1.583055 6.324032 7.072069 10.893094 13.57518 11.308557 5.892197 0.37146 11.751648 0.523933 17.419741 0.667196 14.498202 0.372483 28.193109 0.723477 40.908712 4.63353 4.212952 1.294482 6.435573 8.270361 9.349949 18.763342 1.287319 4.640694 2.617617 9.43693 4.484128 14.010085 1.794879 4.393054 3.75758 8.570189 5.66093 12.607132 1.302669 2.765997 2.529613 5.380544 3.689019 8.018627 2.986007 6.803963 2.682086 9.773598 2.578732 10.349719-3.061732 3.672646-6.391571 7.238868-9.91379 11.015891-1.810229 1.943258-3.680832 3.949962-5.523807 5.980201l-22.560832 24.8909c-3.865028 4.261047-4.940522 10.365068-2.774183 15.693424 0.991584 2.426259 25.102724 60.011792 102.414531 106.400309 5.588275 3.353374 12.703323 2.701528 17.591657-1.603521l23.476691-20.682042c2.346441-2.061962 4.64888-4.336772 6.875594-6.534833 9.05319-8.93858 14.018272-12.95608 17.73185-11.576663 3.305279 1.222851 6.907317 3.166109 10.720156 5.228071 3.325745 1.794879 6.764054 3.650133 10.465352 5.288446 6.016017 2.662643 12.120039 4.688789 18.019399 6.65149 6.827499 2.266623 13.279445 4.409426 18.819624 7.275707 1.518586 0.782829 1.926886 0.994654 2.358721 7.830339 0.726547 11.496845 1.25048 23.276123 1.753947 34.672684 0.264013 5.900384 0.528026 11.803837 0.815575 17.700127 0.284479 5.743818 3.833305 10.82044 9.138124 13.05534 1.654686 0.698918 29.371958 12.063757 74.869175 12.063757 0.328481 0 3.65832 0 3.986801 0 45.497217 0 73.214489-11.364839 74.869175-12.063757 5.304819-2.234901 8.853645-7.311523 9.138124-13.05534 0.287549-5.89629 0.551562-11.799744 0.815575-17.700127 0.503467-11.396561 1.027399-23.175839 1.753947-34.672684 0.431835-6.835685 0.840134-7.04751 2.358721-7.830339 5.54018-2.866281 11.992125-5.009084 18.819624-7.275707 5.89936-1.962701 12.003382-3.988848 18.019399-6.65149 3.701299-1.638313 7.139607-3.493567 10.465352-5.288446 3.812839-2.061962 7.414877-4.00522 10.720156-5.228071 3.713578-1.379417 8.67866 2.638083 17.73185 11.576663 2.226714 2.198062 4.529153 4.472871 6.875594 6.534833l23.476691 20.682042c4.888334 4.305049 12.003382 4.956895 17.591657 1.603521 77.311807-46.388517 101.422947-103.97405 102.414531-106.400309 2.166339-5.328355 1.090844-11.432377-2.774183-15.693424l-22.560832-24.8909c-1.842974-2.030239-3.713578-4.036943-5.523807-5.980201-3.52222-3.777023-6.852058-7.343245-9.91379-11.015891-0.103354-0.576121-0.407276-3.545756 2.578732-10.349719 1.159406-2.638083 2.38635-5.252631 3.689019-8.018627 1.90335-4.036943 3.866051-8.214079 5.66093-12.607132 1.866511-4.573155 3.196809-9.369392 4.484128-14.010085 2.914376-10.492982 5.136997-17.46886 9.349949-18.763342 12.715603-3.910053 26.41051-4.261047 40.908712-4.63353 5.668093-0.143263 11.527544-0.295735 17.419741-0.667196 6.503111-0.415462 11.992125-4.984524 13.57518-11.308557C907.21518 494.340805 883.543038 436.564937 882.527918 434.149934zM643.49894 643.761929c-35.280528 35.280528-82.191954 54.711066-132.086317 54.711066s-96.806813-19.430538-132.086317-54.711066c-35.280528-35.279504-54.711066-82.191954-54.711066-132.086317 0-49.894364 19.430538-96.80272 54.711066-132.082224 35.283598-35.284621 82.191954-54.711066 132.086317-54.711066s96.80579 19.426445 132.086317 54.711066c35.279504 35.279504 54.711066 82.187861 54.711066 132.082224C698.210006 561.569976 678.782537 608.482425 643.49894 643.761929z"}))},y.prototype.getShape=function(){var u=this.props.model,c=u.x,i=u.y,l=u.width,f=u.height,v=u.radius,b=u.getNodeStyle();return Ke.exports.h("g",{},[Ke.exports.h("rect",od({x:c-l/2,y:i-f/2,rx:v,ry:v,width:l,height:f},b)),this.getLabelShape()])},y.extendKey="ServiceTaskNode",y}(Ke.exports.RectNode),Pj={type:"bpmn:serviceTask",view:Aj,model:Sj},ub=globalThis&&globalThis.__extends||function(){var g=function(y,u){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,i){c.__proto__=i}||function(c,i){for(var l in i)i.hasOwnProperty(l)&&(c[l]=i[l])},g(y,u)};return function(y,u){g(y,u);function c(){this.constructor=y}y.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}(),Tj=function(g){ub(y,g);function y(u,c){var i=this;return u.id||(u.id="Flow_"+Jo()),i=g.call(this,u,c)||this,i}return y.extendKey="SequenceFlowModel",y}(Ke.exports.PolylineEdgeModel),wj=function(g){ub(y,g);function y(){return g!==null&&g.apply(this,arguments)||this}return y.extendKey="SequenceFlowEdge",y}(Ke.exports.PolylineEdge),Mj={type:"bpmn:sequenceFlow",view:wj,model:Tj},Nm={width:40,height:40},Dm={width:40,height:40},Cm={width:40,height:40},Im={width:100,height:80},jm={width:100,height:80},Nj={rect:{radius:5,stroke:"rgb(24, 125, 255)"},circle:{r:18,stroke:"rgb(24, 125, 255)"},polygon:{stroke:"rgb(24, 125, 255)"},polyline:{stroke:"rgb(24, 125, 255)",hoverStroke:"rgb(24, 125, 255)",selectedStroke:"rgb(24, 125, 255)"},edgeText:{background:{fill:"white",height:14,stroke:"transparent",radius:3}}},Dj=function(){function g(y){var u=y.lf;u.setTheme(Nj),u.register(pj),u.register(vj),u.register(bj),u.register(xj),u.register(Pj),u.options.customBpmnEdge||(u.register(Mj),u.setDefaultEdgeType("bpmn:sequenceFlow"))}return g.pluginName="bpmnElement",g}(),Cj=function(){function g(y){var u=this,c=y.lf;this.lf=c,this.customCssRules="",this.useGlobalRules=!0,c.getSnapshot=function(i,l){u.getSnapshot(i,l)},c.getSnapshotBlob=function(i){return u.getSnapshotBlob(i)},c.getSnapshotBase64=function(i){return u.getSnapshotBase64(i)}}return g.prototype.getSvgRootElement=function(y){var u=this;this.offsetX=Number.MAX_SAFE_INTEGER,this.offsetY=Number.MAX_SAFE_INTEGER,y.graphModel.nodes.forEach(function(i){var l=i.x,f=i.width,v=i.y,b=i.height,E=l-f/2,S=v-b/2;E<u.offsetX&&(u.offsetX=E-5),S<u.offsetY&&(u.offsetY=S-5)}),y.graphModel.edges.forEach(function(i){i.pointsList&&i.pointsList.forEach(function(l){var f=l.x,v=l.y;f<u.offsetX&&(u.offsetX=f-5),v<u.offsetY&&(u.offsetY=v-5)})});var c=y.container.querySelector(".lf-canvas-overlay");return c},g.prototype.triggerDownload=function(y){var u=new MouseEvent("click",{view:window,bubbles:!1,cancelable:!0}),c=document.createElement("a");c.setAttribute("download",this.fileName),c.setAttribute("href",y),c.setAttribute("target","_blank"),c.dispatchEvent(u)},g.prototype.removeAnchor=function(y){for(var u=y.childNodes,c=y.childNodes&&y.childNodes.length,i=0;i<c;i++){var l=u[i],f=l.classList&&Array.from(l.classList)||[];f.indexOf("lf-anchor")>-1&&(y.removeChild(y.childNodes[i]),c--,i--)}},g.prototype.getSnapshot=function(y,u){var c=this;this.fileName=y||"logic-flow."+Date.now()+".png";var i=this.getSvgRootElement(this.lf);this.getCanvasData(i,u).then(function(l){var f=l.toDataURL("image/png").replace("image/png","image/octet-stream");c.triggerDownload(f)})},g.prototype.getSnapshotBase64=function(y){var u=this,c=this.getSvgRootElement(this.lf);return new Promise(function(i){u.getCanvasData(c,y).then(function(l){var f=l.toDataURL("image/png");i({data:f,width:l.width,height:l.height})})})},g.prototype.getSnapshotBlob=function(y){var u=this,c=this.getSvgRootElement(this.lf);return new Promise(function(i){u.getCanvasData(c,y).then(function(l){l.toBlob(function(f){i({data:f,width:l.width,height:l.height})},"image/png")})})},g.prototype.getClassRules=function(){var y="";if(this.useGlobalRules)for(var u=document.styleSheets,c=0;c<u.length;c++)for(var i=u[c],l=0;l<i.cssRules.length;l++)y+=i.cssRules[l].cssText;return this.customCssRules&&(y+=this.customCssRules),y},g.prototype.getCanvasData=function(y,u){var c=this,i=y.cloneNode(!0),l=i.lastChild,f=l.childNodes&&l.childNodes.length;if(f)for(var v=0;v<f;v++){var b=l.childNodes[v],E=b.classList&&Array.from(b.classList);if(E&&E.indexOf("lf-base")<0)l.removeChild(l.childNodes[v]),f--,v--;else{var S=l.childNodes[v];S&&S.childNodes.forEach(function(z){var H=z;c.removeAnchor(H.firstChild)})}}i.lastChild.style.transform="matrix(1, 0, 0, 1, "+(-this.offsetX+10)+", "+(-this.offsetY+10)+")";var A=window.devicePixelRatio||1,w=document.createElement("canvas"),T=document.getElementsByClassName("lf-base")[0],C=T.getBoundingClientRect(),j=this.lf.graphModel,L=j.transformModel,k=L.SCALE_X,U=L.SCALE_Y,X=Math.ceil(C.width/k),le=Math.ceil(C.height/U);w.style.width=X+"px",w.style.height=le+"px",w.width=X*A+80,w.height=le*A+80;var ie=w.getContext("2d");ie.clearRect(0,0,w.width,w.height),ie.scale(A,A),u?(ie.fillStyle=u,ie.fillRect(0,0,X*A+80,le*A+80)):ie.clearRect(0,0,X,le);var $=new Image,Z=document.createElement("style");Z.innerHTML=this.getClassRules();var se=document.createElement("foreignObject");return se.appendChild(Z),i.appendChild(se),new Promise(function(z){$.onload=function(){ie.drawImage($,0,0),z(w)};var H="data:image/svg+xml;charset=utf-8,"+new XMLSerializer().serializeToString(i),R=H.replace(/\n/g,"").replace(/\t/g,"").replace(/#/g,"%23");$.src=R})},g.pluginName="snapshot",g}(),Ij=new on([32,32,1]);function Rm(){return Ij.next()}var dr=function(){};dr.ObjTree=function(){return this};dr.ObjTree.VERSION="0.23";dr.ObjTree.prototype.xmlDecl=`<?xml version="1.0" encoding="UTF-8" ?>
`;dr.ObjTree.prototype.attr_prefix="-";dr.ObjTree.prototype.parseXML=function(g){var y;if(window.DOMParser){var u=new DOMParser,c=u.parseFromString(g,"application/xml");if(!c)return;y=c.documentElement}else window.ActiveXObject&&(u=new ActiveXObject("Microsoft.XMLDOM"),u.async=!1,u.loadXML(g),y=u.documentElement);if(!!y)return this.parseDOM(y)};dr.ObjTree.prototype.parseHTTP=function(g,y,u){var c={};for(var i in y)c[i]=y[i];if(c.method||(typeof c.postBody=="undefined"&&typeof c.postbody=="undefined"&&typeof c.parameters=="undefined"?c.method="get":c.method="post"),u){c.asynchronous=!0;var l=this,f=u,v=c.onComplete;c.onComplete=function(S){var A;S&&S.responseXML&&S.responseXML.documentElement&&(A=l.parseDOM(S.responseXML.documentElement)),f(A,S),v&&v(S)}}else c.asynchronous=!1;var b;if(typeof HTTP!="undefined"&&HTTP.Request){c.uri=g;var E=new HTTP.Request(c);E&&(b=E.transport)}else if(typeof Ajax!="undefined"&&Ajax.Request){var E=new Ajax.Request(g,c);E&&(b=E.transport)}if(u)return b;if(b&&b.responseXML&&b.responseXML.documentElement)return this.parseDOM(b.responseXML.documentElement)};dr.ObjTree.prototype.parseDOM=function(g){if(!!g){if(this.__force_array={},this.force_array)for(var y=0;y<this.force_array.length;y++)this.__force_array[this.force_array[y]]=1;var u=this.parseElement(g);if(this.__force_array[g.nodeName]&&(u=[u]),g.nodeType!=11){var c={};c[g.nodeName]=u,u=c}return u}};dr.ObjTree.prototype.parseElement=function(g){if(g.nodeType!=7){if(g.nodeType==3||g.nodeType==4){var y=g.nodeValue.match(/[^\x00-\x20]/);return y==null?void 0:g.nodeValue}var u,c={};if(g.attributes&&g.attributes.length){u={};for(var i=0;i<g.attributes.length;i++){var l=g.attributes[i].nodeName;if(typeof l=="string"){var f=g.attributes[i].nodeValue;!f||(l=this.attr_prefix+l,typeof c[l]=="undefined"&&(c[l]=0),c[l]++,this.addNode(u,l,c[l],f))}}}if(g.childNodes&&g.childNodes.length){var v=!0;u&&(v=!1);for(var i=0;i<g.childNodes.length&&v;i++){var b=g.childNodes[i].nodeType;b==3||b==4||(v=!1)}if(v){u||(u="");for(var i=0;i<g.childNodes.length;i++)u+=g.childNodes[i].nodeValue}else{u||(u={});for(var i=0;i<g.childNodes.length;i++){var l=g.childNodes[i].nodeName;if(typeof l=="string"){var f=this.parseElement(g.childNodes[i]);!f||(typeof c[l]=="undefined"&&(c[l]=0),c[l]++,this.addNode(u,l,c[l],f))}}}}return u}};dr.ObjTree.prototype.addNode=function(g,y,u,c){this.__force_array[y]?(u==1&&(g[y]=[]),g[y][g[y].length]=c):u==1?g[y]=c:u==2?g[y]=[g[y],c]:g[y][g[y].length]=c};dr.ObjTree.prototype.writeXML=function(g){var y=this.hash_to_xml(null,g);return this.xmlDecl+y};dr.ObjTree.prototype.hash_to_xml=function(g,y){var u=[],c=[];for(var i in y)if(!!y.hasOwnProperty(i)){var l=y[i];i.charAt(0)!=this.attr_prefix?typeof l=="undefined"||l==null?u[u.length]="<"+i+" />":typeof l=="object"&&l.constructor==Array?u[u.length]=this.array_to_xml(i,l):typeof l=="object"?u[u.length]=this.hash_to_xml(i,l):u[u.length]=this.scalar_to_xml(i,l):c[c.length]=" "+i.substring(1)+'="'+this.xml_escape(l)+'"'}var f=c.join(""),v=u.join("");return typeof g=="undefined"||g==null||(u.length>0?v.match(/\n/)?v="<"+g+f+`>
`+v+"</"+g+`>
`:v="<"+g+f+">"+v+"</"+g+`>
`:v="<"+g+f+` />
`),v};dr.ObjTree.prototype.array_to_xml=function(g,y){for(var u=[],c=0;c<y.length;c++){var i=y[c];typeof i=="undefined"||i==null?u[u.length]="<"+g+" />":typeof i=="object"&&i.constructor==Array?u[u.length]=this.array_to_xml(g,i):typeof i=="object"?u[u.length]=this.hash_to_xml(g,i):u[u.length]=this.scalar_to_xml(g,i)}return u.join("")};dr.ObjTree.prototype.scalar_to_xml=function(g,y){return g=="#text"?this.xml_escape(y):"<"+g+">"+this.xml_escape(y)+"</"+g+`>
`};dr.ObjTree.prototype.xml_escape=function(g){return g.replace(/&/g,"&").replace(/</g,"<").replace(/>/g,">").replace(/"/g,'"')};var Jl=globalThis&&globalThis.__read||function(g,y){var u=typeof Symbol=="function"&&g[Symbol.iterator];if(!u)return g;var c=u.call(g),i,l=[],f;try{for(;(y===void 0||y-- >0)&&!(i=c.next()).done;)l.push(i.value)}catch(v){f={error:v}}finally{try{i&&!i.done&&(u=c.return)&&u.call(c)}finally{if(f)throw f.error}}return l},an;(function(g){g.START="bpmn:startEvent",g.END="bpmn:endEvent",g.GATEWAY="bpmn:exclusiveGateway",g.USER="bpmn:userTask",g.SYSTEM="bpmn:serviceTask",g.FLOW="bpmn:sequenceFlow"})(an||(an={}));var lb=["-name","-id","bpmn:incoming","bpmn:outgoing","-sourceRef","-targetRef"];function id(g){var y={};return Object.entries(g).forEach(function(u){var c=Jl(u,2),i=c[0],l=c[1];typeof l!="object"?i.indexOf("-")===0?y[i]=l:y["-"+i]=l:y[i]=id(l)}),y}function fd(g){var y={};return Object.entries(g).forEach(function(u){var c=Jl(u,2),i=c[0],l=c[1];typeof l=="string"?i.indexOf("-")===0?y[i.substr(1)]=l:y[i]=l:typeof l=="object"?y[i]=fd(l):y[i]=l}),y}function jj(g,y){var u=new Map;y.nodes.forEach(function(i){var l,f={"-id":i.id};if(!((l=i.text)===null||l===void 0)&&l.value&&(f["-name"]=i.text.value),i.properties){var v=id(i.properties);Object.assign(f,v)}u.set(i.id,f),g[i.type]?Array.isArray(g[i.type])?g[i.type].push(f):g[i.type]=[g[i.type],f]:g[i.type]=f});var c=y.edges.map(function(i){var l,f,v=u.get(i.targetNodeId);v["bpmn:incoming"]?Array.isArray(v["bpmn:incoming"])?v["bpmn:incoming"].push(i.id):v["bpmn:incoming"]=[v["bpmn:incoming"],i.id]:v["bpmn:incoming"]=i.id;var b=u.get(i.sourceNodeId);b["bpmn:outgoing"]?Array.isArray(b["bpmn:outgoing"])?b["bpmn:outgoing"].push(i.id):b["bpmn:outgoing"]=[b["bpmn:outgoing"],i.id]:b["bpmn:outgoing"]=i.id;var E={"-id":i.id,"-sourceRef":i.sourceNodeId,"-targetRef":i.targetNodeId};if(!((l=i.text)===null||l===void 0)&&l.value&&(E["-name"]=(f=i.text)===null||f===void 0?void 0:f.value),i.properties){var S=id(i.properties);Object.assign(E,S)}return E});g[an.FLOW]=c}function Rj(g,y){g["bpmndi:BPMNEdge"]=y.edges.map(function(u){var c,i=u.id,l=u.pointsList.map(function(v){var b=v.x,E=v.y;return{"-x":b,"-y":E}}),f={"-id":i+"_di","-bpmnElement":i,"di:waypoint":l};return!((c=u.text)===null||c===void 0)&&c.value&&(f["bpmndi:BPMNLabel"]={"dc:Bounds":{"-x":u.text.x-u.text.value.length*10/2,"-y":u.text.y-7,"-width":u.text.value.length*10,"-height":14}}),f}),g["bpmndi:BPMNShape"]=y.nodes.map(function(u){var c,i=u.id,l=100,f=80,v=u.x,b=u.y,E=lo.shapeConfigMap.get(u.type);E&&(l=E.width,f=E.height),v-=l/2,b-=f/2;var S={"-id":i+"_di","-bpmnElement":i,"dc:Bounds":{"-x":v,"-y":b,"-width":l,"-height":f}};return!((c=u.text)===null||c===void 0)&&c.value&&(S["bpmndi:BPMNLabel"]={"dc:Bounds":{"-x":u.text.x-u.text.value.length*10/2,"-y":u.text.y-7,"-width":u.text.value.length*10,"-height":14}}),S})}function Bj(g){var y=[],u=[],c=g["bpmn:definitions"];if(c){var i=c["bpmn:process"];Object.keys(i).forEach(function(l){if(l.indexOf("bpmn:")===0){var f=i[l];if(l===an.FLOW){var v=c["bpmndi:BPMNDiagram"]["bpmndi:BPMNPlane"]["bpmndi:BPMNEdge"];u=zj(f,v)}else{var b=c["bpmndi:BPMNDiagram"]["bpmndi:BPMNPlane"]["bpmndi:BPMNShape"];y=y.concat(Lj(f,b,l))}}})}return{nodes:y,edges:u}}function Lj(g,y,u){var c=[];if(Array.isArray(g))g.forEach(function(f){var v;Array.isArray(y)?v=y.find(function(E){return E["-bpmnElement"]===f["-id"]}):v=y;var b=Bm(v,u,f);c.push(b)});else{var i=void 0;Array.isArray(y)?i=y.find(function(f){return f["-bpmnElement"]===g["-id"]}):i=y;var l=Bm(i,u,g);c.push(l)}return c}function Bm(g,y,u){var c=Number(g["dc:Bounds"]["-x"]),i=Number(g["dc:Bounds"]["-y"]),l=u["-name"],f=lo.shapeConfigMap.get(y);f&&(c+=f.width/2,i+=f.height/2);var v;Object.entries(u).forEach(function(A){var w=Jl(A,2),T=w[0],C=w[1];lb.indexOf(T)===-1&&(v||(v={}),v[T]=C)}),v&&(v=fd(v));var b;if(l&&(b={x:c,y:i,value:l},g["bpmndi:BPMNLabel"]&&g["bpmndi:BPMNLabel"]["dc:Bounds"])){var E=g["bpmndi:BPMNLabel"]["dc:Bounds"];b.x=Number(E["-x"])+Number(E["-width"])/2,b.y=Number(E["-y"])+Number(E["-height"])/2}var S={id:g["-bpmnElement"],type:y,x:c,y:i,properties:v};return b&&(S.text=b),S}function zj(g,y){var u=[];if(Array.isArray(g))g.forEach(function(i){var l;Array.isArray(y)?l=y.find(function(f){return f["-bpmnElement"]===i["-id"]}):l=y,u.push(Lm(l,i))});else{var c=void 0;Array.isArray(y)?c=y.find(function(i){return i["-bpmnElement"]===g["-id"]}):c=y,u.push(Lm(c,g))}return u}function Lm(g,y){var u,c=y["-name"];if(c){var i=g["bpmndi:BPMNLabel"]["dc:Bounds"],l=0;c.split(`
`).forEach(function(b){l<b.length&&(l=b.length)}),u={value:c,x:Number(i["-x"])+l*10/2,y:Number(i["-y"])+7}}var f;Object.entries(y).forEach(function(b){var E=Jl(b,2),S=E[0],A=E[1];lb.indexOf(S)===-1&&(f||(f={}),f[S]=A)}),f&&(f=fd(f));var v={id:y["-id"],type:an.FLOW,pointsList:g["di:waypoint"].map(function(b){return{x:Number(b["-x"]),y:Number(b["-y"])}}),sourceNodeId:y["-sourceRef"],targetNodeId:y["-targetRef"],properties:f};return u&&(v.text=u),v}var lo={pluginName:"bpmn-adapter",install:function(g){g.adapterIn=this.adapterIn,g.adapterOut=this.adapterOut},shapeConfigMap:new Map,setCustomShape:function(g,y){this.shapeConfigMap.set(g,y)},adapterOut:function(g){var y={"-id":"Process_"+Rm(),"-isExecutable":"false"};jj(y,g);var u={"-id":"BPMNPlane_1","-bpmnElement":y["-id"]};Rj(u,g);var c={"bpmn:definitions":{"-id":"Definitions_"+Rm(),"-xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","-xmlns:bpmn":"http://www.omg.org/spec/BPMN/20100524/MODEL","-xmlns:bpmndi":"http://www.omg.org/spec/BPMN/20100524/DI","-xmlns:dc":"http://www.omg.org/spec/DD/20100524/DC","-xmlns:di":"http://www.omg.org/spec/DD/20100524/DI","-targetNamespace":"http://bpmn.io/schema/bpmn","-exporter":"bpmn-js (https://demo.bpmn.io)","-exporterVersion":"7.3.0","bpmn:process":y,"bpmndi:BPMNDiagram":{"-id":"BPMNDiagram_1","bpmndi:BPMNPlane":u}}};return c},adapterIn:function(g){if(g)return Bj(g)}};lo.shapeConfigMap.set(an.START,{width:Nm.width,height:Nm.height});lo.shapeConfigMap.set(an.END,{width:Dm.width,height:Dm.height});lo.shapeConfigMap.set(an.GATEWAY,{width:Cm.width,height:Cm.height});lo.shapeConfigMap.set(an.SYSTEM,{width:Im.width,height:Im.height});lo.shapeConfigMap.set(an.USER,{width:jm.width,height:jm.height});var zm=globalThis&&globalThis.__assign||function(){return zm=Object.assign||function(g){for(var y,u=1,c=arguments.length;u<c;u++){y=arguments[u];for(var i in y)Object.prototype.hasOwnProperty.call(y,i)&&(g[i]=y[i])}return g},zm.apply(this,arguments)};globalThis&&globalThis.__read;var Fm;(function(g){g.HORIZONTAL="horizontal",g.VERTICAL="vertical"})(Fm||(Fm={}));var Fj=globalThis&&globalThis.__read||function(g,y){var u=typeof Symbol=="function"&&g[Symbol.iterator];if(!u)return g;var c=u.call(g),i,l=[],f;try{for(;(y===void 0||y-- >0)&&!(i=c.next()).done;)l.push(i.value)}catch(v){f={error:v}}finally{try{i&&!i.done&&(u=c.return)&&u.call(c)}finally{if(f)throw f.error}}return l};globalThis&&globalThis.__spread;var _j=globalThis&&globalThis.__read||function(g,y){var u=typeof Symbol=="function"&&g[Symbol.iterator];if(!u)return g;var c=u.call(g),i,l=[],f;try{for(;(y===void 0||y-- >0)&&!(i=c.next()).done;)l.push(i.value)}catch(v){f={error:v}}finally{try{i&&!i.done&&(u=c.return)&&u.call(c)}finally{if(f)throw f.error}}return l};globalThis&&globalThis.__spread;var kj=globalThis&&globalThis.__read||function(g,y){var u=typeof Symbol=="function"&&g[Symbol.iterator];if(!u)return g;var c=u.call(g),i,l=[],f;try{for(;(y===void 0||y-- >0)&&!(i=c.next()).done;)l.push(i.value)}catch(v){f={error:v}}finally{try{i&&!i.done&&(u=c.return)&&u.call(c)}finally{if(f)throw f.error}}return l},Gj=globalThis&&globalThis.__spread||function(){for(var g=[],y=0;y<arguments.length;y++)g=g.concat(kj(arguments[y]));return g},Pi="lf:defaultNodeMenu",Ti="lf:defaultEdgeMenu",wi="lf:defaultGraphMenu",_m="lf:defaultSelectionMenu",Uj=function(){function g(y){var u=this,c=y.lf;this.__menuDOM=document.createElement("ul"),this.lf=c,this.menuTypeMap=new Map,this.init(),this.lf.setMenuConfig=function(i){u.setMenuConfig(i)},this.lf.addMenuConfig=function(i){u.addMenuConfig(i)},this.lf.setMenuByType=function(i){u.setMenuByType(i)}}return g.prototype.init=function(){var y=this,u=[{text:"\u5220\u9664",callback:function(l){y.lf.deleteNode(l.id)}},{text:"\u7F16\u8F91\u6587\u672C",callback:function(l){y.lf.graphModel.editText(l.id)}},{text:"\u590D\u5236",callback:function(l){y.lf.cloneNode(l.id)}}];this.menuTypeMap.set(Pi,u);var c=[{text:"\u5220\u9664",callback:function(l){y.lf.deleteEdge(l.id)}},{text:"\u7F16\u8F91\u6587\u672C",callback:function(l){y.lf.graphModel.editText(l.id)}}];this.menuTypeMap.set(Ti,c),this.menuTypeMap.set(wi,[]);var i=[{text:"\u5220\u9664",callback:function(l){y.lf.clearSelectElements(),l.edges.forEach(function(f){return y.lf.deleteEdge(f.id)}),l.nodes.forEach(function(f){return y.lf.deleteNode(f.id)})}}];this.menuTypeMap.set(_m,i)},g.prototype.render=function(y,u){var c=this;this.__container=u,this.__currentData=null,this.__menuDOM.className="lf-menu",u.appendChild(this.__menuDOM),this.__menuDOM.addEventListener("click",function(i){i.stopPropagation();for(var l=i.target;Array.from(l.classList).indexOf("lf-menu-item")===-1&&Array.from(l.classList).indexOf("lf-menu")===-1;)l=l.parentElement;Array.from(l.classList).indexOf("lf-menu-item")>-1?(l.onclickCallback(c.__currentData),c.__menuDOM.style.display="none",c.__currentData=null):console.warn("\u70B9\u51FB\u533A\u57DF\u4E0D\u5728\u83DC\u5355\u9879\u5185\uFF0C\u8BF7\u68C0\u67E5\u4EE3\u7801\uFF01")},!0),this.lf.on("node:contextmenu",function(i){var l=i.data,f=i.position,v=f.domOverlayPosition,b=v.x,E=v.y,S=l.id,A=c.lf.graphModel.getNodeModelById(S),w=[],T=c.menuTypeMap.get(A.type);A&&A.menu&&Array.isArray(A.menu)?w=A.menu:T?w=T:w=c.menuTypeMap.get(Pi),c.__currentData=l,c.showMenu(b,E,w)}),this.lf.on("edge:contextmenu",function(i){var l=i.data,f=i.position,v=f.domOverlayPosition,b=v.x,E=v.y,S=l.id,A=c.lf.graphModel.getEdgeModelById(S),w=[],T=c.menuTypeMap.get(A.type);A&&A.menu&&Array.isArray(A.menu)?w=A.menu:T?w=T:w=c.menuTypeMap.get(Ti),c.__currentData=l,c.showMenu(b,E,w)}),this.lf.on("blank:contextmenu",function(i){var l=i.position,f=c.menuTypeMap.get(wi),v=l.domOverlayPosition,b=v.x,E=v.y;c.showMenu(b,E,f)}),this.lf.on("selection:contextmenu",function(i){var l=i.data,f=i.position,v=c.menuTypeMap.get(_m),b=f.domOverlayPosition,E=b.x,S=b.y;c.__currentData=l,c.showMenu(E,S,v)}),this.lf.on("node:mousedown",function(){c.__menuDOM.style.display="none"}),this.lf.on("edge:click",function(){c.__menuDOM.style.display="none"}),this.lf.on("blank:click",function(){c.__menuDOM.style.display="none"})},g.prototype.destroy=function(){var y;(y=this===null||this===void 0?void 0:this.__container)===null||y===void 0||y.removeChild(this.__menuDOM),this.__menuDOM=null},g.prototype.showMenu=function(y,u,c){if(!(!c||!c.length)){var i=this.__menuDOM;i.innerHTML="",i.append.apply(i,Gj(this.__getMenuDom(c))),i.children.length&&(i.style.display="block",i.style.top=u+"px",i.style.left=y+"px")}},g.prototype.setMenuByType=function(y){!y.type||!y.menu||this.menuTypeMap.set(y.type,y.menu)},g.prototype.__getMenuDom=function(y){var u=[];return y&&y.length>0&&y.forEach(function(c){var i=document.createElement("li");if(c.className?i.className="lf-menu-item "+c.className:i.className="lf-menu-item",c.icon===!0){var l=document.createElement("span");l.className="lf-menu-item-icon",i.appendChild(l)}var f=document.createElement("span");f.className="lf-menu-item-text",c.text&&(f.innerText=c.text),i.appendChild(f),i.onclickCallback=c.callback,u.push(i)}),u},g.prototype.setMenuConfig=function(y){!y||(y.nodeMenu!==void 0&&this.menuTypeMap.set(Pi,y.nodeMenu?y.nodeMenu:[]),y.edgeMenu!==void 0&&this.menuTypeMap.set(Ti,y.edgeMenu?y.edgeMenu:[]),y.graphMenu!==void 0&&this.menuTypeMap.set(wi,y.graphMenu?y.graphMenu:[]))},g.prototype.addMenuConfig=function(y){if(!!y){if(Array.isArray(y.nodeMenu)){var u=this.menuTypeMap.get(Pi);this.menuTypeMap.set(Pi,u.concat(y.nodeMenu))}if(Array.isArray(y.edgeMenu)){var u=this.menuTypeMap.get(Ti);this.menuTypeMap.set(Ti,u.concat(y.edgeMenu))}if(Array.isArray(y.graphMenu)){var u=this.menuTypeMap.get(wi);this.menuTypeMap.set(wi,u.concat(y.graphMenu))}}},g.prototype.changeMenuItem=function(y,u){if(y==="add")this.addMenuConfig(u);else if(y==="reset")this.setMenuConfig(u);else throw new Error("The first parameter of changeMenuConfig should be 'add' or 'reset'")},g.pluginName="menu",g}();globalThis&&globalThis.__read;var Hj=function(){function g(y){var u=this,c=y.lf;this.lf=c,this.lf.setPatternItems=function(i){u.setPatternItems(i)}}return g.prototype.render=function(y,u){var c=this;if(this.destroy(),!this.shapeList||this.shapeList.length===0){this.domContainer=u;return}this.panelEl=document.createElement("div"),this.panelEl.className="lf-dndpanel",this.shapeList.forEach(function(i){c.panelEl.appendChild(c.createDndItem(i))}),u.appendChild(this.panelEl),this.domContainer=u},g.prototype.destroy=function(){this.domContainer&&this.panelEl&&this.domContainer.contains(this.panelEl)&&this.domContainer.removeChild(this.panelEl)},g.prototype.setPatternItems=function(y){this.shapeList=y,this.domContainer&&this.render(this.lf,this.domContainer)},g.prototype.createDndItem=function(y){var u=this,c=document.createElement("div");c.className=y.className?"lf-dnd-item "+y.className:"lf-dnd-item";var i=document.createElement("div");if(i.className="lf-dnd-shape",y.icon&&(i.style.backgroundImage="url("+y.icon+")"),c.appendChild(i),y.label){var l=document.createElement("div");l.innerText=y.label,l.className="lf-dnd-text",c.appendChild(l)}return c.onmousedown=function(){y.type&&u.lf.dnd.startDrag({type:y.type,properties:y.properties,text:y.text}),y.callback&&y.callback(u.lf,u.domContainer)},c},g.pluginName="dndPanel",g}(),Yj=function(){function g(y){var u=this,c=y.lf;this.__disabled=!1,this.isDefalutStopMoveGraph=!1,this.isWholeNode=!0,this.isWholeEdge=!0,this.__draw=function(l){var f=u.lf.getPointByClient(l.clientX,l.clientY).domOverlayPosition,v=f.x,b=f.y;u.endPoint={x:v,y:b};var E=u.startPoint,S=E.x,A=E.y,w=u.wrapper.style,T=S,C=A,j=v-S,L=b-A;v<S&&(T=v,j=S-v),b<A&&(C=b,L=A-b),w.left=T+"px",w.top=C+"px",w.width=j+"px",w.height=L+"px"},this.__drawOff=function(){document.removeEventListener("mousemove",u.__draw),document.removeEventListener("mouseup",u.__drawOff),u.wrapper.oncontextmenu=null,u.__domContainer.removeChild(u.wrapper);var l=u.startPoint,f=l.x,v=l.y,b=u.endPoint,E=b.x,S=b.y;if(!(Math.abs(E-f)<10&&Math.abs(S-v)<10)){var A=[Math.min(f,E),Math.min(v,S)],w=[Math.max(f,E),Math.max(v,S)],T=u.lf.getAreaElement(A,w,u.isWholeEdge,u.isWholeNode);T.forEach(function(C){u.lf.selectElementById(C.id,!0)}),u.lf.emit("selection:selected",T)}},this.lf=c;var i=c.getEditConfig().stopMoveGraph;this.isDefalutStopMoveGraph=i,c.openSelectionSelect=function(){u.openSelectionSelect()},c.closeSelectionSelect=function(){u.closeSelectionSelect()}}return g.prototype.render=function(y,u){var c=this;this.__domContainer=u,y.on("blank:mousedown",function(i){var l=i.e,f=y.getEditConfig();if(!(!f.stopMoveGraph||c.__disabled)){var v=y.getPointByClient(l.clientX,l.clientY).domOverlayPosition,b=v.x,E=v.y;c.startPoint={x:b,y:E},c.endPoint={x:b,y:E};var S=document.createElement("div");S.className="lf-selection-select",S.oncontextmenu=function(w){w.preventDefault()},S.style.top=c.startPoint.y+"px",S.style.left=c.startPoint.x+"px",u.appendChild(S),c.wrapper=S,document.addEventListener("mousemove",c.__draw),document.addEventListener("mouseup",c.__drawOff)}})},g.prototype.setSelectionSense=function(y,u){y===void 0&&(y=!0),u===void 0&&(u=!0),this.isWholeEdge=y,this.isWholeNode=u},g.prototype.openSelectionSelect=function(){var y=this.lf.getEditConfig().stopMoveGraph;y||(this.isDefalutStopMoveGraph=!1,this.lf.updateEditConfig({stopMoveGraph:!0})),this.open()},g.prototype.closeSelectionSelect=function(){this.isDefalutStopMoveGraph||this.lf.updateEditConfig({stopMoveGraph:!1}),this.close()},g.prototype.open=function(){this.__disabled=!1},g.prototype.close=function(){this.__disabled=!0},g.pluginName="selectionSelect",g}();globalThis&&globalThis.__values;var sb=globalThis&&globalThis.__extends||function(){var g=function(y,u){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,i){c.__proto__=i}||function(c,i){for(var l in i)i.hasOwnProperty(l)&&(c[l]=i[l])},g(y,u)};return function(y,u){g(y,u);function c(){this.constructor=y}y.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}(),Mi=globalThis&&globalThis.__read||function(g,y){var u=typeof Symbol=="function"&&g[Symbol.iterator];if(!u)return g;var c=u.call(g),i,l=[],f;try{for(;(y===void 0||y-- >0)&&!(i=c.next()).done;)l.push(i.value)}catch(v){f={error:v}}finally{try{i&&!i.done&&(u=c.return)&&u.call(c)}finally{if(f)throw f.error}}return l};(function(g){sb(y,g);function y(){return g!==null&&g.apply(this,arguments)||this}return y.prototype.getEdge=function(){for(var u=this.props.model.getEdgeStyle(),c=u.strokeWidth,i=u.stroke,l=u.strokeDashArray,f=this.props.model.points,v=f.split(" ").map(function(M){return M.split(",").map(function(I){return Number(I)})}),b=Mi(v[0],2),E=b[0],S=b[1],A="M"+E+" "+S,w=5,T=1;T<v.length-1;T++){var C=Mi(v[T-1],2),j=C[0],L=C[1],k=Mi(v[T],2),U=k[0],X=k[1],le=Mi(v[T+1],2),ie=le[0],$=le[1];if(U===j&&X!==L){var Z=X>L?X-w:X+w;A=A+" L "+U+" "+Z}if(X===L&&U!==j){var se=U>j?U-w:U+w;A=A+" L "+se+" "+X}if(A=A+" Q "+U+" "+X,U===ie&&X!==$){var Z=X>$?X-w:X+w;A=A+" "+U+" "+Z}if(X===$&&U!==ie){var se=U>ie?U-w:U+w;A=A+" "+se+" "+X}}var z=Mi(v[v.length-1],2),H=z[0],R=z[1];return A=A+" L "+H+" "+R,Ke.exports.h("path",{d:A,strokeWidth:c,stroke:i,fill:"none",strokeDashArray:l})},y.extendKey="curvedEdge",y})(Ke.exports.PolylineEdge);(function(g){sb(y,g);function y(){return g!==null&&g.apply(this,arguments)||this}return y})(Ke.exports.PolylineEdgeModel);var cd,_t,fb,Ci,cb,km,db={},pb=[],Xj=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function kn(g,y){for(var u in y)g[u]=y[u];return g}function hb(g){var y=g.parentNode;y&&y.removeChild(g)}function Ii(g,y,u){var c,i,l,f={};for(l in y)l=="key"?c=y[l]:l=="ref"?i=y[l]:f[l]=y[l];if(arguments.length>2&&(f.children=arguments.length>3?cd.call(arguments,2):u),typeof g=="function"&&g.defaultProps!=null)for(l in g.defaultProps)f[l]===void 0&&(f[l]=g.defaultProps[l]);return Gl(g,f,c,i,null)}function Gl(g,y,u,c,i){var l={type:g,props:y,key:u,ref:c,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:i==null?++fb:i};return i==null&&_t.vnode!=null&&_t.vnode(l),l}function dd(g){return g.children}function Vo(g,y){this.props=g,this.context=y}function Qo(g,y){if(y==null)return g.__?Qo(g.__,g.__.__k.indexOf(g)+1):null;for(var u;y<g.__k.length;y++)if((u=g.__k[y])!=null&&u.__e!=null)return u.__e;return typeof g.type=="function"?Qo(g):null}function yb(g){var y,u;if((g=g.__)!=null&&g.__c!=null){for(g.__e=g.__c.base=null,y=0;y<g.__k.length;y++)if((u=g.__k[y])!=null&&u.__e!=null){g.__e=g.__c.base=u.__e;break}return yb(g)}}function Gm(g){(!g.__d&&(g.__d=!0)&&Ci.push(g)&&!Wl.__r++||km!==_t.debounceRendering)&&((km=_t.debounceRendering)||cb)(Wl)}function Wl(){for(var g;Wl.__r=Ci.length;)g=Ci.sort(function(y,u){return y.__v.__b-u.__v.__b}),Ci=[],g.some(function(y){var u,c,i,l,f,v;y.__d&&(f=(l=(u=y).__v).__e,(v=u.__P)&&(c=[],(i=kn({},l)).__v=l.__v+1,bb(v,l,i,u.__n,v.ownerSVGElement!==void 0,l.__h!=null?[f]:null,c,f==null?Qo(l):f,l.__h),Kj(c,l),l.__e!=f&&yb(l)))})}function vb(g,y,u,c,i,l,f,v,b,E){var S,A,w,T,C,j,L,k=c&&c.__k||pb,U=k.length;for(u.__k=[],S=0;S<y.length;S++)if((T=u.__k[S]=(T=y[S])==null||typeof T=="boolean"?null:typeof T=="string"||typeof T=="number"||typeof T=="bigint"?Gl(null,T,null,null,T):Array.isArray(T)?Gl(dd,{children:T},null,null,null):T.__b>0?Gl(T.type,T.props,T.key,null,T.__v):T)!=null){if(T.__=u,T.__b=u.__b+1,(w=k[S])===null||w&&T.key==w.key&&T.type===w.type)k[S]=void 0;else for(A=0;A<U;A++){if((w=k[A])&&T.key==w.key&&T.type===w.type){k[A]=void 0;break}w=null}bb(g,T,w=w||db,i,l,f,v,b,E),C=T.__e,(A=T.ref)&&w.ref!=A&&(L||(L=[]),w.ref&&L.push(w.ref,null,T),L.push(A,T.__c||C,T)),C!=null?(j==null&&(j=C),typeof T.type=="function"&&T.__k===w.__k?T.__d=b=gb(T,b,g):b=mb(g,T,w,k,C,b),typeof u.type=="function"&&(u.__d=b)):b&&w.__e==b&&b.parentNode!=g&&(b=Qo(w))}for(u.__e=j,S=U;S--;)k[S]!=null&&(typeof u.type=="function"&&k[S].__e!=null&&k[S].__e==u.__d&&(u.__d=Qo(c,S+1)),Eb(k[S],k[S]));if(L)for(S=0;S<L.length;S++)Ob(L[S],L[++S],L[++S])}function gb(g,y,u){for(var c,i=g.__k,l=0;i&&l<i.length;l++)(c=i[l])&&(c.__=g,y=typeof c.type=="function"?gb(c,y,u):mb(u,c,c,i,c.__e,y));return y}function mb(g,y,u,c,i,l){var f,v,b;if(y.__d!==void 0)f=y.__d,y.__d=void 0;else if(u==null||i!=l||i.parentNode==null)e:if(l==null||l.parentNode!==g)g.appendChild(i),f=null;else{for(v=l,b=0;(v=v.nextSibling)&&b<c.length;b+=2)if(v==i)break e;g.insertBefore(i,l),f=l}return f!==void 0?f:i.nextSibling}function Wj(g,y,u,c,i){var l;for(l in u)l==="children"||l==="key"||l in y||Kl(g,l,null,u[l],c);for(l in y)i&&typeof y[l]!="function"||l==="children"||l==="key"||l==="value"||l==="checked"||u[l]===y[l]||Kl(g,l,y[l],u[l],c)}function Um(g,y,u){y[0]==="-"?g.setProperty(y,u):g[y]=u==null?"":typeof u!="number"||Xj.test(y)?u:u+"px"}function Kl(g,y,u,c,i){var l;e:if(y==="style")if(typeof u=="string")g.style.cssText=u;else{if(typeof c=="string"&&(g.style.cssText=c=""),c)for(y in c)u&&y in u||Um(g.style,y,"");if(u)for(y in u)c&&u[y]===c[y]||Um(g.style,y,u[y])}else if(y[0]==="o"&&y[1]==="n")l=y!==(y=y.replace(/Capture$/,"")),y=y.toLowerCase()in g?y.toLowerCase().slice(2):y.slice(2),g.l||(g.l={}),g.l[y+l]=u,u?c||g.addEventListener(y,l?Ym:Hm,l):g.removeEventListener(y,l?Ym:Hm,l);else if(y!=="dangerouslySetInnerHTML"){if(i)y=y.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(y!=="href"&&y!=="list"&&y!=="form"&&y!=="tabIndex"&&y!=="download"&&y in g)try{g[y]=u==null?"":u;break e}catch(f){}typeof u=="function"||(u!=null&&(u!==!1||y[0]==="a"&&y[1]==="r")?g.setAttribute(y,u):g.removeAttribute(y))}}function Hm(g){this.l[g.type+!1](_t.event?_t.event(g):g)}function Ym(g){this.l[g.type+!0](_t.event?_t.event(g):g)}function bb(g,y,u,c,i,l,f,v,b){var E,S,A,w,T,C,j,L,k,U,X,le,ie,$=y.type;if(y.constructor!==void 0)return null;u.__h!=null&&(b=u.__h,v=y.__e=u.__e,y.__h=null,l=[v]),(E=_t.__b)&&E(y);try{e:if(typeof $=="function"){if(L=y.props,k=(E=$.contextType)&&c[E.__c],U=E?k?k.props.value:E.__:c,u.__c?j=(S=y.__c=u.__c).__=S.__E:("prototype"in $&&$.prototype.render?y.__c=S=new $(L,U):(y.__c=S=new Vo(L,U),S.constructor=$,S.render=Qj),k&&k.sub(S),S.props=L,S.state||(S.state={}),S.context=U,S.__n=c,A=S.__d=!0,S.__h=[]),S.__s==null&&(S.__s=S.state),$.getDerivedStateFromProps!=null&&(S.__s==S.state&&(S.__s=kn({},S.__s)),kn(S.__s,$.getDerivedStateFromProps(L,S.__s))),w=S.props,T=S.state,A)$.getDerivedStateFromProps==null&&S.componentWillMount!=null&&S.componentWillMount(),S.componentDidMount!=null&&S.__h.push(S.componentDidMount);else{if($.getDerivedStateFromProps==null&&L!==w&&S.componentWillReceiveProps!=null&&S.componentWillReceiveProps(L,U),!S.__e&&S.shouldComponentUpdate!=null&&S.shouldComponentUpdate(L,S.__s,U)===!1||y.__v===u.__v){S.props=L,S.state=S.__s,y.__v!==u.__v&&(S.__d=!1),S.__v=y,y.__e=u.__e,y.__k=u.__k,y.__k.forEach(function(Z){Z&&(Z.__=y)}),S.__h.length&&f.push(S);break e}S.componentWillUpdate!=null&&S.componentWillUpdate(L,S.__s,U),S.componentDidUpdate!=null&&S.__h.push(function(){S.componentDidUpdate(w,T,C)})}if(S.context=U,S.props=L,S.__v=y,S.__P=g,X=_t.__r,le=0,"prototype"in $&&$.prototype.render)S.state=S.__s,S.__d=!1,X&&X(y),E=S.render(S.props,S.state,S.context);else do S.__d=!1,X&&X(y),E=S.render(S.props,S.state,S.context),S.state=S.__s;while(S.__d&&++le<25);S.state=S.__s,S.getChildContext!=null&&(c=kn(kn({},c),S.getChildContext())),A||S.getSnapshotBeforeUpdate==null||(C=S.getSnapshotBeforeUpdate(w,T)),ie=E!=null&&E.type===dd&&E.key==null?E.props.children:E,vb(g,Array.isArray(ie)?ie:[ie],y,u,c,i,l,f,v,b),S.base=y.__e,y.__h=null,S.__h.length&&f.push(S),j&&(S.__E=S.__=null),S.__e=!1}else l==null&&y.__v===u.__v?(y.__k=u.__k,y.__e=u.__e):y.__e=Vj(u.__e,y,u,c,i,l,f,b);(E=_t.diffed)&&E(y)}catch(Z){y.__v=null,(b||l!=null)&&(y.__e=v,y.__h=!!b,l[l.indexOf(v)]=null),_t.__e(Z,y,u)}}function Kj(g,y){_t.__c&&_t.__c(y,g),g.some(function(u){try{g=u.__h,u.__h=[],g.some(function(c){c.call(u)})}catch(c){_t.__e(c,u.__v)}})}function Vj(g,y,u,c,i,l,f,v){var b,E,S,A=u.props,w=y.props,T=y.type,C=0;if(T==="svg"&&(i=!0),l!=null){for(;C<l.length;C++)if((b=l[C])&&"setAttribute"in b==!!T&&(T?b.localName===T:b.nodeType===3)){g=b,l[C]=null;break}}if(g==null){if(T===null)return document.createTextNode(w);g=i?document.createElementNS("http://www.w3.org/2000/svg",T):document.createElement(T,w.is&&w),l=null,v=!1}if(T===null)A===w||v&&g.data===w||(g.data=w);else{if(l=l&&cd.call(g.childNodes),E=(A=u.props||db).dangerouslySetInnerHTML,S=w.dangerouslySetInnerHTML,!v){if(l!=null)for(A={},C=0;C<g.attributes.length;C++)A[g.attributes[C].name]=g.attributes[C].value;(S||E)&&(S&&(E&&S.__html==E.__html||S.__html===g.innerHTML)||(g.innerHTML=S&&S.__html||""))}if(Wj(g,w,A,i,v),S)y.__k=[];else if(C=y.props.children,vb(g,Array.isArray(C)?C:[C],y,u,c,i&&T!=="foreignObject",l,f,l?l[0]:u.__k&&Qo(u,0),v),l!=null)for(C=l.length;C--;)l[C]!=null&&hb(l[C]);v||("value"in w&&(C=w.value)!==void 0&&(C!==g.value||T==="progress"&&!C||T==="option"&&C!==A.value)&&Kl(g,"value",C,A.value,!1),"checked"in w&&(C=w.checked)!==void 0&&C!==g.checked&&Kl(g,"checked",C,A.checked,!1))}return g}function Ob(g,y,u){try{typeof g=="function"?g(y):g.current=y}catch(c){_t.__e(c,u)}}function Eb(g,y,u){var c,i;if(_t.unmount&&_t.unmount(g),(c=g.ref)&&(c.current&&c.current!==g.__e||Ob(c,null,y)),(c=g.__c)!=null){if(c.componentWillUnmount)try{c.componentWillUnmount()}catch(l){_t.__e(l,y)}c.base=c.__P=null}if(c=g.__k)for(i=0;i<c.length;i++)c[i]&&Eb(c[i],y,typeof g.type!="function");u||g.__e==null||hb(g.__e),g.__e=g.__d=void 0}function Qj(g,y,u){return this.constructor(g,u)}cd=pb.slice,_t={__e:function(g,y,u,c){for(var i,l,f;y=y.__;)if((i=y.__c)&&!i.__)try{if((l=i.constructor)&&l.getDerivedStateFromError!=null&&(i.setState(l.getDerivedStateFromError(g)),f=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(g,c||{}),f=i.__d),f)return i.__E=i}catch(v){g=v}throw g}},fb=0,Vo.prototype.setState=function(g,y){var u;u=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=kn({},this.state),typeof g=="function"&&(g=g(kn({},u),this.props)),g&&kn(u,g),g!=null&&this.__v&&(y&&this.__h.push(y),Gm(this))},Vo.prototype.forceUpdate=function(g){this.__v&&(this.__e=!0,g&&this.__h.push(g),Gm(this))},Vo.prototype.render=dd,Ci=[],cb=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Wl.__r=0;var ji=globalThis&&globalThis.__assign||function(){return ji=Object.assign||function(g){for(var y,u=1,c=arguments.length;u<c;u++){y=arguments[u];for(var i in y)Object.prototype.hasOwnProperty.call(y,i)&&(g[i]=y[i])}return g},ji.apply(this,arguments)};function pd(g){var y=g.x,u=g.y,c=g.width,i=g.height,l=g.radius,f=g.className,v=y-c/2,b=u-i/2,E=ji(ji({width:10,height:10,cx:0,cy:0,rx:l||0,ry:l||0,fill:"transparent",fillOpacity:1,strokeWidth:"1px",stroke:"#000",strokeOpacity:1,className:"lf-basic-shape "+f},g),{x:v,y:b});return Ke.exports.h("rect",ji({},E))}pd.defaultProps={radius:0,stroke:"",strokeDasharray:"",className:""};var Ko;(function(g){g.NODE="node",g.CIRCLE_NODE="circle-node",g.POLYGON_NODE="polygon-node",g.RECT_NODE="rect-node",g.HTML_NODE="html-node",g.TEXT_NODE="text-node",g.ELLIPSE_NODE="ellipse-node",g.DIAMOND_NODE="diamond-node",g.EDGE="edge",g.LINE_EDGE="line-edge",g.POLYLINE_EDGE="polyline-edge",g.BEZIER_EDGE="bezier-edge",g.GRAPH="graph"})(Ko||(Ko={}));function Ul(g){var y=g.x,u=g.y,c=g.width,i=g.height;return{minX:y-c/2,minY:u-i/2,maxX:y+c/2,maxY:u+i/2}}function Xm(g){var y=Ul(g),u=g.radius,c=y.minX,i=y.minY,l=y.maxX,f=y.maxY;return[{x:c+u,y:i+u},{x:l-u,y:i+u},{x:l-u,y:f-u},{x:c+u,y:f-u}]}function Wm(g){var y=g.point,u=g.beforeNode,c=g.afterNode,i=y.x,l=y.y,f={x:i,y:l},v=u.radius,b=Ul(u),E=Ul(c);if(i===b.minX){f.x=E.minX;var S=(l-u.y)/(u.height/2-v);S?f.y=c.y+(c.height/2-v)*S:f.y=c.y}else if(i===b.maxX){f.x=E.maxX;var S=(l-u.y)/(u.height/2-v);S?f.y=c.y+(c.height/2-v)*S:f.y=c.y}else if(l===b.minY){f.y=E.minY;var S=(i-u.x)/(u.width/2-v);S?f.x=c.x+(c.width/2-v)*S:f.x=c.x}else if(l===b.maxY){f.y=E.maxY;var S=(i-u.x)/(u.width/2-v);S?f.x=c.x+(c.width/2-v)*S:f.x=c.x}else{var A=Xm(u),w=Xm(c),T=Ul(u),C=T.minX,j=T.minY,L=T.maxX,k=T.maxY,U=-1;if(i-C<v&&l-j<v?U=0:L-i<v&&l-j<v?U=1:L-i<v&&k-l<v?U=2:i-C<v&&j-l<v&&(U=3),U>-1){var X=Math.atan2(l-A[U].y,i-A[U].x);f.x=w[U].x+v*Math.cos(X),f.y=w[U].y+v*Math.sin(X)}}return f}function Km(g){var y=g.point,u=g.beforeNode,c=g.afterNode,i=c.rx,l=c.ry,f=y,v=(y.y-u.y)/(y.x-u.x),b=i,E=l,S,A;return v>=1/0?(S=0,A=E):v<=-1/0?(S=0,A=-E):y.x-u.x>0?(S=b*E/Math.sqrt(E*E+b*b*v*v),A=b*E*v/Math.sqrt(E*E+b*b*v*v)):(S=-(b*E)/Math.sqrt(E*E+b*b*v*v),A=-(b*E*v)/Math.sqrt(E*E+b*b*v*v)),f={x:S+c.x,y:A+c.y},f}function Vm(g){var y=g.point,u=g.beforeNode,c=g.afterNode,i=y,l,f,v=y.x-u.x,b=y.y-u.y,E=u.rx,S=u.ry,A=Math.sqrt((E-Math.abs(v))*(E-Math.abs(v))+b*b)/Math.sqrt(E*E+S*S),w=c.rx,T=c.ry,C=Math.sqrt((w*w+T*T)*A*A*(w*w/(w*w+T*T))),j=C*(T/w);return v>=0?l=w-C:l=C-w,b>0?f=j:f=-j,i={x:l+c.x,y:f+c.y},i}var Jj=globalThis&&globalThis.__extends||function(){var g=function(y,u){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,i){c.__proto__=i}||function(c,i){for(var l in i)i.hasOwnProperty(l)&&(c[l]=i[l])},g(y,u)};return function(y,u){g(y,u);function c(){this.constructor=y}y.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}(),uo=globalThis&&globalThis.__assign||function(){return uo=Object.assign||function(g){for(var y,u=1,c=arguments.length;u<c;u++){y=arguments[u];for(var i in y)Object.prototype.hasOwnProperty.call(y,i)&&(g[i]=y[i])}return g},uo.apply(this,arguments)},Zj=Ke.exports.LogicFlowUtil.StepDrag,$j=function(g){Jj(y,g);function y(u){var c=g.call(this)||this;c.updatePosition=function(f){var v=f.deltaX,b=f.deltaY,E=c.nodeModel,S=E.x,A=E.y;c.nodeModel.x=S+v/2,c.nodeModel.y=A+b/2,c.nodeModel.moveText(v/2,b/2)},c.getResize=function(f){var v=f.index,b=f.deltaX,E=f.deltaY,S=f.width,A=f.height,w=f.pct,T=w===void 0?1:w,C={width:S,height:A};switch(v){case 0:C.width=S-b*T,C.height=A-E*T;break;case 1:C.width=S+b*T,C.height=A-E*T;break;case 2:C.width=S+b,C.height=A+E*T;break;case 3:C.width=S-b*T,C.height=A+E*T;break}return C},c.updateRect=function(f){var v=f.deltaX,b=f.deltaY,E=c.nodeModel,S=E.id,A=E.x,w=E.y,T=E.width,C=E.height,j=E.radius,L=c.index,k=c.getResize({index:L,deltaX:v,deltaY:b,width:T,height:C,pct:1}),U=c.nodeModel,X=U.minWidth,le=U.minHeight,ie=U.maxWidth,$=U.maxHeight;if(k.width<X||k.width>ie||k.height<le||k.height>$){c.dragHandler.cancelDrag();return}c.updatePosition({deltaX:v,deltaY:b}),c.nodeModel.width=k.width,c.nodeModel.height=k.height,c.nodeModel.setProperties({nodeSize:{width:k.width,height:k.height}});var Z=c.getNodeEdges(S),se={x:A,y:w,width:T,height:C,radius:j},z={x:c.nodeModel.x,y:c.nodeModel.y,width:c.nodeModel.width,height:c.nodeModel.height,radius:j},H={point:"",beforeNode:se,afterNode:z},R;Z.sourceEdges.forEach(function(M){H.point=M.startPoint,R=Wm(H),M.updateStartPoint(R)}),Z.targetEdges.forEach(function(M){H.point=M.endPoint,R=Wm(H),M.updateEndPoint(R)}),c.eventEmit({beforeNode:se,afterNode:z})},c.updateEllipse=function(f){var v=f.deltaX,b=f.deltaY,E=c.nodeModel,S=E.id,A=E.rx,w=E.ry,T=E.x,C=E.y,j=c.index,L=A,k=w,U=c.getResize({index:j,deltaX:v,deltaY:b,width:L,height:k,pct:1/2}),X=c.nodeModel,le=X.minWidth,ie=X.minHeight,$=X.maxWidth,Z=X.maxHeight;if(U.width<le/2||U.width>$/2||U.height<ie/2||U.height>Z/2){c.dragHandler.cancelDrag();return}c.updatePosition({deltaX:v,deltaY:b}),c.nodeModel.rx=c.nodeModel.rx+v/2,c.nodeModel.ry=c.nodeModel.ry+b/2,c.nodeModel.setProperties({nodeSize:{rx:U.width,ry:U.height}});var se=c.getNodeEdges(S),z={x:T,y:C},H={rx:U.width,ry:U.height,x:c.nodeModel.x,y:c.nodeModel.y},R={point:{},beforeNode:z,afterNode:H},M;se.sourceEdges.forEach(function(I){R.point=I.startPoint,M=Km(R),I.updateStartPoint(M)}),se.targetEdges.forEach(function(I){R.point=I.endPoint,M=Km(R),I.updateEndPoint(M)}),c.eventEmit({beforeNode:uo(uo({},z),{rx:A,ry:w}),afterNode:H})},c.updateDiamond=function(f){var v=f.deltaX,b=f.deltaY,E=c.nodeModel,S=E.id,A=E.rx,w=E.ry,T=E.x,C=E.y,j=c.index,L=A,k=w,U=c.getResize({index:j,deltaX:v,deltaY:b,width:L,height:k,pct:1/2}),X=c.nodeModel,le=X.minWidth,ie=X.minHeight,$=X.maxWidth,Z=X.maxHeight;if(U.width<le/2||U.width>$/2||U.height<ie/2||U.height>Z/2){c.dragHandler.cancelDrag();return}c.updatePosition({deltaX:v,deltaY:b}),c.nodeModel.rx=c.nodeModel.rx+v/2,c.nodeModel.ry=c.nodeModel.ry+b/2,c.nodeModel.setProperties({nodeSize:{rx:U.width,ry:U.height}});var se={x:T,y:C,rx:A,ry:w},z={rx:U.width,ry:U.height,x:c.nodeModel.x,y:c.nodeModel.y},H={point:{},beforeNode:se,afterNode:z},R,M=c.getNodeEdges(S);M.sourceEdges.forEach(function(I){H.point=I.startPoint,R=Vm(H),I.updateStartPoint(R)}),M.targetEdges.forEach(function(I){H.point=I.endPoint,R=Vm(H),I.updateEndPoint(R)}),c.eventEmit({beforeNode:se,afterNode:z})},c.eventEmit=function(f){var v=f.beforeNode,b=f.afterNode,E=c.nodeModel,S=E.id,A=E.modelType,w=E.type,T=uo({id:S,modelType:A,type:w},v),C=uo({id:S,modelType:A,type:w},b);c.graphModel.eventCenter.emit("node:resize",{oldNodeSize:T,newNodeSize:C})},c.onDraging=function(f){var v=f.deltaX,b=f.deltaY,E=c.nodeModel.modelType;E===Ko.RECT_NODE||E===Ko.HTML_NODE?c.updateRect({deltaX:v,deltaY:b}):E===Ko.ELLIPSE_NODE?c.updateEllipse({deltaX:v,deltaY:b}):E===Ko.DIAMOND_NODE&&c.updateDiamond({deltaX:v,deltaY:b})},c.index=u.index,c.nodeModel=u.model,c.graphModel=u.graphModel;var i=c.graphModel.gridSize,l=2;return i>1&&(l=2*i),c.nodeModel.gridSize&&(l=2*c.nodeModel.gridSize),c.state={},c.dragHandler=new Zj({onDraging:c.onDraging,step:l}),c}return y.prototype.getNodeEdges=function(u){for(var c=this.graphModel,i=c.edges,l=[],f=[],v=0;v<i.length;v++){var b=i[v];b.sourceNodeId===u?l.push(b):i[v].targetNodeId===u&&f.push(b)}return{sourceEdges:l,targetEdges:f}},y.prototype.render=function(){var u=this.props,c=u.x,i=u.y,l=u.index,f=u.model,v=f.getControlPointStyle();return Ii("g",{className:"lf-resize-control-"+l},Ii(pd,uo({className:"lf-node-control"},{x:c,y:i},v,{onMouseDown:this.dragHandler.handleMouseDown})))},y}(Vo),qj=globalThis&&globalThis.__extends||function(){var g=function(y,u){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,i){c.__proto__=i}||function(c,i){for(var l in i)i.hasOwnProperty(l)&&(c[l]=i[l])},g(y,u)};return function(y,u){g(y,u);function c(){this.constructor=y}y.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}(),Vl=globalThis&&globalThis.__assign||function(){return Vl=Object.assign||function(g){for(var y,u=1,c=arguments.length;u<c;u++){y=arguments[u];for(var i in y)Object.prototype.hasOwnProperty.call(y,i)&&(g[i]=y[i])}return g},Vl.apply(this,arguments)},Zl=function(g){qj(y,g);function y(){var u=g.call(this)||this;return u.state={},u}return y.prototype.getResizeControl=function(){var u=this.props,c=u.model,i=u.graphModel,l=c.x,f=c.y,v=c.width,b=c.height,E={minX:l-v/2,minY:f-b/2,maxX:l+v/2,maxY:f+b/2},S=E.minX,A=E.minY,w=E.maxX,T=E.maxY,C=[{x:S,y:A},{x:w,y:A},{x:w,y:T},{x:S,y:T}];return C.map(function(j,L){return Ii($j,Vl({index:L},j,{model:c,graphModel:i}))})},y.prototype.getGroupSolid=function(){var u=this.props.model,c=u.x,i=u.y,l=u.width,f=u.height,v=u.getResizeOutlineStyle();return Ii(pd,Vl({fill:"none"},v,{x:c,y:i,width:l,height:f}))},y.prototype.render=function(){return Ii("g",{className:"lf-resize-control"},this.getGroupSolid(),this.getResizeControl())},y}(Vo),xb=globalThis&&globalThis.__extends||function(){var g=function(y,u){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,i){c.__proto__=i}||function(c,i){for(var l in i)i.hasOwnProperty(l)&&(c[l]=i[l])},g(y,u)};return function(y,u){g(y,u);function c(){this.constructor=y}y.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}(),eR=function(g){xb(y,g);function y(u,c){var i=g.call(this,u,c)||this,l=i.properties.nodeSize;return l&&(i.width=l.width,i.height=l.height),i}return y.prototype.initNodeData=function(u){g.prototype.initNodeData.call(this,u),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3},y.prototype.getOutlineStyle=function(){var u=g.prototype.getOutlineStyle.call(this);return u.stroke="none",u.hover&&(u.hover.stroke="none"),u},y.prototype.getResizeOutlineStyle=function(){return{fill:"none",stroke:"transparent",strokeWidth:1,strokeDasharray:"3,3"}},y.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},y.prototype.resize=function(u,c){},y}(Ke.exports.RectNodeModel),tR=function(g){xb(y,g);function y(){return g!==null&&g.apply(this,arguments)||this}return y.prototype.getControlGroup=function(){var u=this.props,c=u.model,i=u.graphModel;return Ke.exports.h(Zl,{model:c,graphModel:i})},y.prototype.getResizeShape=function(){return g.prototype.getShape.call(this)},y.prototype.getShape=function(){var u=this.props.model.isSelected;return Ke.exports.h("g",null,this.getResizeShape(),u?this.getControlGroup():"")},y}(Ke.exports.RectNode),Sb={type:"rect",view:tR,model:eR},Ab=globalThis&&globalThis.__extends||function(){var g=function(y,u){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,i){c.__proto__=i}||function(c,i){for(var l in i)i.hasOwnProperty(l)&&(c[l]=i[l])},g(y,u)};return function(y,u){g(y,u);function c(){this.constructor=y}y.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}();(function(g){Ab(y,g);function y(u,c){var i=g.call(this,u,c)||this,l=i.properties.nodeSize;return l&&(i.rx=l.rx,i.ry=l.ry),i}return y.prototype.initNodeData=function(u){g.prototype.initNodeData.call(this,u),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3},y.prototype.getOutlineStyle=function(){var u=g.prototype.getOutlineStyle.call(this);return u.stroke="none",u.hover&&(u.hover.stroke="none"),u},y.prototype.getResizeOutlineStyle=function(){return{stroke:"#000000",strokeWidth:1,strokeDasharray:"3,3"}},y.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},y})(Ke.exports.EllipseNodeModel);(function(g){Ab(y,g);function y(){return g!==null&&g.apply(this,arguments)||this}return y.prototype.getControlGroup=function(){var u=this.props,c=u.model,i=u.graphModel;return Ke.exports.h(Zl,{model:c,graphModel:i})},y.prototype.getResizeShape=function(){return g.prototype.getShape.call(this)},y.prototype.getShape=function(){var u=this.props.model;return Ke.exports.h("g",null,this.getResizeShape(),u.isSelected?this.getControlGroup():"")},y})(Ke.exports.EllipseNode);var ad=globalThis&&globalThis.__assign||function(){return ad=Object.assign||function(g){for(var y,u=1,c=arguments.length;u<c;u++){y=arguments[u];for(var i in y)Object.prototype.hasOwnProperty.call(y,i)&&(g[i]=y[i])}return g},ad.apply(this,arguments)};function rR(g){var y=g.fillOpacity,u=y===void 0?1:y,c=g.strokeWidth,i=c===void 0?1:c,l=g.strokeOpacity,f=l===void 0?1:l,v=g.fill,b=v===void 0?"transparent":v,E=g.stroke,S=E===void 0?"#000":E,A=g.points,w=g.className,T=w===void 0?"lf-basic-shape":w,C={fill:b,fillOpacity:u,strokeWidth:i,stroke:S,strokeOpacity:f,points:"",className:T};return C.points=A.map(function(j){return j.join(",")}).join(" "),Ke.exports.h("polygon",ad({},C))}var Pb=globalThis&&globalThis.__extends||function(){var g=function(y,u){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,i){c.__proto__=i}||function(c,i){for(var l in i)i.hasOwnProperty(l)&&(c[l]=i[l])},g(y,u)};return function(y,u){g(y,u);function c(){this.constructor=y}y.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}(),ud=globalThis&&globalThis.__assign||function(){return ud=Object.assign||function(g){for(var y,u=1,c=arguments.length;u<c;u++){y=arguments[u];for(var i in y)Object.prototype.hasOwnProperty.call(y,i)&&(g[i]=y[i])}return g},ud.apply(this,arguments)};(function(g){Pb(y,g);function y(u,c){var i=g.call(this,u,c)||this,l=i.properties.nodeSize;return l&&(i.rx=l.rx,i.ry=l.ry),i}return y.prototype.initNodeData=function(u){g.prototype.initNodeData.call(this,u),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3,this.gridSize=1},y.prototype.getOutlineStyle=function(){var u=g.prototype.getOutlineStyle.call(this);return u.stroke="none",u.hover&&(u.hover.stroke="none"),u},y.prototype.getResizeOutlineStyle=function(){return{stroke:"#000000",strokeWidth:1,strokeDasharray:"3,3"}},y.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},y})(Ke.exports.DiamondNodeModel);(function(g){Pb(y,g);function y(){return g!==null&&g.apply(this,arguments)||this}return y.prototype.getControlGroup=function(){var u=this.props,c=u.model,i=u.graphModel;return Ke.exports.h(Zl,{model:c,graphModel:i})},y.prototype.getResizeShape=function(){var u=this.props.model,c=u.points,i=u.getNodeStyle();return Ke.exports.h("g",null,Ke.exports.h(rR,ud({},i,{points:c})))},y.prototype.getShape=function(){var u=this.props.model.isSelected;return Ke.exports.h("g",null,this.getResizeShape(),u?this.getControlGroup():"")},y})(Ke.exports.DiamondNode);var Tb=globalThis&&globalThis.__extends||function(){var g=function(y,u){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,i){c.__proto__=i}||function(c,i){for(var l in i)i.hasOwnProperty(l)&&(c[l]=i[l])},g(y,u)};return function(y,u){g(y,u);function c(){this.constructor=y}y.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}();(function(g){Tb(y,g);function y(u,c){var i=g.call(this,u,c)||this,l=i.properties.nodeSize;return l&&(i.width=l.width,i.height=l.height),i}return y.prototype.initNodeData=function(u){g.prototype.initNodeData.call(this,u),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3},y.prototype.getOutlineStyle=function(){var u=g.prototype.getOutlineStyle.call(this);return u.stroke="none",u.hover&&(u.hover.stroke="none"),u},y.prototype.getResizeOutlineStyle=function(){return{stroke:"#000000",strokeWidth:1,strokeDasharray:"3,3"}},y.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},y})(Ke.exports.HtmlNodeModel);(function(g){Tb(y,g);function y(){return g!==null&&g.apply(this,arguments)||this}return y.prototype.getControlGroup=function(){var u=this.props,c=u.model,i=u.graphModel;return Ke.exports.h(Zl,{model:c,graphModel:i})},y.prototype.getResizeShape=function(){return g.prototype.getShape.call(this)},y.prototype.getShape=function(){var u=this.props.model.isSelected;return Ke.exports.h("g",null,this.getResizeShape(),u?this.getControlGroup():"")},y})(Ke.exports.HtmlNode);var wb=globalThis&&globalThis.__extends||function(){var g=function(y,u){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,i){c.__proto__=i}||function(c,i){for(var l in i)i.hasOwnProperty(l)&&(c[l]=i[l])},g(y,u)};return function(y,u){g(y,u);function c(){this.constructor=y}y.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}(),Ql=globalThis&&globalThis.__assign||function(){return Ql=Object.assign||function(g){for(var y,u=1,c=arguments.length;u<c;u++){y=arguments[u];for(var i in y)Object.prototype.hasOwnProperty.call(y,i)&&(g[i]=y[i])}return g},Ql.apply(this,arguments)},nR=globalThis&&globalThis.__read||function(g,y){var u=typeof Symbol=="function"&&g[Symbol.iterator];if(!u)return g;var c=u.call(g),i,l=[],f;try{for(;(y===void 0||y-- >0)&&!(i=c.next()).done;)l.push(i.value)}catch(v){f={error:v}}finally{try{i&&!i.done&&(u=c.return)&&u.call(c)}finally{if(f)throw f.error}}return l},Qm=globalThis&&globalThis.__spread||function(){for(var g=[],y=0;y<arguments.length;y++)g=g.concat(nR(arguments[y]));return g},Jm=500,Zm=300;(function(g){wb(y,g);function y(){var u=g!==null&&g.apply(this,arguments)||this;return u.isGroup=!0,u.unfoldedWidth=Jm,u.unfoldedHight=Zm,u}return y.prototype.initNodeData=function(u){var c=this;g.prototype.initNodeData.call(this,u);var i=[];Array.isArray(u.children)&&(i=u.children),this.children=new Set(i),this.width=Jm,this.height=Zm,this.foldedWidth=80,this.foldedHeight=60,this.zIndex=-1,this.radius=0,this.text.editable=!1,this.text.draggable=!1,this.isRestrict=!1,this.resizable=!1,this.autoToFront=!1,this.foldable=!1,this.properties.isFolded===void 0&&(this.properties.isFolded=!1),this.isFolded=this.properties.isFolded,setTimeout(function(){c.isFolded&&c.foldGroup(c.isFolded)})},y.prototype.getResizeOutlineStyle=function(){var u=g.prototype.getResizeOutlineStyle.call(this);return u.stroke="none",u},y.prototype.foldGroup=function(u){var c=this;this.setProperty("isFolded",u),this.isFolded=u,u?(this.x=this.x-this.width/2+this.foldedWidth/2,this.y=this.y-this.height/2+this.foldedHeight/2,this.unfoldedWidth=this.width,this.unfoldedHight=this.height,this.width=this.foldedWidth,this.height=this.foldedHeight):(this.width=this.unfoldedWidth,this.height=this.unfoldedHight,this.x=this.x+this.width/2-this.foldedWidth/2,this.y=this.y+this.height/2-this.foldedHeight/2);var i=this.incoming.edges.concat(this.outgoing.edges);this.children.forEach(function(l){var f=c.graphModel.getElement(l);f.visible=!u,i=i.concat(f.incoming.edges.concat(f.outgoing.edges))}),this.foldEdge(u,i)},y.prototype.getAnchorStyle=function(u){var c=g.prototype.getAnchorStyle.call(this,u);return c.stroke="transparent",c.fill="transparent",c.hover.fill="transparent",c.hover.stroke="transparent",c},y.prototype.foldEdge=function(u,c){var i=this;c.forEach(function(l,f){var v=l.id,b=l.sourceNodeId,E=l.targetNodeId,S=l.startPoint,A=l.endPoint,w=l.type,T=l.properties,C=l.text,j={id:v+"__"+f,sourceNodeId:b,targetNodeId:E,startPoint:S,endPoint:A,type:w,properties:T,text:C==null?void 0:C.value};l.virtual&&i.graphModel.deleteEdgeById(l.id);var L=i.graphModel.group.getNodeGroup(E);L||(L=i.graphModel.getNodeModelById(E));var k=i.graphModel.group.getNodeGroup(b);k||(k=i.graphModel.getNodeModelById(b)),u&&l.visible!==!1&&(i.children.has(b)||i.id===b?(j.startPoint=void 0,j.sourceNodeId=i.id):(j.endPoint=void 0,j.targetNodeId=i.id),(L.id!==i.id||k.id!==i.id)&&i.createVirtualEdge(j),l.visible=!1),!u&&l.visible===!1&&(L&&L.isGroup&&L.isFolded?(j.targetNodeId=L.id,j.endPoint=void 0,i.createVirtualEdge(j)):k&&k.isGroup&&k.isFolded?(j.sourceNodeId=k.id,j.startPoint=void 0,i.createVirtualEdge(j)):l.visible=!0)})},y.prototype.createVirtualEdge=function(u){u.pointsList=void 0;var c=this.graphModel.addEdge(u);c.virtual=!0,c.getData=function(){return null},c.text.editable=!1,c.isFoldedEdge=!0},y.prototype.isInRange=function(u){var c=u.x1,i=u.y1,l=u.x2,f=u.y2;return c>=this.x-this.width/2&&l<=this.x+this.width/2&&i>=this.y-this.height/2&&f<=this.y+this.height/2},y.prototype.isAllowMoveTo=function(u){var c=u.x1,i=u.y1,l=u.x2,f=u.y2;return{x:c>=this.x-this.width/2&&l<=this.x+this.width/2,y:i>=this.y-this.height/2&&f<=this.y+this.height/2}},y.prototype.setAllowAppendChild=function(u){this.setProperty("groupAddable",u)},y.prototype.addChild=function(u){this.children.add(u)},y.prototype.removeChild=function(u){this.children.delete(u)},y.prototype.getAddableOutlineStyle=function(){return{stroke:"#FEB663",strokeWidth:2,strokeDasharray:"4 4",fill:"transparent"}},y.prototype.getData=function(){var u=g.prototype.getData.call(this);u.children=Qm(this.children);var c=u.properties;return delete c.groupAddable,delete c.isFolded,u},y.prototype.getHistoryData=function(){var u=g.prototype.getData.call(this);u.children=Qm(this.children);var c=u.properties;return delete c.groupAddable,c.isFolded&&(u.x=u.x+this.unfoldedWidth/2-this.foldedWidth/2,u.y=u.y+this.unfoldedHight/2-this.foldedHeight/2),u},y})(Sb.model);(function(g){wb(y,g);function y(){return g!==null&&g.apply(this,arguments)||this}return y.prototype.getControlGroup=function(){var u=this.props.model,c=u.resizable,i=u.properties;return c&&!i.isFolded?g.prototype.getControlGroup.call(this):null},y.prototype.getAddedableShape=function(){var u=this.props.model,c=u.width,i=u.height,l=u.x,f=u.y,v=u.radius,b=u.properties;if(!b.groupAddable)return null;var E=this.props.model.getNodeStyle().strokeWidth,S=this.props.model.getAddableOutlineStyle(),A=c+E+8,w=i+E+8;return Ke.exports.h("rect",Ql(Ql({},S),{width:A,height:w,x:l-A/2,y:f-w/2,rx:v,ry:v}))},y.prototype.getFoldIcon=function(){var u=this.props.model,c=u.x-u.width/2+5,i=u.y-u.height/2+5;if(!u.foldable)return null;var l=Ke.exports.h("path",{fill:"none",stroke:"#818281",strokeWidth:2,"pointer-events":"none",d:u.properties.isFolded?"M "+(c+3)+","+(i+6)+" "+(c+11)+","+(i+6)+" M"+(c+7)+","+(i+2)+" "+(c+7)+","+(i+10):"M "+(c+3)+","+(i+6)+" "+(c+11)+","+(i+6)+" "});return Ke.exports.h("g",{},[Ke.exports.h("rect",{height:12,width:14,rx:2,ry:2,strokeWidth:1,fill:"#F4F5F6",stroke:"#CECECE",cursor:"pointer",x:u.x-u.width/2+5,y:u.y-u.height/2+5,onClick:function(){u.foldGroup(!u.properties.isFolded)}}),l])},y.prototype.getResizeShape=function(){return Ke.exports.h("g",{},[this.getAddedableShape(),g.prototype.getResizeShape.call(this),this.getFoldIcon()])},y})(Sb.view);var oR=globalThis&&globalThis.__read||function(g,y){var u=typeof Symbol=="function"&&g[Symbol.iterator];if(!u)return g;var c=u.call(g),i,l=[],f;try{for(;(y===void 0||y-- >0)&&!(i=c.next()).done;)l.push(i.value)}catch(v){f={error:v}}finally{try{i&&!i.done&&(u=c.return)&&u.call(c)}finally{if(f)throw f.error}}return l};globalThis&&globalThis.__spread;var iR=globalThis&&globalThis.__read||function(g,y){var u=typeof Symbol=="function"&&g[Symbol.iterator];if(!u)return g;var c=u.call(g),i,l=[],f;try{for(;(y===void 0||y-- >0)&&!(i=c.next()).done;)l.push(i.value)}catch(v){f={error:v}}finally{try{i&&!i.done&&(u=c.return)&&u.call(c)}finally{if(f)throw f.error}}return l};globalThis&&globalThis.__spread;var $m=globalThis&&globalThis.__assign||function(){return $m=Object.assign||function(g){for(var y,u=1,c=arguments.length;u<c;u++){y=arguments[u];for(var i in y)Object.prototype.hasOwnProperty.call(y,i)&&(g[i]=y[i])}return g},$m.apply(this,arguments)},qm=globalThis&&globalThis.__assign||function(){return qm=Object.assign||function(g){for(var y,u=1,c=arguments.length;u<c;u++){y=arguments[u];for(var i in y)Object.prototype.hasOwnProperty.call(y,i)&&(g[i]=y[i])}return g},qm.apply(this,arguments)},aR=globalThis&&globalThis.__read||function(g,y){var u=typeof Symbol=="function"&&g[Symbol.iterator];if(!u)return g;var c=u.call(g),i,l=[],f;try{for(;(y===void 0||y-- >0)&&!(i=c.next()).done;)l.push(i.value)}catch(v){f={error:v}}finally{try{i&&!i.done&&(u=c.return)&&u.call(c)}finally{if(f)throw f.error}}return l};globalThis&&globalThis.__spread;const uR={SEQUENCE_FLOW:1,START_EVENT:2,END_EVENT:3,USER_TASK:4,SERVICE_TASK:5,EXCLUSIVE_GATEWAY:6};function lR(g){const{incoming:y,outgoing:u,properties:c,key:i}=g,{text:l,startPoint:f,endPoint:v,pointsList:b,logicFlowType:E}=c,S={id:i,type:E,sourceNodeId:y[0],targetNodeId:u[0],text:l,startPoint:f,endPoint:v,pointsList:b,properties:{}},A=["startPoint","endPoint","pointsList","text","logicFlowType"];return Object.keys(g.properties).forEach(w=>{A.indexOf(w)===-1&&(S.properties[w]=g.properties[w])}),S}function sR(g){const{properties:y,key:u}=g,{x:c,y:i,text:l,logicFlowType:f}=y,v={id:u,type:f,x:c,y:i,text:l,properties:{}},b=["x","y","text","logicFlowType"];return Object.keys(g.properties).forEach(E=>{b.indexOf(E)===-1&&(v.properties[E]=g.properties[E])}),v}function fR(g){const y={nodes:[],edges:[]},u=g.flowElementList;return u&&u.length>0&&u.forEach(c=>{if(c.type===uR.SEQUENCE_FLOW){const i=lR(c);y.edges.push(i)}else{const i=sR(c);y.nodes.push(i)}}),y}function cR(g){return[{text:"\u9009\u533A",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAAH6ji2bAAAABGdBTUEAALGPC/xhBQAAAOVJREFUOBGtVMENwzAIjKP++2026ETdpv10iy7WFbqFyyW6GBywLCv5gI+Dw2Bluj1znuSjhb99Gkn6QILDY2imo60p8nsnc9bEo3+QJ+AKHfMdZHnl78wyTnyHZD53Zzx73MRSgYvnqgCUHj6gwdck7Zsp1VOrz0Uz8NbKunzAW+Gu4fYW28bUYutYlzSa7B84Fh7d1kjLwhcSdYAYrdkMQVpsBr5XgDGuXwQfQr0y9zwLda+DUYXLaGKdd2ZTtvbolaO87pdo24hP7ov16N0zArH1ur3iwJpXxm+v7oAJNR4JEP8DoAuSFEkYH7cAAAAASUVORK5CYII=",callback:()=>{g.updateEditConfig({stopMoveGraph:!0})}},{type:"circle",text:"\u5F00\u59CB",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAAH6ji2bAAAABGdBTUEAALGPC/xhBQAAAnBJREFUOBGdVL1rU1EcPfdGBddmaZLiEhdx1MHZQXApraCzQ7GKLgoRBxMfcRELuihWKcXFRcEWF8HBf0DdDCKYRZpnl7p0svLe9Zzbd29eQhTbC8nv+9zf130AT63jvooOGS8Vf9Nt5zxba7sXQwODfkWpkbjTQfCGUd9gIp3uuPP8bZ946g56dYQvnBg+b1HB8VIQmMFrazKcKSvFW2dQTxJnJdQ77urmXWOMBCmXM2Rke4S7UAW+/8ywwFoewmBps2tu7mbTdp8VMOkIRAkKfrVawalJTtIliclFbaOBqa0M2xImHeVIfd/nKAfVq/LGnPss5Kh00VEdSzfwnBXPUpmykNss4lUI9C1ga+8PNrBD5YeqRY2Zz8PhjooIbfJXjowvQJBqkmEkVnktWhwu2SM7SMx7Cj0N9IC0oQXRo8xwAGzQms+xrB/nNSUWVveI48ayrFGyC2+E2C+aWrZHXvOuz+CiV6iycWe1Rd1Q6+QUG07nb5SbPrL4426d+9E1axKjY3AoRrlEeSQo2Eu0T6BWAAr6COhTcWjRaYfKG5csnvytvUr/WY4rrPMB53Uo7jZRjXaG6/CFfNMaXEu75nG47X+oepU7PKJvvzGDY1YLSKHJrK7vFUwXKkaxwhCW3u+sDFMVrIju54RYYbFKpALZAo7sB6wcKyyrd+aBMryMT2gPyD6GsQoRFkGHr14TthZni9ck0z+Pnmee460mHXbRAypKNy3nuMdrWgVKj8YVV8E7PSzp1BZ9SJnJAsXdryw/h5ctboUVi4AFiCd+lQaYMw5z3LGTBKjLQOeUF35k89f58Vv/tGh+l+PE/wG0rgfIUbZK5AAAAABJRU5ErkJggg=="},{type:"rect",text:"\u7528\u6237\u4EFB\u52A1",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAYAAAEFVwZaAAAABGdBTUEAALGPC/xhBQAAAqlJREFUOBF9VM9rE0EUfrMJNUKLihGbpLGtaCOIR8VjQMGDePCgCCIiCNqzCAp2MyYUCXhUtF5E0D+g1t48qAd7CCLqQUQKEWkStcEfVGlLdp/fm3aW2QQdyLzf33zz5m2IsAZ9XhDpyaaIZkTS4ASzK41TFao88GuJ3hsr2pAbipHxuSYyKRugagICGANkfFnNh3HeE2N0b3nN2cgnpcictw5veJIzxmDamSlxxQZicq/mflxhbaH8BLRbuRwNtZp0JAhoplVRUdzmCe/vO27wFuuA3S5qXruGdboy5/PRGFsbFGKo/haRtQHIrM83bVeTrOgNhZReWaYGnE4aUQgTJNvijJFF4jQ8BxJE5xfKatZWmZcTQ+BVgh7s8SgPlCkcec4mGTmieTP4xd7PcpIEg1TX6gdeLW8rTVMVLVvb7ctXoH0Cydl2QOPJBG21STE5OsnbweVYzAnD3A7PVILuY0yiiyDwSm2g441r6rMSgp6iK42yqroI2QoXeJVeA+YeZSa47gZdXaZWQKTrG93rukk/l2Al6Kzh5AZEl7dDQy+JjgFahQjRopSxPbrbvK7GRe9ePWBo1wcU7sYrFZtavXALwGw/7Dnc50urrHJuTPSoO2IMV3gUQGNg87IbSOIY9BpiT9HV7FCZ94nPXb3MSnwHn/FFFE1vG6DTby+r31KAkUktB3Qf6ikUPWxW1BkXSPQeMHHiW0+HAd2GelJsZz1OJegCxqzl+CLVHa/IibuHeJ1HAKzhuDR+ymNaRFM+4jU6UWKXorRmbyqkq/D76FffevwdCp+jN3UAN/C9JRVTDuOxC/oh+EdMnqIOrlYteKSfadVRGLJFJPSB/ti/6K8f0CNymg/iH2gO/f0DwE0yjAFO6l8JaR5j0VPwPwfaYHqOqrCI319WzwhwzNW/aQAAAABJRU5ErkJggg==",cls:"important-node"},{type:"rect",text:"\u7CFB\u7EDF\u4EFB\u52A1",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAYAAAEFVwZaAAAABGdBTUEAALGPC/xhBQAAAqlJREFUOBF9VM9rE0EUfrMJNUKLihGbpLGtaCOIR8VjQMGDePCgCCIiCNqzCAp2MyYUCXhUtF5E0D+g1t48qAd7CCLqQUQKEWkStcEfVGlLdp/fm3aW2QQdyLzf33zz5m2IsAZ9XhDpyaaIZkTS4ASzK41TFao88GuJ3hsr2pAbipHxuSYyKRugagICGANkfFnNh3HeE2N0b3nN2cgnpcictw5veJIzxmDamSlxxQZicq/mflxhbaH8BLRbuRwNtZp0JAhoplVRUdzmCe/vO27wFuuA3S5qXruGdboy5/PRGFsbFGKo/haRtQHIrM83bVeTrOgNhZReWaYGnE4aUQgTJNvijJFF4jQ8BxJE5xfKatZWmZcTQ+BVgh7s8SgPlCkcec4mGTmieTP4xd7PcpIEg1TX6gdeLW8rTVMVLVvb7ctXoH0Cydl2QOPJBG21STE5OsnbweVYzAnD3A7PVILuY0yiiyDwSm2g441r6rMSgp6iK42yqroI2QoXeJVeA+YeZSa47gZdXaZWQKTrG93rukk/l2Al6Kzh5AZEl7dDQy+JjgFahQjRopSxPbrbvK7GRe9ePWBo1wcU7sYrFZtavXALwGw/7Dnc50urrHJuTPSoO2IMV3gUQGNg87IbSOIY9BpiT9HV7FCZ94nPXb3MSnwHn/FFFE1vG6DTby+r31KAkUktB3Qf6ikUPWxW1BkXSPQeMHHiW0+HAd2GelJsZz1OJegCxqzl+CLVHa/IibuHeJ1HAKzhuDR+ymNaRFM+4jU6UWKXorRmbyqkq/D76FffevwdCp+jN3UAN/C9JRVTDuOxC/oh+EdMnqIOrlYteKSfadVRGLJFJPSB/ti/6K8f0CNymg/iH2gO/f0DwE0yjAFO6l8JaR5j0VPwPwfaYHqOqrCI319WzwhwzNW/aQAAAABJRU5ErkJggg==",cls:"import_icon"},{type:"diamond",text:"\u6761\u4EF6\u5224\u65AD",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAVCAYAAAHeEJUAAAAABGdBTUEAALGPC/xhBQAAAvVJREFUOBGNVEFrE0EU/mY3bQoiFlOkaUJrQUQoWMGePLX24EH0IIoHKQiCV0G8iE1covgLiqA/QTzVm1JPogc9tIJYFaQtlhQxqYjSpunu+L7JvmUTU3AgmTfvffPNN++9WSA1DO182f6xwILzD5btfAoQmwL5KJEwiQyVbSVZ0IgRyV6PTpIJ81E5ZvqfHQR0HUOBHW4L5Et2kQ6Zf7iAOhTFAA8s0pEP7AXO1uAA52SbqGk6h/6J45LaLhO64ByfcUzM39V7ZiAdS2yCePPEIQYvTUHqM/n7dgQNfBKWPjpF4ISk8q3J4nB11qw6X8l+FsF3EhlkEMfrjIer3wJTLwS2aCNcj4DbGxXTw00JmAuO+Ni6bBxVUCvS5d9aa04+so4pHW5jLTywuXAL7jJ+D06sl82Sgl2JuVBQn498zkc2bGKxULHjCnSMadBKYDYYHAtsby1EQ5lNGrQd4Y3v4Zo0XdGEmDno46yCM9Tk+RiJmUYHS/aXHPNTcjxcbTFna000PFJHIVZ5lFRqRpJWk9/+QtlOUYJj9HG5pVFEU7zqIYDVsw2s+AJaD8wTd2umgSCCyUxgGsS1Y6TBwXQQTFuZaHcd8gAGioE90hlsY+wMcs30RduYtxanjMGal8H5dMW67dmT1JFtYUEe8LiQLRsPZ6IIc7A4J5tqco3T0pnv/4u0kyzrYUq7gASuEyI8VXKvB9Odytv6jS/PNaZBln0nioJG/AVQRZvApOdhjj3Jt8QC8Im09SafwdBdvIpztpxWxpeKCC+EsFdS8DCyuCn2munFpL7ctHKp+Xc5cMybeIyMAN33SPL3ZR9QV1XVwLyzHm6Iv0/yeUuUb7PPlZC4D4HZkeu6dpF4v9j9MreGtMbxMMRLIcjJic9yHi7WQ3yVKzZVWUr5UrViJvn1FfUlwe/KYVfYyWRLSGNu16hR01U9IacajXPei0wx/5BqgInvJN+MMNtNme7ReU9SBbgntovn0kKHpFg7UogZvaZiOue/q1SBo9ktHzQAAAAASUVORK5CYII="},{type:"circle",text:"\u7ED3\u675F",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAAH6ji2bAAAABGdBTUEAALGPC/xhBQAAA1BJREFUOBFtVE1IVUEYPXOf+tq40Y3vPcmFIdSjIorWoRG0ERWUgnb5FwVhYQSl72oUoZAboxKNFtWiwKRN0M+jpfSzqJAQclHo001tKkjl3emc8V69igP3znzfnO/M9zcDcKT67azmjYWTwl9Vn7Vumeqzj1DVb6cleQY4oAVnIOPb+mKAGxQmKI5CWNJ2aLPatxWa3aB9K7/fB+/Z0jUF6TmMlFLQqrkECWQzOZxYGjTlOl8eeKaIY5yHnFn486xBustDjWT6dG7pmjHOJd+33t0iitTPkK6tEvjxq4h2MozQ6WFSX/LkDUGfFwfhEZj1Auz/U4pyAi5Sznd7uKzznXeVHlI/Aywmk6j7fsUsEuCGADrWARXXwjxWQsUbIupDHJI7kF5dRktg0eN81IbiZXiTESic50iwS+t1oJgL83jAiBupLDCQqwziaWSoAFSeIR3P5Xv5az00wyIn35QRYTwdSYbz8pH8fxUUAtxnFvYmEmgI0wYXUXcCCSpeEVpXlsRhBnCEATxWylL9+EKCAYhe1NGstUa6356kS9NVvt3DU2fd+Wtbm/+lSbylJqsqkSm9CRhvoJVlvKPvF1RKY/FcPn5j4UfIMLn8D4UYb54BNsilTDXKnF4CfTobA0FpoW/LSp306wkXM+XaOJhZaFkcNM82ASNAWMrhrUbRfmyeI1FvRBTpN06WKxa9BK0o2E4Pd3zfBBEwPsv9sQBnmLVbLEIZ/Xe9LYwJu/Er17W6HYVBc7vmuk0xUQ+pqxdom5Fnp55SiytXLPYoMXNM4u4SNSCFWnrVIzKG3EGyMXo6n/BQOe+bX3FClY4PwydVhthOZ9NnS+ntiLh0fxtlUJHAuGaFoVmttpVMeum0p3WEXbcll94l1wM/gZ0Ccczop77VvN2I7TlsZCsuXf1WHvWEhjO8DPtyOVg2/mvK9QqboEth+7pD6NUQC1HN/TwvydGBARi9MZSzLE4b8Ru3XhX2PBxf8E1er2A6516o0w4sIA+lwURhAON82Kwe2iDAC1Watq4XHaGQ7skLcFOtI5lDxuM2gZe6WFIotPAhbaeYlU4to5cuarF1QrcZ/lwrLaCJl66JBocYZnrNlvm2+MBCTmUymPrYZVbjdlr/BxlMjmNmNI3SAAAAAElFTkSuQmCC"}]}const dR=eb({name:"FlowChart",components:{BasicModal:$I,FlowChartToolbar:uj,JsonPreview:ej},props:{flowOptions:{type:Object,default:()=>({})},data:{type:Object,default:()=>({})},toolbar:{type:Boolean,default:!0},patternItems:{type:Array}},setup(g){const y=_l(null),u=_l({}),c=_l(null),{prefixCls:i}=XI("flow-chart"),l=WI(),[f,{openModal:v}]=qI();rj({logicFlow:c});const b=KI(()=>{const{flowOptions:w}=g;return td({grid:!0,background:{color:l.getDarkMode==="light"?"#f7f9ff":"#151515"},keyboard:{enabled:!0}},w)});Mm(()=>g.data,()=>{S()}),Mm(()=>sr(b),w=>{var T;(T=sr(c))==null||T.updateEditConfig(w)});function E(){return Fl(this,null,function*(){yield rd();const w=sr(y);if(!w)return;Wo.use(Hj),Wo.use(Cj),Wo.use(Dj),Wo.use(Uj),Wo.use(Yj),c.value=new Wo(Tm(td({},sr(b)),{container:w}));const T=sr(c);T==null||T.setDefaultEdgeType("line"),S(),T==null||T.setPatternItems(g.patternItems||cR(T))})}function S(){return Fl(this,null,function*(){yield rd();const w=sr(c);if(!w)return;const T=fR(g.data);w.render(T)})}function A(){const w=sr(c);!w||(u.value=sr(w).getGraphData(),v())}return VI(E),{register:f,prefixCls:i,lfElRef:y,handlePreview:A,graphData:u}}}),pR={ref:"lfElRef",class:"h-full"};function hR(g,y,u,c,i,l){const f=Gn("FlowChartToolbar"),v=Gn("JsonPreview"),b=Gn("BasicModal");return _n(),Ni("div",{class:kl(["h-full",g.prefixCls])},[g.toolbar?(_n(),sd(f,{key:0,prefixCls:g.prefixCls,onViewData:g.handlePreview},null,8,["prefixCls","onViewData"])):nd("",!0),QI("div",pR,null,512),Ri(b,{onRegister:g.register,title:"\u6D41\u7A0B\u6570\u636E",width:"50%"},{default:Hl(()=>[Ri(v,{data:g.graphData},null,8,["data"])]),_:1},8,["onRegister"])],2)}var yR=ld(dR,[["render",hR]]);const vR=JI(yR),gR=[{incoming:[],outgoing:["Flow_33inf2k"],dockers:[],type:2,properties:{a:"efrwe",b:"wewe",name:"\u5F00\u59CB",x:280,y:200,text:{x:280,y:200,value:"\u5F00\u59CB"},logicFlowType:"bpmn:startEvent"},key:"Event_1d42u4p"},{incoming:["Flow_379e0o9"],outgoing:[],dockers:[],type:3,properties:{a:"efrwe",b:"wewe",name:"\u7ED3\u675F",x:920,y:200,text:{x:920,y:200,value:"\u7ED3\u675F"},logicFlowType:"bpmn:endEvent"},key:"Event_08p8i6q"},{incoming:["Flow_0pfouf0"],outgoing:["Flow_3918lhh"],dockers:[],type:6,properties:{a:"efrwe",b:"wewe",name:"\u7F51\u5173",x:580,y:200,text:{x:580,y:200,value:"\u7F51\u5173"},logicFlowType:"bpmn:exclusiveGateway"},key:"Gateway_1fngqgj"},{incoming:["Flow_33inf2k"],outgoing:["Flow_0pfouf0"],dockers:[],type:4,properties:{a:"efrwe",b:"wewe",name:"\u7528\u6237",x:420,y:200,text:{x:420,y:200,value:"\u7528\u6237"},logicFlowType:"bpmn:userTask"},key:"Activity_2mgtaia"},{incoming:["Flow_3918lhh"],outgoing:["Flow_379e0o9"],dockers:[],type:5,properties:{a:"efrwe",b:"wewe",name:"\u670D\u52A1",x:760,y:200,text:{x:760,y:200,value:"\u670D\u52A1"},logicFlowType:"bpmn:serviceTask"},key:"Activity_1sp8qc8"},{incoming:["Event_1d42u4p"],outgoing:["Activity_2mgtaia"],type:1,dockers:[],properties:{name:"\u8FB9",text:{x:331,y:200,value:"\u8FB9"},startPoint:{x:298,y:200},endPoint:{x:370,y:200},pointsList:[{x:298,y:200},{x:370,y:200}],logicFlowType:"bpmn:sequenceFlow"},key:"Flow_33inf2k"},{incoming:["Activity_2mgtaia"],outgoing:["Gateway_1fngqgj"],type:1,dockers:[],properties:{name:"\u8FB92",text:{x:507,y:200,value:"\u8FB92"},startPoint:{x:470,y:200},endPoint:{x:555,y:200},pointsList:[{x:470,y:200},{x:555,y:200}],logicFlowType:"bpmn:sequenceFlow"},key:"Flow_0pfouf0"},{incoming:["Gateway_1fngqgj"],outgoing:["Activity_1sp8qc8"],type:1,dockers:[],properties:{name:"\u8FB93",text:{x:664,y:200,value:"\u8FB93"},startPoint:{x:605,y:200},endPoint:{x:710,y:200},pointsList:[{x:605,y:200},{x:710,y:200}],logicFlowType:"bpmn:sequenceFlow"},key:"Flow_3918lhh"},{incoming:["Activity_1sp8qc8"],outgoing:["Event_08p8i6q"],type:1,dockers:[],properties:{name:"\u8FB94",text:{x:871,y:200,value:"\u8FB94"},startPoint:{x:810,y:200},endPoint:{x:902,y:200},pointsList:[{x:810,y:200},{x:902,y:200}],logicFlowType:"bpmn:sequenceFlow"},key:"Flow_379e0o9"}];var mR={flowElementList:gR};const bR={components:{FlowChart:vR,PageWrapper:tj},setup(){return{demoData:mR}}};function OR(g,y,u,c,i,l){const f=Gn("FlowChart"),v=Gn("PageWrapper");return _n(),sd(v,{title:"\u6D41\u7A0B\u56FE",content:"\u7B80\u5355\u6D41\u7A0B\u56FE\u793A\u4F8B,\u5177\u4F53\u529F\u80FD\u9700\u8981\u81EA\u5DF1\u5B8C\u5584",contentFullHeight:"",fixedHeight:""},{default:Hl(()=>[Ri(f,{data:c.demoData},null,8,["data"])]),_:1})}var zR=ld(bR,[["render",OR]]);export{zR as default};
